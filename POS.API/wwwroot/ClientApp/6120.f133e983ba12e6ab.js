"use strict";(self.webpackChunkposadminportal=self.webpackChunkposadminportal||[]).push([[6120],{6120:(D,h,a)=>{a.r(h),a.d(h,{SalesPurchaseReportModule:()=>b});var i=a(2554),m=a(7018),e=a(5e3),g=a(7221),v=a(520),S=a(8032);let C=(()=>{class t{constructor(o,r){this.httpClient=o,this.commonHttpErrorService=r}getSalesVsPurchaseReport(o,r){return this.httpClient.get(`dashboard/salesvspurchase/${o}/${r}`).pipe((0,g.K)(this.commonHttpErrorService.handleError))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(v.eN),e.LFG(S.U))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=a(8017),c=a(3075),u=a(4829),d=a(9808),f=a(1062);function R(t,s){if(1&t&&(e.TgZ(0,"option",12),e._uU(1),e.qZA()),2&t){const o=s.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.name," ")}}function P(t,s){if(1&t&&(e.TgZ(0,"option",12),e._uU(1),e.qZA()),2&t){const o=s.$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",o," ")}}const Z=[{path:"",component:(()=>{class t{constructor(o,r){this.salesPurchaseReportService=o,this.uTCToLocalTime=r,this.months=m.z,this.years=[],this.barChartLabels=[],this.barChartData=[],this.selectedMonth=(new Date).getMonth()+1,this.selectedYear=(new Date).getFullYear(),this.barChartOptions={responsive:!0},this.lineChartColors=[{backgroundColor:"#2196f3"}]}ngOnInit(){for(let o=1995;o<2050;o++)this.years.push(o);this.getReportData()}getReportData(){this.salesPurchaseReportService.getSalesVsPurchaseReport(this.selectedMonth,this.selectedYear).subscribe(o=>{const r=o.map(n=>n.totalSales),l=o.map(n=>n.totalPurchase);this.barChartData=[{data:r,label:"Sales"},{data:l,label:"Purchase"}],this.barChartLabels=o.map(n=>this.uTCToLocalTime.transform(n.date,"shortDate"))})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(C),e.Y36(p.M))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-sales-purchase-report"]],decls:23,vars:18,consts:[[1,"page-header-main","mt-2"],[1,"row","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto"],[1,"content-header"],[1,"form-inline","mr-5"],[1,"form-group"],[1,"mr-2","font-weight-bold"],[1,"form-control","mr-3",3,"ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control",3,"ngModel","change","ngModelChange"],[2,"display","block"],["baseChart","","chartType","bar",3,"datasets","labels","options","legend","colors"],[3,"value"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"div",2)(8,"div",4)(9,"div",5)(10,"label",6),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"select",7),e.NdJ("change",function(){return r.getReportData()})("ngModelChange",function(n){return r.selectedMonth=n}),e.YNc(14,R,2,2,"option",8),e.qZA()(),e.TgZ(15,"div",5)(16,"label",6),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"select",9),e.NdJ("change",function(){return r.getReportData()})("ngModelChange",function(n){return r.selectedYear=n}),e.YNc(20,P,2,2,"option",8),e.qZA()()()()()(),e.TgZ(21,"div",10),e._UZ(22,"canvas",11),e.qZA()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,12,"SALES_VS_PURCHASE_REPORT")),e.xp6(6),e.hij(" ",e.lcZ(12,14,"MONTH"),":"),e.xp6(2),e.Q6J("ngModel",r.selectedMonth),e.xp6(1),e.Q6J("ngForOf",r.months),e.xp6(3),e.hij(" ",e.lcZ(18,16,"YEAR"),":"),e.xp6(2),e.Q6J("ngModel",r.selectedYear),e.xp6(1),e.Q6J("ngForOf",r.years),e.xp6(2),e.Q6J("datasets",r.barChartData)("labels",r.barChartLabels)("options",r.barChartOptions)("legend",!0)("colors",r.lineChartColors))},dependencies:[c.YN,c.Kr,c.EJ,c.JJ,c.On,u.jh,d.sg,f.X$]}),t})(),data:{claimType:"REP_SALES_VS_PURCHASE_REP"},canActivate:[a(319).a]}];let A=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[i.Bz.forChild(Z),i.Bz]}),t})();var y=a(7108),J=a(773),E=a(9224),L=a(7423),Y=a(5245),F=a(2181);let b=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.M],imports:[A,c.u5,y.m,u.m9,d.ez,J.Cq,E.QW,L.ot,Y.Ps,F.Tx]}),t})()}}]);
"use strict";(self.webpackChunkposadminportal=self.webpackChunkposadminportal||[]).push([[6830],{6830:(W,y,s)=>{s.r(y),s.d(y,{CountryModule:()=>B});var u=s(9808),c=s(3075),r=s(2075),f=s(773),m=s(2349),b=s(7108),A=s(9224),d=s(6087),N=s(2868),p=s(1490),t=s(5e3),h=s(8978),g=s(2290),C=s(6107),v=s(9785),T=s(1062);function S(n,i){1&n&&(t.TgZ(0,"div",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"COUNTRY_NAME_IS_REQUIRED.")," "))}function x(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,S,3,3,"div",22),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.countryForm.get("countryName").touched&&(null==e.countryForm.get("countryName").errors?null:e.countryForm.get("countryName").errors.required))}}function L(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.saveCountry())}),t._UZ(1,"i",25),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"SAVE")," "))}let U=(()=>{class n extends p.H{constructor(e,o,a,l,q,Z){super(Z),this.dialogRef=e,this.data=o,this.countryService=a,this.toastrService=l,this.fb=q,this.translationService=Z,this.isEdit=!1}ngOnInit(){this.createForm(),this.data.id&&(this.countryForm.patchValue(this.data),this.isEdit=!0)}createForm(){this.countryForm=this.fb.group({id:[""],countryName:["",c.kI.required]})}onCancel(){this.dialogRef.close()}saveCountry(){if(!this.countryForm.valid)return void this.countryForm.markAllAsTouched();const e=this.countryForm.value;this.data.id?this.countryService.update(e).subscribe(()=>{this.toastrService.success(this.translationService.getValue("COUNTRY_SAVED_SUCCESSFULLY")),this.dialogRef.close()}):this.countryService.add(e).subscribe(()=>{this.toastrService.success(this.translationService.getValue("COUNTRY_SAVED_SUCCESSFULLY")),this.dialogRef.close()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.so),t.Y36(m.WI),t.Y36(h.T),t.Y36(g._W),t.Y36(c.QS),t.Y36(C.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-manage-country"]],features:[t.qOj],decls:28,vars:12,consts:[[1,"modal-content1"],[1,"modal-header"],[1,"d-flex","w-100","align-items-center","justify-content-between"],[1,"col-md-9","col"],[1,"modal-title"],[1,"col-sm-auto","col-auto","ml-auto"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"fas","fa-times"],[3,"formGroup"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","countryName",1,"text-danger"],["formControlName","countryName","type","text","id","countryName",1,"form-control"],[4,"ngIf"],[1,"modal-footer"],[1,"form-row","w-100"],[1,"col-md-auto","col-auto"],["class","btn btn-success btn-sm m-right-10","cdkFocusInitial","",3,"click",4,"hasClaim"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-times-circle"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["cdkFocusInitial","",1,"btn","btn-success","btn-sm","m-right-10",3,"click"],[1,"fas","fa-save"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return o.onCancel()}),t._UZ(9,"i",7),t.qZA()()()(),t.TgZ(10,"form",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),t._uU(16),t.ALo(17,"translate"),t.qZA(),t._UZ(18,"input",14),t.YNc(19,x,2,1,"div",15),t.qZA()()()(),t.TgZ(20,"div",16)(21,"div",17)(22,"div",18),t.YNc(23,L,4,3,"button",19),t.TgZ(24,"button",20),t.NdJ("click",function(){return o.onCancel()}),t._UZ(25,"i",21),t._uU(26),t.ALo(27,"translate"),t.qZA()()()()()()),2&e&&(t.xp6(5),t.hij(" ",t.lcZ(6,6,"MANAGE_COUNTRY")," "),t.xp6(5),t.Q6J("formGroup",o.countryForm),t.xp6(6),t.hij(" ",t.lcZ(17,8,"COUNTRY_NAME")," *"),t.xp6(3),t.Q6J("ngIf",o.countryForm.get("countryName").touched&&o.countryForm.get("countryName").errors),t.xp6(4),t.Q6J("hasClaim","SETT_MANAGE_COUNTRY"),t.xp6(3),t.hij(" ",t.lcZ(27,10,"CANCEL")," "))},dependencies:[u.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,v.d,T.X$]}),n})();var Y=s(5485),E=s(226);function D(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",17)(1,"button",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.manageCountry({}))}),t._UZ(2,"i",19),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"ADD_COUNTRY")," "))}function R(n,i){1&n&&(t.TgZ(0,"div",20),t._UZ(1,"mat-spinner"),t.qZA())}function M(n,i){1&n&&(t.TgZ(0,"th",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ACTION")," "))}function O(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,l=t.oxw();return t.KtG(l.manageCountry(a))}),t._UZ(1,"i",26),t.TgZ(2,"span",27),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"EDIT"),""))}function F(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,l=t.oxw();return t.KtG(l.deleteCountry(a))}),t._UZ(1,"i",29),t.TgZ(2,"span",27),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"DELETE"),""))}function J(n,i){1&n&&(t.TgZ(0,"td",22),t.YNc(1,O,5,3,"button",23),t.YNc(2,F,5,3,"button",24),t.qZA()),2&n&&(t.xp6(1),t.Q6J("hasClaim","SETT_MANAGE_COUNTRY"),t.xp6(1),t.Q6J("hasClaim","SETT_MANAGE_COUNTRY"))}function j(n,i){1&n&&(t.TgZ(0,"th",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"COUNTRY_NAME")," "))}function H(n,i){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.countryName," ")}}function Q(n,i){1&n&&t._UZ(0,"tr",32)}function w(n,i){1&n&&t._UZ(0,"tr",33)}const P=function(){return[15,20,25]};let I=(()=>{class n extends p.H{constructor(e,o,a){super(a),this.dialog=e,this.commonDialogService=o,this.translationService=a,this.loading=!1,this.deleteCountryHandler=new t.vpe,this.dataSource=new r.by,this.displayedColumns=["action","countryName"],this.footerToDisplayed=["footer"],this.getLangDir()}set countries(e){this.dataSource=new r.by(e),this.dataSource.paginator=this.paginator}deleteCountry(e){const o=this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE");this.sub$.sink=this.commonDialogService.deleteConformationDialog(`${o} :: ${e.countryName}`).subscribe(a=>{a&&this.deleteCountryHandler.emit(e.id)})}manageCountry(e){this.dialog.open(U,{width:"350px",direction:this.langDir,data:Object.assign({},e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.uw),t.Y36(Y.V),t.Y36(C.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-country-list-presentation"]],viewQuery:function(e,o){if(1&e&&t.Gf(d.NW,7),2&e){let a;t.iGM(a=t.CRH())&&(o.paginator=a.first)}},inputs:{countries:"countries",loading:"loading"},outputs:{deleteCountryHandler:"deleteCountryHandler"},features:[t.qOj],decls:20,vars:12,consts:[[1,"page-header-main"],[1,"row","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto","col"],[1,"content-header"],["class","col-md-auto col-sm-auto col-auto",4,"hasClaim"],["class","loading-shade",4,"ngIf"],[1,"table-responsive"],["mat-table","",1,"table","table-bordered","table-hover",3,"dataSource","dir"],["matColumnDef","action"],["class","table-column-200","mat-header-cell","",4,"matHeaderCellDef"],["class","table-column-200","mat-cell","",4,"matCellDef"],["matColumnDef","countryName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],[1,"col-md-auto","col-sm-auto","col-auto"],[1,"btn","blue-btn","btn-sm","m-right-10",3,"click"],[1,"fas","fa-plus"],[1,"loading-shade"],["mat-header-cell","",1,"table-column-200"],["mat-cell","",1,"table-column-200"],["class","btn btn-success btn-sm m-right-10","type","button",3,"click",4,"hasClaim"],["class","btn btn-danger btn-sm","type","button",3,"click",4,"hasClaim"],["type","button",1,"btn","btn-success","btn-sm","m-right-10",3,"click"],[1,"fas","fa-pencil-alt"],[1,"d-none","d-sm-inline"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash-alt"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.YNc(7,D,5,3,"div",4),t.qZA()(),t.YNc(8,R,2,0,"div",5),t.TgZ(9,"div",6)(10,"table",7),t.ynx(11,8),t.YNc(12,M,3,3,"th",9),t.YNc(13,J,3,2,"td",10),t.BQk(),t.ynx(14,11),t.YNc(15,j,3,3,"th",12),t.YNc(16,H,2,1,"td",13),t.BQk(),t.YNc(17,Q,1,0,"tr",14),t.YNc(18,w,1,0,"tr",15),t.qZA(),t._UZ(19,"mat-paginator",16),t.qZA()),2&e&&(t.xp6(5),t.Oqu(t.lcZ(6,9,"COUNTRY")),t.xp6(2),t.Q6J("hasClaim","SETT_MANAGE_COUNTRY"),t.xp6(1),t.Q6J("ngIf",!o.loading),t.xp6(2),t.Q6J("dataSource",o.dataSource)("dir",o.langDir),t.xp6(7),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(11,P)))},dependencies:[u.O5,E.Lv,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,f.Ou,v.d,d.NW,T.X$]}),n})(),k=(()=>{class n extends p.H{constructor(e,o,a){super(a),this.countryService=e,this.toastrService=o,this.translationService=a}ngOnInit(){this.loading$=this.countryService.loaded$.pipe((0,N.b)(e=>{e||this.getCountries()})),this.countries$=this.countryService.entities$}getCountries(){this.countryService.getAll()}deleteCountry(e){this.sub$.sink=this.countryService.delete(e).subscribe(()=>{this.toastrService.success(this.translationService.getValue("COUNTRY_DELETED_SUCCESSFULLY"))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.T),t.Y36(g._W),t.Y36(C.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-country-list"]],features:[t.qOj],decls:3,vars:6,consts:[[3,"countries","loading","deleteCountryHandler"]],template:function(e,o){1&e&&(t.TgZ(0,"app-country-list-presentation",0),t.NdJ("deleteCountryHandler",function(l){return o.deleteCountry(l)}),t.ALo(1,"async"),t.ALo(2,"async"),t.qZA()),2&e&&t.Q6J("countries",t.lcZ(1,2,o.countries$))("loading",t.lcZ(2,4,o.loading$))},dependencies:[I,u.Ov]}),n})();var _=s(2554);const $=[{path:"",component:k,data:{claimType:"SETT_MANAGE_COUNTRY"},canActivate:[s(319).a]}];let V=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.Bz.forChild($),_.Bz]}),n})(),B=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.ez,V,c.UX,r.p0,f.Cq,m.Is,b.m,A.QW,d.TU]}),n})()}}]);
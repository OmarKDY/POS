"use strict";(self.webpackChunkposadminportal=self.webpackChunkposadminportal||[]).push([[3848],{3848:(Sr,J,a)=>{a.r(J),a.d(J,{PurchaseOrderModule:()=>Dr});var p=a(9808),h=a(2554),U=a(319),nt=a(9147),s=a(3075),rt=a(796),it=a(2754),N=a(6521),L=a(6695),ot=a(1086),O=a(13),x=a(5778),at=a(4850),f=a(7545),j=a(2868),A=a(1490),ct=a(3007),B=a(2023),H=a(2667),Z=a(2746),t=a(5e3),V=a(5803),D=a(2290),T=a(9822),b=a(6107),lt=a(690),st=a(6018),ut=a(5528),dt=a(8381),E=a(9785),q=a(226),k=a(4107),y=a(508),R=a(5245),S=a(7423),C=a(773),P=a(1122),$=a(4834),v=a(8708),w=a(1062);function pt(n,i){if(1&n&&(t.TgZ(0,"mat-option",55),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.orderNumber," ")}}function mt(n,i){1&n&&(t.TgZ(0,"mat-option",55),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NO_RECORDS")," "))}function ht(n,i){1&n&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PO_ORDER_NUMBER_IS_REQUIRED")," "))}function _t(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,ht,3,3,"div",56),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.purchaseOrderForm.get("orderNumber").errors?null:e.purchaseOrderForm.get("orderNumber").errors.required)}}function gt(n,i){1&n&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ORDER_DATE_IS_REQUIRED")," "))}function Ot(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,gt,3,3,"div",56),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.purchaseOrderForm.get("poCreatedDate").errors?null:e.purchaseOrderForm.get("poCreatedDate").errors.required)}}function xt(n,i){1&n&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DELIVERY_DATE_REQUIRED")," "))}function Ct(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,xt,3,3,"div",56),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.purchaseOrderForm.get("deliveryDate").errors?null:e.purchaseOrderForm.get("deliveryDate").errors.required)}}function Pt(n,i){if(1&n&&(t.TgZ(0,"mat-option",55),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.supplierName," ")}}function ft(n,i){1&n&&(t.TgZ(0,"mat-option",55),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NO_RECORDS")," "))}function At(n,i){1&n&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SUPPLIER_NAME_IS_REQUIRED")," "))}function Zt(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,At,3,3,"div",56),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.purchaseOrderForm.get("supplierId").errors?null:e.purchaseOrderForm.get("supplierId").errors.required)}}function Tt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",68),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index,c=t.oxw();return t.KtG(c.onRemovePurchaseOrderItem(o))}),t.TgZ(1,"mat-icon",69),t._uU(2,"delete_forever"),t.qZA()()}}function bt(n,i){if(1&n&&(t.TgZ(0,"mat-option",70),t._uU(1),t.qZA()),2&n){const e=i.$implicit,r=t.oxw(2);t.Q6J("dir",r.langDir)("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function vt(n,i){1&n&&(t.TgZ(0,"mat-option",55),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NO_RECORDS")," "))}function wt(n,i){1&n&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PRODUCT_IS_REQUIRED")," "))}function Mt(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,wt,3,3,"div",56),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==e.get("productId").errors?null:e.get("productId").errors.required)}}function It(n,i){if(1&n&&(t.TgZ(0,"mat-option",55),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Ut(n,i){if(1&n&&(t.TgZ(0,"mat-option",55),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Nt(n,i){1&n&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"UNIT_IS_REQUIRED")," "))}function Lt(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Nt,3,3,"div",56),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==e.get("unitId").errors?null:e.get("unitId").errors.required)}}function Dt(n,i){1&n&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"UNIT_PER_PRICE_IS_REQUIRED")," "))}function Et(n,i){1&n&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PRICE_SHOULD_BE_MORE_THEN_0")," "))}function qt(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Dt,3,3,"div",56),t.YNc(2,Et,3,3,"div",56),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==e.get("unitPrice").errors?null:e.get("unitPrice").errors.required),t.xp6(1),t.Q6J("ngIf",null==e.get("unitPrice").errors?null:e.get("unitPrice").errors.min)}}function yt(n,i){1&n&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"QUANTITY_IS_REQUIRED")," "))}function Rt(n,i){1&n&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"QUANTITY_SHOULD_BE_MORE_THEN_0")," "))}function St(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,yt,3,3,"div",56),t.YNc(2,Rt,3,3,"div",56),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==e.get("quantity").errors?null:e.get("quantity").errors.required),t.xp6(1),t.Q6J("ngIf",null==e.get("quantity").errors?null:e.get("quantity").errors.min)}}function Yt(n,i){1&n&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DISCOUNT_SHOULD_BE_MORE_THEN_0")," "))}function Qt(n,i){if(1&n&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"customCurrency"),t.ALo(4,"quantitiesunitpriceTax"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE(" ",t.lcZ(2,2,"DISCOUNT_AMOUNT"),": ",t.lcZ(3,4,t.Dn7(4,6,e.get("quantity").value,e.get("unitPrice").value,e.get("discountPercentage").value))," ")}}function Ft(n,i){if(1&n&&(t.TgZ(0,"mat-option",55),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE("",e.name," (",e.percentage,"%) ")}}function Jt(n,i){1&n&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TAX_IS_REQUIRED")," "))}function jt(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Jt,3,3,"div",56),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==e.get("taxValue").errors?null:e.get("taxValue").errors.required)}}const G=function(n,i,e,r,o){return[n,i,e,r,o]};function Bt(n,i){if(1&n&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"customCurrency"),t.ALo(4,"quantitiesunitpriceTax"),t.qZA()),2&n){const e=t.oxw(),r=e.$implicit,o=e.index,c=t.oxw();t.xp6(1),t.AsE(" ",t.lcZ(2,2,"TAX_AMOUNT"),": ",t.lcZ(3,4,t.G7q(4,6,t.qbA(12,G,r.get("quantity").value,r.get("unitPrice").value,r.get("discountPercentage").value,r.get("taxValue").value,c.taxsMap[o])))," ")}}function Ht(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr",57)(1,"td"),t.YNc(2,Tt,3,0,"button",58),t.qZA(),t.TgZ(3,"td")(4,"mat-select",59),t.NdJ("selectionChange",function(o){const l=t.CHM(e).index,d=t.oxw();return t.KtG(d.onProductSelectionChange(o.value,l))}),t.ALo(5,"translate"),t._UZ(6,"input",60),t.ALo(7,"translate"),t._UZ(8,"mat-divider"),t.YNc(9,bt,2,3,"mat-option",61),t.YNc(10,vt,3,3,"mat-option",11),t.qZA(),t.YNc(11,Mt,2,1,"div",14),t.qZA(),t.TgZ(12,"td")(13,"mat-select",62),t.YNc(14,It,2,2,"mat-option",10),t.qZA()(),t.TgZ(15,"td")(16,"mat-select",63),t.NdJ("selectionChange",function(o){const l=t.CHM(e).index,d=t.oxw();return t.KtG(d.onSelectionChange(o.value,l))}),t.YNc(17,Ut,2,2,"mat-option",10),t.qZA(),t.YNc(18,Lt,2,1,"div",14),t.qZA(),t.TgZ(19,"td")(20,"input",64),t.NdJ("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onUnitPriceChange())}),t.ALo(21,"translate"),t.qZA(),t.YNc(22,qt,3,2,"div",14),t.qZA(),t.TgZ(23,"td")(24,"input",65),t.NdJ("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onQuantityChange())}),t.ALo(25,"translate"),t.qZA(),t.YNc(26,St,3,2,"div",14),t.qZA(),t.TgZ(27,"td"),t._uU(28),t.ALo(29,"customCurrency"),t.ALo(30,"quantitiesunitprice"),t.qZA(),t.TgZ(31,"td")(32,"input",66),t.NdJ("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onDiscountChange())}),t.ALo(33,"translate"),t.qZA(),t.YNc(34,Yt,3,3,"div",56),t.qZA(),t.TgZ(35,"td"),t._uU(36),t.ALo(37,"customCurrency"),t.ALo(38,"quantitiesunitprice"),t.YNc(39,Qt,5,10,"div",56),t.qZA(),t.TgZ(40,"td")(41,"mat-select",67),t.NdJ("selectionChange",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onTaxSelectionChange())}),t.ALo(42,"translate"),t.YNc(43,Ft,2,3,"mat-option",10),t.qZA(),t.YNc(44,jt,2,1,"div",14),t.qZA(),t.TgZ(45,"td"),t._uU(46),t.ALo(47,"customCurrency"),t.ALo(48,"quantitiesunitprice"),t.YNc(49,Bt,5,18,"div",56),t.qZA()()}if(2&n){const e=i.$implicit,r=i.index,o=t.oxw();t.Q6J("formGroupName",r),t.xp6(2),t.Q6J("ngIf",1!==(null==o.purchaseOrderItemsArray?null:o.purchaseOrderItemsArray.controls.length)),t.xp6(2),t.s9C("placeholder",t.lcZ(5,28,"SELECT_PRODUCT")),t.Q6J("dir",o.langDir),t.xp6(2),t.s9C("placeholder",t.lcZ(7,30,"SEARCH_OTHER_PRODUCTS")),t.xp6(3),t.Q6J("ngForOf",o.filterProductsMap[r]),t.xp6(1),t.Q6J("ngIf",0==o.filterProductsMap[r].length),t.xp6(1),t.Q6J("ngIf",e.get("productId").touched&&e.get("productId").errors),t.xp6(2),t.Q6J("dir",o.langDir),t.xp6(1),t.Q6J("ngForOf",o.warehouseMap[r]),t.xp6(2),t.Q6J("dir",o.langDir),t.xp6(1),t.Q6J("ngForOf",o.unitsMap[r]),t.xp6(1),t.Q6J("ngIf",e.get("unitId").touched&&e.get("unitId").errors),t.xp6(2),t.s9C("placeholder",t.lcZ(21,32,"UNIT_PER_PRICE")),t.xp6(2),t.Q6J("ngIf",e.get("unitPrice").touched&&e.get("unitPrice").errors),t.xp6(2),t.s9C("placeholder",t.lcZ(25,34,"QUANTITY")),t.xp6(2),t.Q6J("ngIf",e.get("quantity").touched&&e.get("quantity").errors),t.xp6(2),t.hij(" ",t.lcZ(29,36,t.xi3(30,38,e.get("quantity").value,e.get("unitPrice").value))," "),t.xp6(4),t.s9C("placeholder",t.lcZ(33,41,"DISCOUNT")),t.xp6(2),t.Q6J("ngIf",null==e.get("discountPercentage").errors?null:e.get("discountPercentage").errors.min),t.xp6(2),t.hij(" ",t.lcZ(37,43,t.Dn7(38,45,e.get("quantity").value,e.get("unitPrice").value,e.get("discountPercentage").value))," "),t.xp6(3),t.Q6J("ngIf",0!=e.get("discountPercentage").value),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(42,49,"TAX"),""),t.Q6J("dir",o.langDir),t.xp6(2),t.Q6J("ngForOf",o.taxsMap[r]),t.xp6(1),t.Q6J("ngIf",e.get("taxValue").touched&&e.get("taxValue").errors),t.xp6(2),t.hij(" ",t.lcZ(47,51,t.G7q(48,53,t.qbA(59,G,e.get("quantity").value,e.get("unitPrice").value,e.get("discountPercentage").value,e.get("taxValue").value,o.taxsMap[r])))," "),t.xp6(3),t.Q6J("ngIf",e.get("taxValue").value)}}function Vt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",71),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onPurchaseOrderSubmit())}),t._UZ(1,"i",72),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"SAVE"),""))}function kt(n,i){1&n&&t._UZ(0,"mat-spinner")}function $t(n,i){if(1&n&&(t.TgZ(0,"div",73),t.YNc(1,kt,1,0,"mat-spinner",14),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isLoading)}}const Gt=function(){return["PO_ADD_PO","PO_UPDATE_PO","POR_CONVERT_TO_PO"]},Kt=function(){return["/purchase-order/list"]};let Xt=(()=>{class n extends A.H{constructor(e,r,o,c,l,d,m,g,F,Er,qr,yr,Rr){super(d),this.fb=e,this.supplierService=r,this.toastrService=o,this.purchaseOrderService=c,this.router=l,this.translationService=d,this.commonService=m,this.taxService=g,this.productService=F,this.route=Er,this.quantitiesUnitPricePipe=qr,this.quantitiesUnitPriceTaxPipe=yr,this.warehouseService=Rr,this.products=[],this.suppliers=[],this.warehouseList=[],this.isLoading=!1,this.isSupplierLoading=!1,this.filterProductsMap={},this.unitsMap={},this.warehouseMap={},this.unitConversationlist=[],this.taxsMap={},this.totalBeforeDiscount=0,this.totalAfterDiscount=0,this.totalDiscount=0,this.grandTotal=0,this.totalTax=0,this.isEdit=!1,this.purchaseOrderRequestList=[],this.getLangDir(),this.supplierResource=new it.H,this.productResource=new rt.f,this.purchaseOrderResource=new H.D,this.purchaseOrderResource.pageSize=50,this.purchaseOrderResource.orderBy="poCreatedDate asc",this.purchaseOrderResource.isPurchaseOrderRequest=!0}get purchaseOrderItemsArray(){return this.purchaseOrderForm.get("purchaseOrderItems")}ngOnInit(){this.unitConversationlist=[...this.route.snapshot.data.units],this.warehouseList=[...this.route.snapshot.data.warehouses],this.createPurchaseOrder(),this.getPurchaseOrderRequest(),this.supplierNameChangeValue(),this.getNewPurchaseOrderNumber(),this.getPurchaseOrderRequestList(),this.getPurchaseOrderRequestChange(),this.getPurchaseOrderRequestIdChange(),this.getTaxes(),this.getProductByBarCodeValue()}getPurchaseOrderRequestChange(){this.purchaseOrderForm.get("purchaseOrderRequestOrderNumber").valueChanges.pipe((0,O.b)(500),(0,x.x)()).subscribe(e=>{this.purchaseOrderResource.orderNumber=e,this.getPurchaseOrderRequestList()})}getPurchaseOrderRequestIdChange(){this.purchaseOrderForm.get("purchaseOrderRequestId").valueChanges.subscribe(e=>{this.getPurchaseOrderRequestById(e)})}getPurchaseOrderRequestList(){this.purchaseOrderService.getAllPurchaseOrder(this.purchaseOrderResource).subscribe(e=>{e&&e.headers&&(JSON.parse(e.headers.get("X-Pagination")),this.purchaseOrderRequestList=[...e.body])})}getTaxes(){this.taxes$=this.taxService.entities$}getPurchaseOrderRequest(){this.sub$.sink=this.route.queryParamMap.pipe((0,at.U)(e=>e.get("purchase-order-requestId"))).subscribe(e=>{e&&this.getPurchaseOrderRequestById(e)})}getPurchaseOrderRequestById(e){this.purchaseOrderService.getPurchaseOrderById(e).subscribe(r=>{r&&(this.purchaseOrderForm.patchValue({purchaseOrderRequestOrderNumber:"",filerSupplier:"",deliveryDate:r.deliveryDate,poCreatedDate:r.poCreatedDate,deliveryStatus:r.deliveryStatus,supplierId:r.supplierId,note:r.note,termAndCondition:r.termAndCondition}),this.clearFormArray(),r.purchaseOrderItems.forEach(o=>{this.purchaseOrderItemsArray.push(this.createPurchaseOrderItemPatch(this.purchaseOrderItemsArray.length,o))}),this.supplierResource.id=r.supplierId,this.supplierService.getSuppliers(this.supplierResource).subscribe(o=>{o&&o.headers&&(this.suppliers=[...o.body])}),this.getAllTotal())})}clearFormArray(){for(;0!==this.purchaseOrderItemsArray.length;)this.purchaseOrderItemsArray.removeAt(0)}createPurchaseOrder(){this.route.data.pipe().subscribe(e=>{this.purchaseOrder=e.purchaseorder,this.purchaseOrder?(this.isEdit=!0,this.purchaseOrderForm=this.fb.group({purchaseOrderRequestId:[{value:"",disabled:!0}],purchaseOrderRequestOrderNumber:[{value:"",disabled:!0}],orderNumber:[{value:this.purchaseOrder.orderNumber,disabled:!1},[s.kI.required]],filerSupplier:[""],deliveryDate:[this.purchaseOrder.deliveryDate,[s.kI.required]],poCreatedDate:[this.purchaseOrder.poCreatedDate,[s.kI.required]],deliveryStatus:[this.purchaseOrder.deliveryStatus],supplierId:[this.purchaseOrder.supplierId,[s.kI.required]],note:[this.purchaseOrder.note],filterBarCodeValue:[""],termAndCondition:[this.purchaseOrder.termAndCondition],purchaseOrderItems:this.fb.array([])}),this.purchaseOrder.purchaseOrderItems.forEach(r=>{this.purchaseOrderItemsArray.push(this.createPurchaseOrderItemPatch(this.purchaseOrderItemsArray.length,r))}),this.getSuppliers(),this.getAllTotal()):(this.isEdit=!1,this.getSuppliers(),this.purchaseOrderForm=this.fb.group({purchaseOrderRequestId:[""],purchaseOrderRequestOrderNumber:[""],orderNumber:["",[s.kI.required]],filerSupplier:[""],deliveryDate:[new Date,[s.kI.required]],poCreatedDate:[new Date,[s.kI.required]],deliveryStatus:[1],supplierId:["",[s.kI.required]],note:[""],filterBarCodeValue:[""],termAndCondition:[""],purchaseOrderItems:this.fb.array([])}),this.purchaseOrderItemsArray.push(this.createPurchaseOrderItem(this.purchaseOrderItemsArray.length)))})}getProductByBarCodeValue(){this.sub$.sink=this.purchaseOrderForm.get("filterBarCodeValue").valueChanges.pipe((0,O.b)(500),(0,x.x)(),(0,f.w)(e=>e?(this.productResource.barcode=e,this.productService.getProducts(this.productResource)):(0,ot.of)([]))).subscribe(e=>{if(e&&e.headers){if(1==e.body.length){1==this.purchaseOrderItemsArray.length&&(this.purchaseOrderItemsArray.controls[0].get("productId").value||this.onRemovePurchaseOrderItem(0));const o=e.body[0].id;let c=this.purchaseOrderItemsArray.value;var r=c.findIndex(l=>l.productId==o);if(r>=0){let l=c[r];this.purchaseOrderItemsArray.at(r).get("quantity").patchValue(l.quantity+1)}else{this.onAddAnotherProduct();const l=this.purchaseOrderItemsArray.length-1;this.filterProductsMap[l.toString()]=[...e.body],this.onProductSelectionChange(o,l,!1)}this.getAllTotal()}else this.toastrService.warning("Product not found");this.productResource.barcode="",this.purchaseOrderForm.get("filterBarCodeValue").patchValue("")}},e=>{})}onAddAnotherProduct(){this.purchaseOrderItemsArray.push(this.createPurchaseOrderItem(this.purchaseOrderItemsArray.length))}createPurchaseOrderItemPatch(e,r){const o=r.purchaseOrderItemTaxes.map(l=>l.taxId),c=this.fb.group({productId:[r.productId,[s.kI.required]],filterProductValue:[""],unitPrice:[r.unitPrice,[s.kI.required]],quantity:[r.quantity,[s.kI.required]],taxValue:[o],unitId:[r.unitId,[s.kI.required]],warehouseId:[r.warehouseId],discountPercentage:[r.discountPercentage]});return this.unitsMap[e]=this.unitConversationlist.filter(l=>l.id==r.product.unitId||l.parentId==r.product.unitId),this.taxsMap[e]=[...this.route.snapshot.data.taxs],this.warehouseMap[e]=this.warehouseList,this.filterProductsMap[e.toString()]=[r.product],this.getProductByNameValue(c,e),c}createPurchaseOrderItem(e){const r=this.fb.group({productId:["",[s.kI.required]],filterProductValue:[""],unitPrice:[0,[s.kI.required,s.kI.min(0)]],quantity:[1,[s.kI.required,s.kI.min(1)]],taxValue:[null],unitId:["",[s.kI.required]],warehouseId:[""],discountPercentage:[0,[s.kI.min(0)]]});return this.taxsMap[e]=[...this.route.snapshot.data.taxs],this.warehouseMap[e]=this.warehouseList,this.filterProductsMap[e.toString()]=[...this.route.snapshot.data.products],this.getProductByNameValue(r,e),r}getProductByNameValue(e,r){this.purchaseOrder&&this.getProducts(r),this.sub$.sink=e.get("filterProductValue").valueChanges.pipe((0,O.b)(500),(0,x.x)(),(0,f.w)(o=>(this.productResource.name=o,this.productService.getProducts(this.productResource)))).subscribe(o=>{o&&o.headers&&(this.filterProductsMap[r.toString()]=[...o.body])},o=>{})}getAllTotal(){let e=this.purchaseOrderForm.get("purchaseOrderItems").value;this.totalBeforeDiscount=0,this.grandTotal=0,this.totalDiscount=0,this.totalTax=0,e&&e.length>0&&e.forEach(r=>{if(r.unitPrice&&r.quantity){const o=this.totalBeforeDiscount+parseFloat(this.quantitiesUnitPricePipe.transform(r.quantity,r.unitPrice));this.totalBeforeDiscount=parseFloat(o.toFixed(2));const c=this.grandTotal+parseFloat(this.quantitiesUnitPricePipe.transform(r.quantity,r.unitPrice,r.discountPercentage,r.taxValue,this.taxsMap[0]));this.grandTotal=parseFloat(c.toFixed(2));const l=this.totalTax+parseFloat(this.quantitiesUnitPriceTaxPipe.transform(r.quantity,r.unitPrice,r.discountPercentage,r.taxValue,this.taxsMap[0]));this.totalTax=parseFloat(l.toFixed(2));const d=this.totalDiscount+parseFloat(this.quantitiesUnitPriceTaxPipe.transform(r.quantity,r.unitPrice,r.discountPercentage));this.totalDiscount=parseFloat(d.toFixed(2))}})}onUnitPriceChange(){this.getAllTotal()}onQuantityChange(){this.getAllTotal()}onDiscountChange(){this.getAllTotal()}onTaxSelectionChange(){this.getAllTotal()}onRemovePurchaseOrderItem(e){this.purchaseOrderItemsArray.removeAt(e),this.purchaseOrderItemsArray.controls.forEach((r,o)=>{const c=r.get("productId").value;c?this.purchaseOrder.purchaseOrderItems.map(l=>{l.product.id===c&&(this.products.find(d=>d.id===c)?this.getProducts(o):this.getProducts(o,c))}):this.getProducts(o)}),this.getAllTotal()}getProducts(e,r){0===this.products.length||r?(this.productResource.name="",this.productResource.id=r||"",this.productService.getProducts(this.productResource).subscribe(o=>{this.products=[...o.body],this.filterProductsMap[e.toString()]=[...o.body]},o=>{})):this.filterProductsMap[e.toString()]=[...this.products]}setUnitConversationForProduct(e,r){this.unitsMap[r]=this.unitConversationlist.filter(o=>o.id==e||o.parentId==e)}setWarehouseForProduct(e,r){this.warehouseMap[r]=e?this.warehouseList.filter(o=>o.id==e):this.warehouseList}onSelectionChange(e,r,o=!0){const c=this.purchaseOrderItemsArray.controls[r].get("productId").value,l=this.filterProductsMap[r].find(g=>g.id===c),d=this.unitConversationlist.find(g=>g.id===e);let m=0;if(d.value){switch(d.operator){case Z.d.Plush:m=l.purchasePrice+parseFloat(d.value);break;case Z.d.Minus:m=l.purchasePrice-parseFloat(d.value);break;case Z.d.Multiply:m=l.purchasePrice*parseFloat(d.value);break;case Z.d.Divide:m=l.purchasePrice/parseFloat(d.value)}this.purchaseOrderItemsArray.controls[r].patchValue({unitPrice:m})}else this.purchaseOrderItemsArray.controls[r].patchValue({unitPrice:l.purchasePrice,unitId:e,warehouseId:l.warehouseId})}onProductSelectionChange(e,r,o=!0){const c=this.filterProductsMap[r].find(l=>l.id===e);this.setUnitConversationForProduct(c.unitId,r),this.purchaseOrderItemsArray.controls[r].patchValue(o?{filterProductValue:""}:{productId:e}),this.purchaseOrderItemsArray.controls[r].patchValue({unitPrice:c.purchasePrice,unitId:c.unitId,warehouseId:c.warehouseId}),c.productTaxes.length&&this.purchaseOrderItemsArray.controls[r].patchValue({taxValue:c.productTaxes.map(l=>l.taxId)}),this.getAllTotal()}getNewPurchaseOrderNumber(){this.purchaseOrder||this.purchaseOrderService.getNewPurchaseOrderNumber(!0).subscribe(e=>{this.purchaseOrderForm.patchValue({orderNumber:e.orderNumber})})}supplierNameChangeValue(){this.sub$.sink=this.purchaseOrderForm.get("filerSupplier").valueChanges.pipe((0,j.b)(e=>this.isSupplierLoading=!0),(0,O.b)(500),(0,x.x)(),(0,f.w)(e=>(this.supplierResource.supplierName=e,this.supplierResource.id=null,this.supplierService.getSuppliers(this.supplierResource)))).subscribe(e=>{this.isSupplierLoading=!1,e&&e.headers&&(this.suppliers=[...e.body])},e=>{this.isSupplierLoading=!1})}getSuppliers(){this.purchaseOrder?this.supplierResource.id=this.purchaseOrder.supplierId:(this.supplierResource.supplierName="",this.supplierResource.id=null),this.supplierService.getSuppliers(this.supplierResource).subscribe(e=>{e&&e.headers&&(this.suppliers=[...e.body])})}onPurchaseOrderSubmit(){if(this.purchaseOrderForm.valid){if(this.purchaseOrder&&this.purchaseOrder.purchaseOrderStatus===B.G.Return)return void this.toastrService.error(this.translationService.getValue("RETURN_PURCHASE_ORDER_CANT_BE_EDITED"));this.isLoading=!0;const e=this.buildPurchaseOrder();e.id?this.purchaseOrderService.updatePurchaseOrder(e).subscribe(r=>{this.isLoading=!1,this.toastrService.success(this.translationService.getValue("PURCHASE_ORDER_UPDATED_SUCCESSFULLY")),this.router.navigate(["/purchase-order/list"])},r=>{this.isLoading=!1}):this.purchaseOrderService.addPurchaseOrder(e).subscribe(r=>{this.isLoading=!1,this.toastrService.success(this.translationService.getValue("PURCHASE_ORDER_ADDED_SUCCESSFULLY")),this.router.navigate(["/purchase-order/list"])},r=>{this.isLoading=!1})}else this.purchaseOrderForm.markAllAsTouched()}buildPurchaseOrder(){const e={id:this.purchaseOrder?this.purchaseOrder.id:"",orderNumber:this.purchaseOrderForm.get("orderNumber").value,deliveryDate:this.purchaseOrderForm.get("deliveryDate").value,deliveryStatus:ct.I.UnDelivery,isPurchaseOrderRequest:!1,poCreatedDate:this.purchaseOrderForm.get("poCreatedDate").value,purchaseOrderStatus:B.G.Not_Return,supplierId:this.purchaseOrderForm.get("supplierId").value,totalAmount:this.grandTotal,totalDiscount:this.totalDiscount,totalTax:this.totalTax,note:this.purchaseOrderForm.get("note").value,termAndCondition:this.purchaseOrderForm.get("termAndCondition").value,purchaseOrderItems:[]},r=this.purchaseOrderForm.get("purchaseOrderItems").value;return r&&r.length>0&&r.forEach(o=>{e.purchaseOrderItems.push({discount:parseFloat(this.quantitiesUnitPriceTaxPipe.transform(o.quantity,o.unitPrice,o.discountPercentage)),discountPercentage:o.discountPercentage,productId:o.productId,unitId:o.unitId,warehouseId:o.warehouseId,quantity:o.quantity,taxValue:parseFloat(this.quantitiesUnitPriceTaxPipe.transform(o.quantity,o.unitPrice,o.discountPercentage,o.taxValue,this.taxsMap[0])),unitPrice:parseFloat(o.unitPrice),purchaseOrderItemTaxes:o.taxValue?[...o.taxValue.map(c=>({taxId:c}))]:[]})}),e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.QS),t.Y36(V.p),t.Y36(D._W),t.Y36(T.x),t.Y36(h.F0),t.Y36(b.D),t.Y36(lt.v),t.Y36(st.D),t.Y36(ut.M),t.Y36(h.gz),t.Y36(L.q),t.Y36(N.S),t.Y36(dt.l))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-purchase-order-add-edit"]],features:[t._Bn([],[L.q,N.S]),t.qOj],decls:174,vars:132,consts:[[1,"page-header-main"],[1,"row","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto"],[1,"content-header"],["autocomplete","off",3,"formGroup"],[1,"row"],[1,"col-md-3"],[1,"form-group"],["formControlName","purchaseOrderRequestId",1,"form-control",3,"dir","placeholder"],["formControlName","purchaseOrderRequestOrderNumber","focused","'true'","type","text","autocomplete","off",1,"form-control","w-100",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],[1,"text-danger"],["formControlName","orderNumber","type","text",1,"form-control","w-100",3,"readonly"],[4,"ngIf"],["for","poCreatedDate",1,"text-danger"],["id","poCreatedDate","formControlName","poCreatedDate",1,"form-control",3,"owlDateTimeTrigger","owlDateTime","placeholder"],[3,"pickerType"],["poCreatedDate",""],["for","deliveryDate",1,"text-danger"],["id","deliveryDate","formControlName","deliveryDate",1,"form-control",3,"owlDateTimeTrigger","owlDateTime","placeholder"],["deliveryDate",""],[1,"input-group"],["formControlName","supplierId",1,"form-control",3,"dir","placeholder"],["formControlName","filerSupplier","focused","'true'","type","text","autocomplete","off",1,"form-control","w-100",3,"placeholder"],[1,"col-md-6"],["formControlName","termAndCondition",1,"form-control","w-100"],["formControlName","note",1,"form-control","w-100"],[1,"col-sm-6","col-md-6"],["formControlName","filterBarCodeValue","type","text",1,"form-control","w-100",3,"placeholder"],["formArrayName","purchaseOrderItems",1,"col-sm-12"],[1,"col-sm-12","text-right","mb-2"],["type","button",1,"btn","blue-btn","btn-sm","m-right-10",3,"click"],[1,"fas","fa-plus"],[1,"col"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-sm"],[1,"table-column-50"],[1,"table-column-200"],[1,"table-column-150"],[1,"table-column-130"],[1,"table-column-120"],[1,"table-column-100"],[1,"table-column-300"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","mt-2"],[1,"col-10","text-right","font-weight-bold"],[1,"col-2","text-left","font-weight-bold"],[1,"col-2","text-left","text-danger","font-weight-bold"],[1,"col-12"],[1,"col-md-12","mb-1"],["type","button","class","btn btn-success btn-sm m-right-10",3,"click",4,"hasClaim"],["type","button",1,"btn","btn-danger","btn-sm",3,"routerLink"],[1,"fas","fa-times-circle"],["class","loading-shade",4,"ngIf"],[3,"value"],["class","text-danger",4,"ngIf"],[3,"formGroupName"],["type","button","mat-icon-button","","aria-label","Action",3,"click",4,"ngIf"],["formControlName","productId",1,"form-control",3,"dir","placeholder","selectionChange"],["formControlName","filterProductValue","focused","'true'","type","text","autocomplete","off",1,"form-control","w-100",3,"placeholder"],[3,"dir","value",4,"ngFor","ngForOf"],["placeholder","Select Warehouse","formControlName","warehouseId",1,"form-control",3,"dir"],["formControlName","unitId",1,"form-control",3,"dir","selectionChange"],["type","number","formControlName","unitPrice",1,"form-control",3,"placeholder","change"],["type","number","formControlName","quantity",1,"form-control",3,"placeholder","change"],["formControlName","discountPercentage",1,"form-control",3,"placeholder","change"],["formControlName","taxValue","multiple","",1,"form-control",3,"dir","placeholder","selectionChange"],["type","button","mat-icon-button","","aria-label","Action",3,"click"],[1,"btn-danger"],[3,"dir","value"],["type","button",1,"btn","btn-success","btn-sm","m-right-10",3,"click"],[1,"fas","fa-save"],[1,"loading-shade"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),t._uU(5),t.ALo(6,"translate"),t.qZA()()()()(),t.TgZ(7,"form",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"mat-select",8),t.ALo(15,"translate"),t._UZ(16,"input",9),t.ALo(17,"translate"),t._UZ(18,"mat-divider"),t.YNc(19,pt,2,2,"mat-option",10),t.YNc(20,mt,3,3,"mat-option",11),t.qZA()()()(),t.TgZ(21,"div",5)(22,"div",6)(23,"div",7)(24,"label",12),t._uU(25),t.ALo(26,"translate"),t.TgZ(27,"span"),t._uU(28,"*"),t.qZA()(),t._UZ(29,"input",13),t.YNc(30,_t,2,1,"div",14),t.qZA()(),t.TgZ(31,"div",6)(32,"div",7)(33,"label",15),t._uU(34),t.ALo(35,"translate"),t.qZA(),t._UZ(36,"input",16),t.ALo(37,"translate"),t.YNc(38,Ot,2,1,"div",14),t._UZ(39,"owl-date-time",17,18),t.qZA()(),t.TgZ(41,"div",6)(42,"div",7)(43,"label",19),t._uU(44),t.ALo(45,"translate"),t.qZA(),t._UZ(46,"input",20),t.ALo(47,"translate"),t.YNc(48,Ct,2,1,"div",14),t._UZ(49,"owl-date-time",17,21),t.qZA()(),t.TgZ(51,"div",6)(52,"div",7)(53,"label",12),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.TgZ(56,"div",22)(57,"mat-select",23),t.ALo(58,"translate"),t._UZ(59,"input",24),t.ALo(60,"translate"),t._UZ(61,"mat-divider"),t.YNc(62,Pt,2,2,"mat-option",10),t.YNc(63,ft,3,3,"mat-option",11),t.qZA()(),t.YNc(64,Zt,2,1,"div",14),t.qZA()()(),t.TgZ(65,"div",5)(66,"div",25)(67,"div",7)(68,"label"),t._uU(69),t.ALo(70,"translate"),t.qZA(),t.TgZ(71,"div",22)(72,"textarea",26),t._uU(73,"          "),t.qZA()()()(),t.TgZ(74,"div",25)(75,"div",7)(76,"label"),t._uU(77),t.ALo(78,"translate"),t.qZA(),t.TgZ(79,"div",22)(80,"textarea",27),t._uU(81,"          "),t.qZA()()()()(),t.TgZ(82,"div",5)(83,"div",28)(84,"label"),t._uU(85),t.ALo(86,"translate"),t.qZA(),t._UZ(87,"input",29),t.ALo(88,"translate"),t.qZA()(),t.TgZ(89,"div",5)(90,"div",30)(91,"div",5)(92,"div",31)(93,"button",32),t.NdJ("click",function(){return r.onAddAnotherProduct()}),t._UZ(94,"i",33),t._uU(95),t.ALo(96,"translate"),t.qZA()()(),t.TgZ(97,"div",5)(98,"div",34)(99,"div",35)(100,"table",36)(101,"tr")(102,"th",37),t._uU(103," \xa0 "),t.qZA(),t.TgZ(104,"th",38),t._uU(105),t.ALo(106,"translate"),t.qZA(),t.TgZ(107,"th",38),t._uU(108),t.ALo(109,"translate"),t.qZA(),t.TgZ(110,"th",39),t._uU(111),t.ALo(112,"translate"),t.qZA(),t.TgZ(113,"th",40),t._uU(114),t.ALo(115,"translate"),t.qZA(),t.TgZ(116,"th",41),t._uU(117),t.ALo(118,"translate"),t.qZA(),t.TgZ(119,"th",42),t._uU(120),t.ALo(121,"translate"),t.qZA(),t.TgZ(122,"th",42),t._uU(123),t.ALo(124,"translate"),t.qZA(),t.TgZ(125,"th",42),t._uU(126),t.ALo(127,"translate"),t.qZA(),t.TgZ(128,"th",43),t._uU(129),t.ALo(130,"translate"),t.qZA(),t.TgZ(131,"th",39),t._uU(132),t.ALo(133,"translate"),t.qZA()(),t.YNc(134,Ht,50,65,"tr",44),t.qZA()()()()()(),t.TgZ(135,"div",45)(136,"div",46),t._uU(137),t.ALo(138,"translate"),t.qZA(),t.TgZ(139,"div",47),t._uU(140),t.ALo(141,"customCurrency"),t.qZA()(),t.TgZ(142,"div",5)(143,"div",46),t._uU(144),t.ALo(145,"translate"),t.qZA(),t.TgZ(146,"div",48),t._uU(147),t.ALo(148,"customCurrency"),t.qZA()(),t.TgZ(149,"div",5)(150,"div",46),t._uU(151),t.ALo(152,"translate"),t.qZA(),t.TgZ(153,"div",47),t._uU(154),t.ALo(155,"customCurrency"),t.qZA()(),t.TgZ(156,"div",5)(157,"div",49),t._UZ(158,"mat-divider"),t.qZA()(),t.TgZ(159,"div",5)(160,"div",46),t._uU(161),t.ALo(162,"translate"),t.qZA(),t.TgZ(163,"div",47),t._uU(164),t.ALo(165,"customCurrency"),t.qZA()(),t.TgZ(166,"div",5)(167,"div",50),t.YNc(168,Vt,4,3,"button",51),t.TgZ(169,"button",52),t._UZ(170,"i",53),t._uU(171),t.ALo(172,"translate"),t.qZA()()()(),t.YNc(173,$t,2,1,"div",54)),2&e){const o=t.MAs(40),c=t.MAs(50);t.xp6(5),t.Oqu(t.lcZ(6,58,"MANAGE_PURCHASE")),t.xp6(2),t.Q6J("formGroup",r.purchaseOrderForm),t.xp6(5),t.Oqu(t.lcZ(13,60,"SELECT_PURCHASE_ORDER_REQUEST")),t.xp6(2),t.s9C("placeholder",t.lcZ(15,62,"SEARCH_PURCHASE_ORDER_REQUEST")),t.Q6J("dir",r.langDir),t.xp6(2),t.s9C("placeholder",t.lcZ(17,64,"SEARCH_PURCHASE_ORDER_REQUEST")),t.xp6(3),t.Q6J("ngForOf",r.purchaseOrderRequestList),t.xp6(1),t.Q6J("ngIf",0==r.purchaseOrderRequestList.length),t.xp6(5),t.hij("",t.lcZ(26,66,"PO_NUMBER")," "),t.xp6(4),t.Q6J("readonly",r.isEdit),t.xp6(1),t.Q6J("ngIf",r.purchaseOrderForm.get("orderNumber").touched&&r.purchaseOrderForm.get("orderNumber").errors),t.xp6(4),t.hij("",t.lcZ(35,68,"ORDER_DATE")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(37,70,"DELIVERY_DATE")),t.Q6J("owlDateTimeTrigger",o)("owlDateTime",o),t.xp6(2),t.Q6J("ngIf",r.purchaseOrderForm.get("poCreatedDate").touched&&r.purchaseOrderForm.get("poCreatedDate").errors),t.xp6(1),t.Q6J("pickerType","calendar"),t.xp6(5),t.hij("",t.lcZ(45,72,"DELIVERY_DATE")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(47,74,"DELIVERY_DATE")),t.Q6J("owlDateTimeTrigger",c)("owlDateTime",c),t.xp6(2),t.Q6J("ngIf",r.purchaseOrderForm.get("deliveryDate").touched&&r.purchaseOrderForm.get("deliveryDate").errors),t.xp6(1),t.Q6J("pickerType","calendar"),t.xp6(5),t.hij("",t.lcZ(55,76,"SUPPLIER_NAME")," *"),t.xp6(3),t.s9C("placeholder",t.lcZ(58,78,"SELECT_SUPPLIER")),t.Q6J("dir",r.langDir),t.xp6(2),t.s9C("placeholder",t.lcZ(60,80,"SEARCH_OTHER_SUPPLIERS")),t.xp6(3),t.Q6J("ngForOf",r.suppliers),t.xp6(1),t.Q6J("ngIf",0==r.suppliers.length),t.xp6(1),t.Q6J("ngIf",r.purchaseOrderForm.get("supplierId").touched&&r.purchaseOrderForm.get("supplierId").errors),t.xp6(5),t.hij("",t.lcZ(70,82,"TERM_AND_CONDITION")," "),t.xp6(8),t.hij("",t.lcZ(78,84,"NOTES")," "),t.xp6(8),t.Oqu(t.lcZ(86,86,"SCAN_BARCODE")),t.xp6(2),t.s9C("placeholder",t.lcZ(88,88,"SCAN_BARCODE")),t.xp6(8),t.hij(" ",t.lcZ(96,90,"ADD_ANOTHER_PRODUCT")," "),t.xp6(10),t.hij(" ",t.lcZ(106,92,"PRODUCT")," "),t.xp6(3),t.hij(" ",t.lcZ(109,94,"WAREHOUSE")," "),t.xp6(3),t.hij(" ",t.lcZ(112,96,"UNIT")," "),t.xp6(3),t.hij(" ",t.lcZ(115,98,"PRICE")," "),t.xp6(3),t.hij(" ",t.lcZ(118,100,"QUANTITY")," "),t.xp6(3),t.hij(" ",t.lcZ(121,102,"SUBTOTAL_BEFORE_DISCOUNT")," "),t.xp6(3),t.hij(" ",t.lcZ(124,104,"DISCOUNT"),"% "),t.xp6(3),t.hij(" ",t.lcZ(127,106,"SUBTOTAL_AFTER_DISCOUNT")," "),t.xp6(3),t.hij(" ",t.lcZ(130,108,"TAX")," "),t.xp6(3),t.hij(" ",t.lcZ(133,110,"TOTAL")," "),t.xp6(2),t.Q6J("ngForOf",null==r.purchaseOrderItemsArray?null:r.purchaseOrderItemsArray.controls),t.xp6(3),t.hij(" ",t.lcZ(138,112,"SUB_TOTAL_BEFORE_DISCOUNT"),": "),t.xp6(3),t.hij(" ",t.lcZ(141,114,r.totalBeforeDiscount)," "),t.xp6(4),t.hij(" ",t.lcZ(145,116,"TOTAL_DISCOUNT"),": "),t.xp6(3),t.hij(" ",t.lcZ(148,118,r.totalDiscount)," "),t.xp6(4),t.hij(" ",t.lcZ(152,120,"TOTAL_TAX"),": "),t.xp6(3),t.hij(" ",t.lcZ(155,122,r.totalTax)," "),t.xp6(7),t.hij(" ",t.lcZ(162,124,"GRAND_TOTAL")," : "),t.xp6(3),t.hij(" ",t.lcZ(165,126,r.grandTotal)," "),t.xp6(4),t.Q6J("hasClaim",t.DdM(130,Gt)),t.xp6(1),t.Q6J("routerLink",t.DdM(131,Kt)),t.xp6(2),t.hij(" ",t.lcZ(172,128,"CANCEL")," "),t.xp6(2),t.Q6J("ngIf",r.isLoading)}},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,h.rH,s.sg,s.u,s.x0,s.CE,E.d,q.Lv,k.gD,y.ey,R.Hw,S.lW,C.Ou,P.sZ,P.BO,P.hV,$.d,v.R,w.X$,L.q,N.S],styles:[".hr[_ngcontent-%COMP%]{border-bottom:1px solid #2095F3}"]}),n})();var zt=a(8408),Wt=a(9117),te=a(8489),ee=a(1798),K=a(8265),ne=a(130),X=a(2552),re=a(7432),z=a(8017),W=a(2989);function ie(n,i){if(1&n&&(t.TgZ(0,"h1"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE("",t.lcZ(2,2,"PURCHASE_ORDER_REQUEST"),"#",null==e.purchaseOrder?null:e.purchaseOrder.orderNumber,"")}}function oe(n,i){if(1&n&&(t.TgZ(0,"h1"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE("",t.lcZ(2,2,"PURCHASE_ORDER"),"#",null==e.purchaseOrder?null:e.purchaseOrder.orderNumber,"")}}function ae(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.generateInvoice())}),t._UZ(2,"i",8),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"GENERATE_INVOICE")," "))}function ce(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"a",35),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.MGl("href","mailto:",null==e.purchaseOrder||null==e.purchaseOrder.supplier?null:e.purchaseOrder.supplier.email,"",t.LSH),t.xp6(1),t.Oqu(null==e.purchaseOrder||null==e.purchaseOrder.supplier?null:e.purchaseOrder.supplier.email)}}function le(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"a",35),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.MGl("href","mailto:",e.companyProfile.email,"",t.LSH),t.xp6(1),t.Oqu(e.companyProfile.email)}}function se(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,", "),t.qZA())}function ue(n,i){if(1&n&&(t.TgZ(0,"span",38),t._uU(1),t.YNc(2,se,2,0,"span",4),t.qZA()),2&n){const e=i.$implicit,r=i.last;t.xp6(1),t.AsE(" ",e.taxName,"(",e.taxPercentage,"%) "),t.xp6(1),t.Q6J("ngIf",!r)}}function de(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"td",36),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",37),t._uU(6),t.ALo(7,"customCurrency"),t.qZA(),t.TgZ(8,"td",37),t._uU(9),t.TgZ(10,"span",38),t._uU(11),t.qZA()(),t.TgZ(12,"td",37),t._uU(13),t.ALo(14,"customCurrency"),t.qZA(),t.TgZ(15,"td",37),t._uU(16),t.ALo(17,"customCurrency"),t._UZ(18,"br"),t.YNc(19,ue,3,3,"span",39),t.qZA(),t.TgZ(20,"td",37),t._uU(21),t.ALo(22,"customCurrency"),t.qZA(),t.BQk()),2&n){const e=t.oxw(),r=e.index,o=e.$implicit;t.xp6(2),t.Oqu(r+1),t.xp6(2),t.Oqu(o.productName),t.xp6(2),t.Oqu(t.lcZ(7,9,o.unitPrice)),t.xp6(3),t.hij("",o.quantity," "),t.xp6(2),t.hij("(",null==o||null==o.unitConversation?null:o.unitConversation.name,")"),t.xp6(2),t.Oqu(t.lcZ(14,11,o.discount)),t.xp6(3),t.Oqu(t.lcZ(17,13,o.taxValue)),t.xp6(3),t.Q6J("ngForOf",o.purchaseOrderItemTaxes),t.xp6(2),t.hij("",t.lcZ(22,15,(null==o?null:o.quantity)*(null==o?null:o.unitPrice)-o.discount+o.taxValue)," ")}}function pe(n,i){if(1&n&&(t.TgZ(0,"tr"),t.YNc(1,de,23,17,"ng-container",4),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.status)}}function me(n,i){1&n&&(t.TgZ(0,"tr",40)(1,"td",41)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA()()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"RETURNED_ITEMS")))}function he(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,", "),t.qZA())}function _e(n,i){if(1&n&&(t.TgZ(0,"span",38),t._uU(1),t.YNc(2,he,2,0,"span",4),t.qZA()),2&n){const e=i.$implicit,r=i.last;t.xp6(1),t.AsE(" ",e.taxName,"(",e.taxPercentage,"%) "),t.xp6(1),t.Q6J("ngIf",!r)}}function ge(n,i){if(1&n&&(t.TgZ(0,"tr",40)(1,"td",36),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",37),t._uU(6),t.ALo(7,"customCurrency"),t.qZA(),t.TgZ(8,"td",37),t._uU(9),t._UZ(10,"br"),t.TgZ(11,"span",38),t._uU(12),t.qZA()(),t.TgZ(13,"td",37),t._uU(14),t.ALo(15,"customCurrency"),t.qZA(),t.TgZ(16,"td",37),t._uU(17),t.ALo(18,"customCurrency"),t._UZ(19,"br"),t.YNc(20,_e,3,3,"span",39),t.qZA(),t.TgZ(21,"td",37),t._uU(22),t.ALo(23,"customCurrency"),t.qZA()()),2&n){const e=i.$implicit,r=i.index;t.xp6(2),t.Oqu(r+1),t.xp6(2),t.Oqu(e.productName),t.xp6(2),t.Oqu(t.lcZ(7,9,e.unitPrice)),t.xp6(3),t.hij(" ",-1*e.quantity,""),t.xp6(3),t.hij("(",null==e||null==e.unitConversation?null:e.unitConversation.name,")"),t.xp6(2),t.Oqu(t.lcZ(15,11,-1*e.discount)),t.xp6(3),t.Oqu(t.lcZ(18,13,-1*e.taxValue)),t.xp6(3),t.Q6J("ngForOf",e.purchaseOrderItemTaxes),t.xp6(2),t.hij(" ",t.lcZ(23,15,-1*((null==e?null:e.quantity)*(null==e?null:e.unitPrice)-e.discount+e.taxValue))," ")}}function Oe(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",18),t._uU(2),t.ALo(3,"utcToLocalTime"),t.qZA(),t.TgZ(4,"td",18),t._uU(5),t.ALo(6,"customCurrency"),t.qZA(),t.TgZ(7,"td",18),t._uU(8),t.qZA(),t.TgZ(9,"td",18),t._uU(10),t.ALo(11,"paymentmethod"),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(t.xi3(3,4,e.paymentDate,"shortDate")),t.xp6(3),t.Oqu(t.lcZ(6,7,e.amount)),t.xp6(3),t.Oqu(e.referenceNumber),t.xp6(2),t.Oqu(t.lcZ(11,9,e.paymentMethod))}}function xe(n,i){if(1&n&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),t._uU(6),t.ALo(7,"translate"),t.qZA()()()()(),t._UZ(8,"br"),t.TgZ(9,"div",16)(10,"table",42)(11,"thead",18)(12,"tr")(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th"),t._uU(23),t.ALo(24,"translate"),t.qZA()()(),t.TgZ(25,"tbody"),t.YNc(26,Oe,12,11,"tr",25),t.qZA()()()()),2&n){const e=t.oxw(2);t.xp6(6),t.Oqu(t.lcZ(7,6,"PURCHASE_ORDER_PAYMENTS")),t.xp6(8),t.Oqu(t.lcZ(15,8,"PAYMENT_DATE")),t.xp6(3),t.Oqu(t.lcZ(18,10,"AMOUNT")),t.xp6(3),t.Oqu(t.lcZ(21,12,"REFERENCE_NUMBER")),t.xp6(3),t.Oqu(t.lcZ(24,14,"PAID_BY")),t.xp6(3),t.Q6J("ngForOf",e.purchaseOrder.purchaseOrderPayments)}}function Ce(n,i){if(1&n&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),t._uU(6),t.ALo(7,"translate"),t.qZA()()()()(),t._UZ(8,"br"),t.TgZ(9,"div",9)(10,"div",43)(11,"div",11),t._uU(12),t._UZ(13,"br")(14,"div",13),t.qZA()()()()),2&n){const e=t.oxw(2);t.xp6(6),t.Oqu(t.lcZ(7,2,"TERMS_AND_CONDITION")),t.xp6(6),t.hij(" ",null==e.purchaseOrder?null:e.purchaseOrder.termAndCondition,"")}}function Pe(n,i){if(1&n&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),t._uU(6),t.ALo(7,"translate"),t.qZA()()()()(),t._UZ(8,"br"),t.TgZ(9,"div",9)(10,"div",43)(11,"div",11),t._uU(12),t._UZ(13,"br")(14,"div",13),t.qZA()()()()),2&n){const e=t.oxw(2);t.xp6(6),t.Oqu(t.lcZ(7,2,"NOTE")),t.xp6(6),t.hij(" ",null==e.purchaseOrder?null:e.purchaseOrder.note,"")}}const fe=function(n,i,e){return{"badge-success":n,"badge-danger":i,"badge-warning":e}};function Ae(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",9)(2,"div",10)(3,"div",11)(4,"h5",12),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"b"),t._uU(8),t.qZA(),t._UZ(9,"br"),t._uU(10),t._UZ(11,"br")(12,"br"),t._uU(13),t.ALo(14,"translate"),t._UZ(15,"br"),t._uU(16),t.ALo(17,"translate"),t.YNc(18,ce,3,2,"ng-container",4),t._UZ(19,"div",13),t.qZA()(),t.TgZ(20,"div",14)(21,"div",11)(22,"h5",12),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"b"),t._uU(26),t.qZA(),t._UZ(27,"br"),t._uU(28),t._UZ(29,"br")(30,"br"),t._uU(31),t.ALo(32,"translate"),t._UZ(33,"br"),t._uU(34),t.ALo(35,"translate"),t.YNc(36,le,3,2,"ng-container",4),t._UZ(37,"div",13),t.qZA()(),t.TgZ(38,"div",14)(39,"div",11)(40,"h5",12),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"b"),t._uU(44),t.qZA(),t._UZ(45,"br"),t.TgZ(46,"b"),t._uU(47),t.ALo(48,"translate"),t.qZA(),t._uU(49),t.ALo(50,"utcToLocalTime"),t._UZ(51,"br"),t.TgZ(52,"b"),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"span",15),t._uU(56),t.ALo(57,"paymentStatus"),t.qZA(),t._UZ(58,"div",13),t.qZA()()(),t.TgZ(59,"div",0)(60,"div",1)(61,"div",2)(62,"div",3)(63,"h1"),t._uU(64),t.ALo(65,"translate"),t.qZA()()()()(),t._UZ(66,"br"),t.TgZ(67,"div",16)(68,"table",17)(69,"thead",18)(70,"tr")(71,"th",19),t._uU(72),t.ALo(73,"translate"),t.qZA(),t.TgZ(74,"th",20),t._uU(75),t.ALo(76,"translate"),t.qZA(),t.TgZ(77,"th",21),t._uU(78),t.ALo(79,"translate"),t.qZA(),t.TgZ(80,"th",22),t._uU(81),t.ALo(82,"translate"),t.qZA(),t.TgZ(83,"th",21),t._uU(84),t.ALo(85,"translate"),t.qZA(),t.TgZ(86,"th",23),t._uU(87),t.ALo(88,"translate"),t.qZA(),t.TgZ(89,"th",24),t._uU(90),t.ALo(91,"translate"),t.qZA()()(),t.TgZ(92,"tbody"),t.YNc(93,pe,2,1,"tr",25),t.YNc(94,me,5,3,"tr",26),t.YNc(95,ge,24,17,"tr",27),t.TgZ(96,"tr")(97,"td",28),t._uU(98),t.ALo(99,"translate"),t.qZA(),t.TgZ(100,"td",29),t._uU(101),t.ALo(102,"customCurrency"),t.qZA(),t.TgZ(103,"td",29),t._uU(104),t.ALo(105,"customCurrency"),t.qZA(),t.TgZ(106,"td",30),t._uU(107),t.ALo(108,"customCurrency"),t.qZA()(),t.TgZ(109,"tr")(110,"td",31),t._uU(111),t.ALo(112,"translate"),t.qZA(),t.TgZ(113,"td",30),t._uU(114),t.ALo(115,"customCurrency"),t.qZA()(),t.TgZ(116,"tr")(117,"td",31),t._uU(118),t.ALo(119,"translate"),t.qZA(),t.TgZ(120,"td",30),t._uU(121),t.ALo(122,"customCurrency"),t.qZA()()()()(),t.YNc(123,xe,27,16,"div",4),t.YNc(124,Ce,15,4,"div",4),t.YNc(125,Pe,15,4,"div",4),t.TgZ(126,"div",9)(127,"div",32)(128,"button",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.cancel())}),t._UZ(129,"i",34),t._uU(130),t.ALo(131,"translate"),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,44,"SUPPLIER_ADDRESS")),t.xp6(3),t.hij(" ",null==e.purchaseOrder||null==e.purchaseOrder.supplier?null:e.purchaseOrder.supplier.supplierName,""),t.xp6(2),t.hij(" ",null==e.purchaseOrder||null==e.purchaseOrder.supplier?null:e.purchaseOrder.supplier.billingAddress.address,""),t.xp6(3),t.AsE("",t.lcZ(14,46,"PHONE"),": ",null==e.purchaseOrder||null==e.purchaseOrder.supplier?null:e.purchaseOrder.supplier.mobileNo,""),t.xp6(3),t.hij("",t.lcZ(17,48,"EMAIL"),": "),t.xp6(2),t.Q6J("ngIf",null==e.purchaseOrder||null==e.purchaseOrder.supplier?null:e.purchaseOrder.supplier.email),t.xp6(5),t.Oqu(t.lcZ(24,50,"COMPANY_PROFILE")),t.xp6(3),t.hij(" ",e.companyProfile.title,""),t.xp6(2),t.hij(" ",e.companyProfile.address,""),t.xp6(3),t.AsE("",t.lcZ(32,52,"PHONE"),": ",e.companyProfile.phone,""),t.xp6(3),t.hij("",t.lcZ(35,54,"EMAIL"),": "),t.xp6(2),t.Q6J("ngIf",e.companyProfile.email),t.xp6(5),t.Oqu(t.lcZ(42,56,"REFERENCE")),t.xp6(3),t.hij(" ",null==e.purchaseOrder?null:e.purchaseOrder.orderNumber,""),t.xp6(3),t.hij("",t.lcZ(48,58,"DATE")," : "),t.xp6(2),t.hij("",t.xi3(50,60,null==e.purchaseOrder?null:e.purchaseOrder.poCreatedDate,"shortDate")," "),t.xp6(4),t.hij("",t.lcZ(54,63,"PAYMENT_STATUS")," : "),t.xp6(2),t.Q6J("ngClass",t.kEZ(101,fe,0==(null==e.purchaseOrder?null:e.purchaseOrder.paymentStatus),1==(null==e.purchaseOrder?null:e.purchaseOrder.paymentStatus),2==(null==e.purchaseOrder?null:e.purchaseOrder.paymentStatus))),t.xp6(1),t.hij(" ",t.lcZ(57,65,null==e.purchaseOrder?null:e.purchaseOrder.paymentStatus),""),t.xp6(8),t.Oqu(t.lcZ(65,67,"PURCHASE_ORDER_ITEMS")),t.xp6(8),t.Oqu(t.lcZ(73,69,"NO.")),t.xp6(3),t.Oqu(t.lcZ(76,71,"DESCRIPTION")),t.xp6(3),t.Oqu(t.lcZ(79,73,"UNIT_PRICE")),t.xp6(3),t.Oqu(t.lcZ(82,75,"QUANTITY")),t.xp6(3),t.Oqu(t.lcZ(85,77,"DISCOUNT")),t.xp6(3),t.Oqu(t.lcZ(88,79,"TAX")),t.xp6(3),t.Oqu(t.lcZ(91,81,"TOTAL_AMOUNT")),t.xp6(3),t.Q6J("ngForOf",e.purchaseOrderItems),t.xp6(1),t.Q6J("ngIf",e.purchaseOrderReturnsItems.length>0),t.xp6(1),t.Q6J("ngForOf",e.purchaseOrderReturnsItems),t.xp6(3),t.Oqu(t.lcZ(99,83,"TOTAL")),t.xp6(3),t.Oqu(t.lcZ(102,85,e.purchaseOrder.totalDiscount)),t.xp6(3),t.Oqu(t.lcZ(105,87,e.purchaseOrder.totalTax)),t.xp6(3),t.Oqu(t.lcZ(108,89,e.purchaseOrder.totalAmount)),t.xp6(4),t.Oqu(t.lcZ(112,91,"PAID")),t.xp6(3),t.hij("",t.lcZ(115,93,e.purchaseOrder.totalPaidAmount)," "),t.xp6(4),t.Oqu(t.lcZ(119,95,"BALANCE")),t.xp6(3),t.hij("",t.lcZ(122,97,e.purchaseOrder.totalAmount-e.purchaseOrder.totalPaidAmount)," "),t.xp6(2),t.Q6J("ngIf",e.purchaseOrder.purchaseOrderPayments.length>0),t.xp6(1),t.Q6J("ngIf",e.purchaseOrder.termAndCondition),t.xp6(1),t.Q6J("ngIf",e.purchaseOrder.note),t.xp6(5),t.hij(" ",t.lcZ(131,99,"CANCEL")," ")}}function Ze(n,i){1&n&&t._UZ(0,"mat-spinner")}function Te(n,i){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,Ze,1,0,"mat-spinner",4),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isLoading)}}function be(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"app-purchase-order-invoice",45),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("purchaseOrder",e.purchaseOrderForInvoice)}}const ve=function(){return["PO_GENERATE_INVOICE","POR_GENERATE_INVOICE"]};let we=(()=>{class n extends A.H{constructor(e,r,o,c,l,d,m){super(m),this.purchaseOrderService=e,this.routes=r,this.clonerService=o,this.toastrService=c,this.securityService=l,this.location=d,this.translationService=m,this.currentDate=new Date,this.quantitesErrormsg="",this.errorMsg="",this.isLoading=!1,this.isquatation=!1,this.purchaseOrder=null}ngOnInit(){this.getSupplierOrderById(),this.subScribeCompanyProfile()}getSupplierOrderById(){this.sub$.sink=this.routes.params.subscribe(e=>{this.getPurchaseOrderById(e.id)})}subScribeCompanyProfile(){this.securityService.companyProfile.subscribe(e=>{this.companyProfile=e})}getPurchaseOrderById(e){this.isLoading=!0,this.purchaseOrderService.getPurchaseOrderById(e).subscribe(r=>{this.purchaseOrder=this.clonerService.deepClone(r),this.purchaseOrder.totalQuantity=this.purchaseOrder.purchaseOrderItems.map(o=>1==o.status?-1*o.quantity:o.quantity).reduce((o,c)=>o+c),this.purchaseOrderItems=this.purchaseOrder.purchaseOrderItems.filter(o=>0==o.status),this.purchaseOrderReturnsItems=this.purchaseOrder.purchaseOrderItems.filter(o=>1==o.status),this.isLoading=!1},r=>{this.isLoading=!1})}generateInvoice(){let e=this.clonerService.deepClone(this.purchaseOrder);e.purchaseOrderItems.map(r=>{var o;return r.unitName=null===(o=r.unitConversation)||void 0===o?void 0:o.name,r}),this.purchaseOrderForInvoice=e}downloadFile(e,r){const o=new Blob([e.body],{type:e.body.type}),c=document.createElement("a");c.setAttribute("style","display:none;"),document.body.appendChild(c),c.download=r,c.href=URL.createObjectURL(o),c.target="_blank",c.click(),document.body.removeChild(c)}cancel(){this.location.back()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T.x),t.Y36(h.gz),t.Y36(K.$),t.Y36(D._W),t.Y36(ne.I),t.Y36(p.Ye),t.Y36(b.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-purchase-order-detail"]],features:[t.qOj],decls:11,vars:7,consts:[[1,"page-header-main"],[1,"row","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto"],[1,"content-header"],[4,"ngIf"],["class","col-md-auto col-sm-auto",4,"hasClaim"],["class","loading-shade",4,"ngIf"],[1,"btn","blue-btn","btn-sm","m-right-10",3,"click"],[1,"fas","fa-receipt"],[1,"row"],[1,"col-sm-4"],[1,"form-group"],[1,""],[1,"clearfix"],[1,"col-md-4"],[1,"badge-pill",3,"ngClass"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","table-sm"],[1,"head"],[2,"width","1%"],[2,"width","20%"],[2,"width","3%"],[2,"width","2%"],[2,"width","5%"],[2,"width","10%"],[4,"ngFor","ngForOf"],["class","bg-warning1",4,"ngIf"],["class","bg-warning1",4,"ngFor","ngForOf"],["colspan","4",1,"text-right","total"],[1,"text-right","total"],[1,"total"],["colspan","6",1,"text-right","total"],[1,"col-md-12","mb-1"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-times-circle"],[3,"href"],[2,"text-align","center"],[1,"text-right"],[2,"font-size","10px"],["style","font-size: 10px;",4,"ngFor","ngForOf"],[1,"bg-warning1"],["colspan","100%",1,"no-border"],[1,"table","table-bordered","table-hover","table-sm",2,"width","50%"],[1,"col-sm-12"],[1,"loading-shade"],[3,"purchaseOrder"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,ie,3,4,"h1",4),t.YNc(5,oe,3,4,"h1",4),t.qZA()(),t.YNc(6,ae,5,3,"div",5),t.qZA()(),t._UZ(7,"br"),t.YNc(8,Ae,132,105,"ng-container",4),t.YNc(9,Te,2,1,"div",6),t.YNc(10,be,2,1,"ng-container",4)),2&e&&(t.xp6(4),t.Q6J("ngIf",null==r.purchaseOrder?null:r.purchaseOrder.isPurchaseOrderRequest),t.xp6(1),t.Q6J("ngIf",!(null!=r.purchaseOrder&&r.purchaseOrder.isPurchaseOrderRequest)),t.xp6(1),t.Q6J("hasClaim",t.DdM(6,ve)),t.xp6(2),t.Q6J("ngIf",r.purchaseOrder),t.xp6(1),t.Q6J("ngIf",r.isLoading),t.xp6(1),t.Q6J("ngIf",r.purchaseOrderForInvoice))},dependencies:[p.mk,p.sg,p.O5,E.d,X.g,C.Ou,v.R,re.D,z.M,w.X$,W.r],styles:[".total[_ngcontent-%COMP%]{text-align:end;border:1px solid #dee2e6;font-weight:700}.head[_ngcontent-%COMP%]{background-color:#ececec;text-align:center}"]}),n})();var _=a(1777),Y=a(6087),M=a(4847),Me=a(8929),Ie=a(6787),Ue=a(567),Ne=a(6414),Le=a(1421),De=a(7854),Ee=a(5485),tt=a(2349),u=a(2075),I=a(2181),Q=a(1079);function qe(n,i){1&n&&(t.TgZ(0,"div",21),t._UZ(1,"mat-spinner"),t.qZA())}function ye(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"PRODUCT_NAME")))}function Re(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.productName," ")}}function Se(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"SOURCE")))}function Ye(n,i){1&n&&(t.TgZ(0,"ng-contaner"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PURCHASE_ORDER_RETURN")," "))}function Qe(n,i){1&n&&(t.TgZ(0,"ng-contaner"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PURCHASE_ORDER")," "))}function Fe(n,i){if(1&n&&(t.TgZ(0,"td",23),t.YNc(1,Ye,3,3,"ng-contaner",24),t.YNc(2,Qe,3,3,"ng-contaner",24),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.status),t.xp6(1),t.Q6J("ngIf",1!=e.status)}}function Je(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"UNIT")," "))}function je(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.unitName," ")}}function Be(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"UNIT_PER_PRICE")," "))}function He(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.unitPrice)," ")}}function Ve(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"QUANTITY")," "))}function ke(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",1===e.status?-1*e.quantity:e.quantity," ")}}function $e(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL_DISCOUNT")," "))}function Ge(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.AsE(" ",t.lcZ(2,2,e.discount),"(",e.discountPercentage,"%) ")}}function Ke(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TAX")," "))}function Xe(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1," ,"),t.qZA())}function ze(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,Xe,2,0,"span",24),t.qZA()),2&n){const e=i.$implicit,r=i.last;t.xp6(1),t.AsE(" ",e.taxName,"(",e.taxPercentage,"%) "),t.xp6(1),t.Q6J("ngIf",!r)}}function We(n,i){if(1&n&&(t.TgZ(0,"td",23),t.YNc(1,ze,3,3,"span",25),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngForOf",e.purchaseOrderItemTaxes)}}function tn(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL_TAX"),""))}function en(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.taxValue)," ")}}function nn(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL")," "))}function rn(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.unitPrice*e.quantity-e.discount+e.taxValue)," ")}}function on(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"WAREHOUSE"),""))}function an(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.warehouseName," ")}}function cn(n,i){1&n&&t._UZ(0,"tr",26)}function ln(n,i){1&n&&t._UZ(0,"tr",27),2&n&&t.ekj("bg-warning1",1===i.$implicit.status)}let sn=(()=>{class n extends A.H{constructor(e,r){super(r),this.purchaseOrderService=e,this.translationService=r,this.purchaseOrderItems=[],this.isLoading=!1,this.displayedColumns=["productName","source","unitName","unitPrice","quantity","totalDiscount","taxes","totalTax","totalAmount","warehouse"],this.getLangDir()}ngOnInit(){}ngOnChanges(e){e.purchaseOrder&&this.getPurchaseOrderItems()}getPurchaseOrderItems(){this.isLoading=!0,this.purchaseOrderService.getPurchaseOrderItems(this.purchaseOrder.id).subscribe(e=>{this.isLoading=!1,this.purchaseOrderItems=e},()=>this.isLoading=!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T.x),t.Y36(b.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-purchase-order-item"]],inputs:{purchaseOrder:"purchaseOrder"},features:[t.qOj,t.TTD],decls:42,vars:9,consts:[[1,"page-header-main"],[1,"row","align-items-center"],[1,"col-md-auto","col-sm-auto"],[1,"content-header"],["class","loading-shade",4,"ngIf"],[1,"table-responsive"],["mat-table","",1,"table","table-bordered","table-hover",3,"dir","dataSource"],["matColumnDef","productName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","source"],["matColumnDef","unitName"],["matColumnDef","unitPrice"],["matColumnDef","quantity"],["matColumnDef","totalDiscount"],["matColumnDef","taxes"],["matColumnDef","totalTax"],["matColumnDef","totalAmount"],["matColumnDef","warehouse"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"bg-warning1",4,"matRowDef","matRowDefColumns"],[1,"loading-shade"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["mat-header-row",""],["mat-row",""]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),t._uU(5),t.ALo(6,"translate"),t.qZA()()()()(),t.YNc(7,qe,2,0,"div",4),t.TgZ(8,"div",5)(9,"table",6),t.ynx(10,7),t.YNc(11,ye,3,3,"th",8),t.YNc(12,Re,2,1,"td",9),t.BQk(),t.ynx(13,10),t.YNc(14,Se,3,3,"th",8),t.YNc(15,Fe,3,2,"td",9),t.BQk(),t.ynx(16,11),t.YNc(17,Je,3,3,"th",8),t.YNc(18,je,2,1,"td",9),t.BQk(),t.ynx(19,12),t.YNc(20,Be,3,3,"th",8),t.YNc(21,He,3,3,"td",9),t.BQk(),t.ynx(22,13),t.YNc(23,Ve,3,3,"th",8),t.YNc(24,ke,2,1,"td",9),t.BQk(),t.ynx(25,14),t.YNc(26,$e,3,3,"th",8),t.YNc(27,Ge,3,4,"td",9),t.BQk(),t.ynx(28,15),t.YNc(29,Ke,3,3,"th",8),t.YNc(30,We,2,1,"td",9),t.BQk(),t.ynx(31,16),t.YNc(32,tn,3,3,"th",8),t.YNc(33,en,3,3,"td",9),t.BQk(),t.ynx(34,17),t.YNc(35,nn,3,3,"th",8),t.YNc(36,rn,3,3,"td",9),t.BQk(),t.ynx(37,18),t.YNc(38,on,3,3,"th",8),t.YNc(39,an,2,1,"td",9),t.BQk(),t.YNc(40,cn,1,0,"tr",19),t.YNc(41,ln,1,2,"tr",20),t.qZA()()),2&e&&(t.xp6(5),t.Oqu(t.lcZ(6,7,"PURCHASE_ORDER_ITEMS")),t.xp6(2),t.Q6J("ngIf",r.isLoading),t.xp6(2),t.Q6J("dir",r.langDir)("dataSource",r.purchaseOrderItems),t.xp6(31),t.Q6J("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns))},dependencies:[p.sg,p.O5,q.Lv,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,C.Ou,v.R,w.X$]}),n})();const un=function(){return["/purchase-order/add"]};function dn(n,i){1&n&&(t.TgZ(0,"button",52),t._UZ(1,"i",53),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n&&(t.Q6J("routerLink",t.DdM(4,un)),t.xp6(2),t.hij(" ",t.lcZ(3,2,"ADD_PURCHASE_ORDER")," "))}function pn(n,i){1&n&&(t.TgZ(0,"div",54),t._UZ(1,"mat-spinner"),t.qZA())}function mn(n,i){1&n&&t._UZ(0,"th",55)}function hn(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"chevron_right"),t.qZA())}function _n(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"expand_more"),t.qZA())}function gn(n,i){if(1&n&&(t.TgZ(0,"button",62)(1,"mat-icon"),t._uU(2,"more_vert"),t.qZA()()),2&n){t.oxw();const e=t.MAs(6);t.Q6J("matMenuTriggerFor",e)}}const On=function(n){return["/purchase-order/",n]};function xn(n,i){if(1&n&&(t.TgZ(0,"button",63)(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.Q6J("routerLink",t.VKq(4,On,e.id)),t.xp6(4),t.Oqu(t.lcZ(5,2,"EDIT"))}}function Cn(n,i){1&n&&(t.TgZ(0,"ng-contaner"),t.YNc(1,xn,6,6,"button",60),t.qZA()),2&n&&(t.xp6(1),t.Q6J("hasClaim","PO_UPDATE_PO"))}const et=function(n){return["/purchase-order/detail",n]};function Pn(n,i){if(1&n&&(t.TgZ(0,"button",63)(1,"mat-icon"),t._uU(2,"info"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(4,et,e.id)),t.xp6(4),t.Oqu(t.lcZ(5,2,"DETAIL"))}}function fn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",64),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,c=t.oxw();return t.KtG(c.deletePurchaseOrder(o))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"DELETE")))}function An(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",64),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,c=t.oxw();return t.KtG(c.OnPurchaseOrderReturn(o))}),t.TgZ(1,"mat-icon"),t._uU(2,"assignment_return"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"PURCHASE_ORDER_RETURN")))}function Zn(n,i){1&n&&(t.TgZ(0,"ng-contaner"),t.YNc(1,An,6,3,"button",61),t.qZA()),2&n&&(t.xp6(1),t.Q6J("hasClaim","PO_RETURN_PO"))}function Tn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",64),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,c=t.oxw();return t.KtG(c.addPayment(o))}),t.TgZ(1,"mat-icon"),t._uU(2,"payment"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"ADD_PAYMENT")))}function bn(n,i){1&n&&(t.TgZ(0,"ng-contaner"),t.YNc(1,Tn,6,3,"button",61),t.qZA()),2&n&&(t.xp6(1),t.Q6J("hasClaim","PO_ADD_PO_PAYMENT"))}function vn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",64),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,c=t.oxw();return t.KtG(c.viewPayment(o))}),t.TgZ(1,"mat-icon"),t._uU(2,"view_carousel"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"VIEW_PAYMENT")))}function wn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",64),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,c=t.oxw();return t.KtG(c.generateInvoice(o))}),t.TgZ(1,"mat-icon"),t._uU(2,"receipt"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"GENERATE_INVOICE")))}const Mn=function(){return["PO_UPDATE_PO","PO_VIEW_PO_DETAIL","PO_DELETE_PO","PO_RETURN_PO","PO_ADD_PO_PAYMENT","PO_VIEW_PO_PAYMENTS","PO_GENERATE_INVOICE"]};function In(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",56)(1,"button",57),t.NdJ("click",function(){const c=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.toggleRow(c))}),t.YNc(2,hn,2,0,"mat-icon",51),t.YNc(3,_n,2,0,"mat-icon",51),t.qZA(),t.YNc(4,gn,3,1,"button",58),t.TgZ(5,"mat-menu",null,59),t.YNc(7,Cn,2,1,"ng-contaner",51),t.YNc(8,Pn,6,6,"button",60),t.YNc(9,fn,6,3,"button",61),t.YNc(10,Zn,2,1,"ng-contaner",51),t.YNc(11,bn,2,1,"ng-contaner",51),t.YNc(12,vn,6,3,"button",61),t.YNc(13,wn,6,3,"button",61),t.qZA()()}if(2&n){const e=i.$implicit,r=t.oxw();t.xp6(2),t.Q6J("ngIf",e!=r.expandedElement),t.xp6(1),t.Q6J("ngIf",e==r.expandedElement),t.xp6(1),t.Q6J("hasClaim",t.DdM(10,Mn)),t.xp6(3),t.Q6J("ngIf",0==e.status),t.xp6(1),t.Q6J("hasClaim","PO_VIEW_PO_DETAIL"),t.xp6(1),t.Q6J("hasClaim","PO_DELETE_PO"),t.xp6(1),t.Q6J("ngIf",0==e.status),t.xp6(1),t.Q6J("ngIf",0!=e.paymentStatus),t.xp6(1),t.Q6J("hasClaim","PO_VIEW_PO_PAYMENTS"),t.xp6(1),t.Q6J("hasClaim","PO_GENERATE_INVOICE")}}function Un(n,i){1&n&&(t.TgZ(0,"th",65),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CREATED_DATE")," "))}function Nn(n,i){if(1&n&&(t.TgZ(0,"td",66),t._uU(1),t.ALo(2,"utcToLocalTime"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.poCreatedDate,"shortDate")," ")}}function Ln(n,i){1&n&&(t.TgZ(0,"th",67),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ORDER_NUMBER")," "))}function Dn(n,i){if(1&n&&(t.TgZ(0,"td",56)(1,"a",68),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(2,et,e.id)),t.xp6(1),t.hij("",e.orderNumber," ")}}function En(n,i){1&n&&(t.TgZ(0,"th",67),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DELIVERY_DATE")," "))}function qn(n,i){if(1&n&&(t.TgZ(0,"td",66),t._uU(1),t.ALo(2,"utcToLocalTime"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.deliveryDate,"shortDate")," ")}}function yn(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SUPPLIER_NAME")," "))}const Rn=function(n){return["/supplier/manage/",n]};function Sn(n,i){if(1&n&&(t.TgZ(0,"td",70)(1,"a",68),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(2,Rn,e.supplierId)),t.xp6(1),t.hij(" ",e.supplierName," ")}}function Yn(n,i){1&n&&(t.TgZ(0,"th",71),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL_DISCOUNT")," "))}function Qn(n,i){if(1&n&&(t.TgZ(0,"td",72),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.totalDiscount)," ")}}function Fn(n,i){1&n&&(t.TgZ(0,"th",71),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL_TAX")," "))}function Jn(n,i){if(1&n&&(t.TgZ(0,"td",72),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.totalTax)," ")}}function jn(n,i){1&n&&(t.TgZ(0,"th",71),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL_AMOUNT")," "))}function Bn(n,i){if(1&n&&(t.TgZ(0,"td",72),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.totalAmount)," ")}}function Hn(n,i){1&n&&(t.TgZ(0,"th",71),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL_PAID_AMOUNT")," "))}function Vn(n,i){if(1&n&&(t.TgZ(0,"td",72),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.totalPaidAmount)," ")}}function kn(n,i){1&n&&(t.TgZ(0,"th",67),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PAYMENT_STATUS")," "))}const $n=function(n,i,e){return{"badge-success":n,"badge-danger":i,"badge-warning":e}};function Gn(n,i){if(1&n&&(t.TgZ(0,"td",73)(1,"span",74),t._uU(2),t.ALo(3,"paymentStatus"),t.qZA()()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngClass",t.kEZ(4,$n,0==e.paymentStatus,1==e.paymentStatus,2==e.paymentStatus)),t.xp6(1),t.hij(" ",t.lcZ(3,2,e.paymentStatus),"")}}function Kn(n,i){1&n&&(t.TgZ(0,"th",71),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IS_RETURN")," "))}function Xn(n,i){1&n&&(t.TgZ(0,"ng-contaner"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"YES")," "))}function zn(n,i){1&n&&(t.TgZ(0,"ng-contaner"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NO")," "))}function Wn(n,i){if(1&n&&(t.TgZ(0,"td",72),t.YNc(1,Xn,3,3,"ng-contaner",51),t.YNc(2,zn,3,3,"ng-contaner",51),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.status),t.xp6(1),t.Q6J("ngIf",1!=e.status)}}function tr(n,i){1&n&&t._UZ(0,"th",75)}function er(n,i){1&n&&t._UZ(0,"th",75)}function nr(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"th",75)(1,"input",76),t.NdJ("ngModelChange",function(o){t.CHM(e);const c=t.oxw();return t.KtG(c.OrderNumberFilter=o)}),t.ALo(2,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"ORDER_NO")),t.Q6J("ngModel",e.OrderNumberFilter)}}function rr(n,i){1&n&&t._UZ(0,"th",75)}function ir(n,i){if(1&n&&(t.TgZ(0,"mat-option",82),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.supplierName),t.xp6(1),t.hij(" ",e.supplierName," ")}}function or(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"th",75),t._UZ(1,"input",77),t.ALo(2,"translate"),t.TgZ(3,"mat-autocomplete",78,79),t.NdJ("optionSelected",function(o){t.CHM(e);const c=t.oxw();return t.KtG(c.SupplierFilter=o.option.value)}),t.TgZ(5,"mat-option",80),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.YNc(8,ir,2,2,"mat-option",81),t.ALo(9,"async"),t.qZA()()}if(2&n){const e=t.MAs(4),r=t.oxw();t.xp6(1),t.s9C("placeholder",t.lcZ(2,6,"SUPPLIER")),t.Q6J("formControl",r.supplierNameControl)("matAutocomplete",e),t.xp6(2),t.Q6J("autoActiveFirstOption",!0),t.xp6(3),t.Oqu(t.lcZ(7,8,"NONE")),t.xp6(2),t.Q6J("ngForOf",t.lcZ(9,10,r.supplierList$))}}function ar(n,i){1&n&&t._UZ(0,"th",75)}function cr(n,i){1&n&&t._UZ(0,"th",75)}function lr(n,i){1&n&&t._UZ(0,"th",75)}function sr(n,i){1&n&&t._UZ(0,"th",75)}function ur(n,i){1&n&&t._UZ(0,"th",75)}function dr(n,i){1&n&&t._UZ(0,"th",75)}const pr=function(){return[10,20,30]};function mr(n,i){if(1&n&&(t.TgZ(0,"td",83),t._UZ(1,"mat-paginator",84),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("length",e.purchaseOrderResource.totalCount)("pageSize",e.purchaseOrderResource.pageSize)("pageSizeOptions",t.DdM(3,pr))}}function hr(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",85)(2,"div",86),t._UZ(3,"app-purchase-order-item",87),t.qZA()(),t.BQk()),2&n){const e=t.oxw().$implicit,r=t.oxw();t.xp6(1),t.Q6J("@detailExpand",e==r.expandedElement?"expanded":"collapsed"),t.xp6(2),t.Q6J("purchaseOrder",e)}}function _r(n,i){if(1&n&&(t.TgZ(0,"td",72),t.YNc(1,hr,4,2,"ng-container",51),t.qZA()),2&n){const e=i.$implicit,r=t.oxw();t.uIk("colspan",r.displayedColumns.length),t.xp6(1),t.Q6J("ngIf",e==r.expandedElement)}}function gr(n,i){1&n&&(t.TgZ(0,"tr")(1,"td",88)(2,"span",89)(3,"b"),t._uU(4),t.ALo(5,"translate"),t.qZA()()()()),2&n&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"NO_DATA_FOUND"),""))}function Or(n,i){1&n&&t._UZ(0,"tr",90)}function xr(n,i){1&n&&t._UZ(0,"tr",91),2&n&&t.ekj("bg-warning1",1===i.$implicit.status)}function Cr(n,i){1&n&&t._UZ(0,"tr",90)}function Pr(n,i){1&n&&t._UZ(0,"tr",92)}function fr(n,i){1&n&&t._UZ(0,"tr",93)}function Ar(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"app-purchase-order-invoice",87),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("purchaseOrder",e.purchaseOrderForInvoice)}}const Zr=function(){return["expandedDetail"]},Tr=[{path:"list",component:(()=>{class n extends A.H{constructor(e,r,o,c,l,d,m,g,F){super(m),this.purchaseOrderService=e,this.supplierService=r,this.cd=o,this.commonDialogService=c,this.toastrService=l,this.router=d,this.translationService=m,this.dialog=g,this.clonerService=F,this.purchaseOrders=[],this.displayedColumns=["action","poCreatedDate","orderNumber","deliveryDate","supplierName","totalDiscount","totalTax","totalAmount","totalPaidAmount","paymentStatus","status"],this.filterColumns=["action-search","poCreatedDate-search","orderNumber-search","deliverDate-search","supplier-search","totalAmount-search","totalDiscount-search","totalTax-search","totalPaidAmount-search","paymentStatus-search","status-search"],this.footerToDisplayed=["footer"],this.isLoadingResults=!0,this.supplierNameControl=new s.p4,this.filterObservable$=new Me.xQ,this.getLangDir(),this.purchaseOrderResource=new H.D,this.purchaseOrderResource.pageSize=50,this.purchaseOrderResource.orderBy="poCreatedDate asc",this.purchaseOrderResource.isPurchaseOrderRequest=!1}get SupplierFilter(){return this._supplierFilter}set SupplierFilter(e){this._supplierFilter=e,this.filterObservable$.next(`supplierName:${e}`)}get OrderNumberFilter(){return this._orderNumberFilter}set OrderNumberFilter(e){this._orderNumberFilter=e,this.filterObservable$.next(`orderNumber:${e}`)}ngOnInit(){this.supplierNameControlOnChange(),this.dataSource=new De.w(this.purchaseOrderService),this.dataSource.loadData(this.purchaseOrderResource),this.getResourceParameter(),this.sub$.sink=this.filterObservable$.pipe((0,O.b)(1e3),(0,x.x)()).subscribe(e=>{this.purchaseOrderResource.skip=0,this.paginator.pageIndex=0;const r=e.split(":");"supplierName"===r[0]?this.purchaseOrderResource.supplierName=r[1]:"orderNumber"===r[0]&&(this.purchaseOrderResource.orderNumber=r[1]),this.dataSource.loadData(this.purchaseOrderResource)})}supplierNameControlOnChange(){this.supplierList$=this.supplierNameControl.valueChanges.pipe((0,O.b)(1e3),(0,x.x)(),(0,f.w)(e=>this.supplierService.getSuppliersForDropDown(e)))}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.sub$.sink=(0,Ie.T)(this.sort.sortChange,this.paginator.page).pipe((0,j.b)(e=>{this.purchaseOrderResource.skip=this.paginator.pageIndex*this.paginator.pageSize,this.purchaseOrderResource.pageSize=this.paginator.pageSize,this.purchaseOrderResource.orderBy=this.sort.active+" "+this.sort.direction,this.dataSource.loadData(this.purchaseOrderResource)})).subscribe()}getResourceParameter(){this.sub$.sink=this.dataSource.responseHeaderSubject$.subscribe(e=>{e&&(this.purchaseOrderResource.pageSize=e.pageSize,this.purchaseOrderResource.skip=e.skip,this.purchaseOrderResource.totalCount=e.totalCount)})}toggleRow(e){this.expandedElement=this.expandedElement===e?null:e,this.cd.detectChanges()}poChangeEvent(e){this.toggleRow(e)}deletePurchaseOrder(e){this.commonDialogService.deleteConformationDialog(this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")).subscribe(r=>{r&&this.purchaseOrderService.deletePurchaseOrder(e.id).subscribe(()=>{this.toastrService.success(this.translationService.getValue("PURCHASE_ORDER_DELETED_SUCCESSFULLY")),this.dataSource.loadData(this.purchaseOrderResource)})})}addPayment(e){this.dialog.open(Ne.H,{width:"100vh",direction:this.langDir,data:Object.assign({},e)}).afterClosed().subscribe(o=>{o&&this.dataSource.loadData(this.purchaseOrderResource)})}viewPayment(e){this.dialog.open(Le.l,{data:Object.assign({},e),direction:this.langDir}).afterClosed().subscribe(o=>{o&&this.dataSource.loadData(this.purchaseOrderResource)})}OnPurchaseOrderReturn(e){this.router.navigate(["/purchase-order-return",e.id])}generateInvoice(e){let r=this.clonerService.deepClone(e);const o=this.supplierService.getSupplier(e.supplierId),c=this.purchaseOrderService.getPurchaseOrderItems(e.id);(0,Ue.D)({getSupplierRequest:o,getPurchaseOrderItems:c}).subscribe(l=>{r.supplier=l.getSupplierRequest,r.purchaseOrderItems=l.getPurchaseOrderItems,this.purchaseOrderForInvoice=r})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T.x),t.Y36(V.p),t.Y36(t.sBO),t.Y36(Ee.V),t.Y36(D._W),t.Y36(h.F0),t.Y36(b.D),t.Y36(tt.uw),t.Y36(K.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-purchase-order-list"]],viewQuery:function(e,r){if(1&e&&(t.Gf(Y.NW,5),t.Gf(M.YE,5)),2&e){let o;t.iGM(o=t.CRH())&&(r.paginator=o.first),t.iGM(o=t.CRH())&&(r.sort=o.first)}},features:[t.qOj],decls:81,vars:19,consts:[[1,"page-header-main"],[1,"row","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto"],[1,"content-header"],["class","btn blue-btn btn-sm m-right-10",3,"routerLink",4,"hasClaim"],["class","loading-shade",4,"ngIf"],[1,"row"],[1,"col-sm-12"],[1,"table-responsive"],["mat-table","","multiTemplateDataRows","","matSort","","matSortActive","poCreatedDate",1,"table","table-bordered","table-hover","grid-height",3,"dir","dataSource"],["matColumnDef","action"],["class","table-column-150","mat-header-cell","",4,"matHeaderCellDef"],["class","table-column-150","mat-cell","",4,"matCellDef"],["matColumnDef","poCreatedDate"],["class","table-column-100","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","table-column-100","mat-cell","",4,"matCellDef"],["matColumnDef","orderNumber"],["class","table-column-150","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","deliveryDate"],["matColumnDef","supplierName"],["class","table-column-300","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","table-column-300","mat-cell","",4,"matCellDef"],["matColumnDef","totalDiscount"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","totalTax"],["matColumnDef","totalAmount"],["matColumnDef","totalPaidAmount"],["matColumnDef","paymentStatus"],["class","table-column-150","mat-cell","","style","text-align: center;",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","action-search"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","poCreatedDate-search"],["matColumnDef","orderNumber-search"],["matColumnDef","deliverDate-search"],["matColumnDef","supplier-search"],["matColumnDef","totalAmount-search"],["matColumnDef","totalDiscount-search"],["matColumnDef","totalTax-search"],["matColumnDef","totalPaidAmount-search"],["matColumnDef","paymentStatus-search"],["matColumnDef","status-search"],["matColumnDef","footer"],["mat-footer-cell","","colspan","12",4,"matFooterCellDef"],["matColumnDef","expandedDetail"],[4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"bg-warning1",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[1,"btn","blue-btn","btn-sm","m-right-10",3,"routerLink"],[1,"fas","fa-plus"],[1,"loading-shade"],["mat-header-cell","",1,"table-column-150"],["mat-cell","",1,"table-column-150"],["mat-icon-button","",3,"click"],["class","ml-4","mat-icon-button","","aria-label","Action",3,"matMenuTriggerFor",4,"hasClaim"],["menu","matMenu"],["mat-menu-item","",3,"routerLink",4,"hasClaim"],["mat-menu-item","",3,"click",4,"hasClaim"],["mat-icon-button","","aria-label","Action",1,"ml-4",3,"matMenuTriggerFor"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click"],["mat-header-cell","","mat-sort-header","",1,"table-column-100"],["mat-cell","",1,"table-column-100"],["mat-header-cell","","mat-sort-header","",1,"table-column-150"],[3,"routerLink"],["mat-header-cell","","mat-sort-header","",1,"table-column-300"],["mat-cell","",1,"table-column-300"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"table-column-150",2,"text-align","center"],[1,"badge-pill",3,"ngClass"],["mat-header-cell",""],["type","text",1,"form-control","w-90",3,"placeholder","ngModel","ngModelChange"],["type","text",1,"form-control","w-90",3,"placeholder","formControl","matAutocomplete"],[3,"autoActiveFirstOption","optionSelected"],["autoSupplier","matAutocomplete"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-footer-cell","","colspan","12"],[3,"length","pageSize","pageSizeOptions"],[1,"example-element-detail"],[1,"inner-table","mat-elevation-z8"],[3,"purchaseOrder"],["colspan","9"],[1,"p-4","mt-4"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""],["mat-row","",1,"example-detail-row"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"div",2),t.YNc(8,dn,4,5,"button",4),t.qZA()()(),t.YNc(9,pn,2,0,"div",5),t.ALo(10,"async"),t.TgZ(11,"div",6)(12,"div",7)(13,"div",8)(14,"table",9),t.ynx(15,10),t.YNc(16,mn,1,0,"th",11),t.YNc(17,In,14,11,"td",12),t.BQk(),t.ynx(18,13),t.YNc(19,Un,3,3,"th",14),t.YNc(20,Nn,3,4,"td",15),t.BQk(),t.ynx(21,16),t.YNc(22,Ln,3,3,"th",17),t.YNc(23,Dn,3,4,"td",12),t.BQk(),t.ynx(24,18),t.YNc(25,En,3,3,"th",17),t.YNc(26,qn,3,4,"td",15),t.BQk(),t.ynx(27,19),t.YNc(28,yn,3,3,"th",20),t.YNc(29,Sn,3,4,"td",21),t.BQk(),t.ynx(30,22),t.YNc(31,Yn,3,3,"th",23),t.YNc(32,Qn,3,3,"td",24),t.BQk(),t.ynx(33,25),t.YNc(34,Fn,3,3,"th",23),t.YNc(35,Jn,3,3,"td",24),t.BQk(),t.ynx(36,26),t.YNc(37,jn,3,3,"th",23),t.YNc(38,Bn,3,3,"td",24),t.BQk(),t.ynx(39,27),t.YNc(40,Hn,3,3,"th",23),t.YNc(41,Vn,3,3,"td",24),t.BQk(),t.ynx(42,28),t.YNc(43,kn,3,3,"th",17),t.YNc(44,Gn,4,8,"td",29),t.BQk(),t.ynx(45,30),t.YNc(46,Kn,3,3,"th",23),t.YNc(47,Wn,3,2,"td",24),t.BQk(),t.ynx(48,31),t.YNc(49,tr,1,0,"th",32),t.BQk(),t.ynx(50,33),t.YNc(51,er,1,0,"th",32),t.BQk(),t.ynx(52,34),t.YNc(53,nr,3,4,"th",32),t.BQk(),t.ynx(54,35),t.YNc(55,rr,1,0,"th",32),t.BQk(),t.ynx(56,36),t.YNc(57,or,10,12,"th",32),t.BQk(),t.ynx(58,37),t.YNc(59,ar,1,0,"th",32),t.BQk(),t.ynx(60,38),t.YNc(61,cr,1,0,"th",32),t.BQk(),t.ynx(62,39),t.YNc(63,lr,1,0,"th",32),t.BQk(),t.ynx(64,40),t.YNc(65,sr,1,0,"th",32),t.BQk(),t.ynx(66,41),t.YNc(67,ur,1,0,"th",32),t.BQk(),t.ynx(68,42),t.YNc(69,dr,1,0,"th",32),t.BQk(),t.ynx(70,43),t.YNc(71,mr,2,4,"td",44),t.BQk(),t.ynx(72,45),t.YNc(73,_r,2,2,"td",24),t.BQk(),t.YNc(74,gr,6,3,"tr",46),t.YNc(75,Or,1,0,"tr",47),t.YNc(76,xr,1,2,"tr",48),t.YNc(77,Cr,1,0,"tr",47),t.YNc(78,Pr,1,0,"tr",49),t.YNc(79,fr,1,0,"tr",50),t.qZA()()()(),t.YNc(80,Ar,2,1,"ng-container",51)),2&e&&(t.xp6(5),t.Oqu(t.lcZ(6,14,"PURCHASE_ORDERS")),t.xp6(3),t.Q6J("hasClaim","PO_ADD_PO"),t.xp6(1),t.Q6J("ngIf",t.lcZ(10,16,r.dataSource.loading$)),t.xp6(5),t.Q6J("dir",r.langDir)("dataSource",r.dataSource),t.xp6(61),t.Q6J("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("matHeaderRowDef",r.filterColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matFooterRowDef",r.footerToDisplayed)("matFooterRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(18,Zr)),t.xp6(1),t.Q6J("ngIf",r.purchaseOrderForInvoice))},dependencies:[p.mk,p.sg,p.O5,s.Fj,s.JJ,s.On,h.rH,h.yS,s.oH,E.d,q.Lv,X.g,y.ey,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.mD,u.Ke,u.ge,u.ev,u.yh,u.XQ,u.Gk,u.Q2,u.Ee,Y.NW,M.YE,M.nU,I.VK,I.OP,I.p6,R.Hw,S.lW,Q.XC,Q.ZL,C.Ou,sn,p.Ov,v.R,z.M,w.X$,W.r],styles:[".mat-table[_ngcontent-%COMP%]{display:block;width:100%;overflow-x:auto}.table-column-0[_ngcontent-%COMP%]{min-width:0px}.table-column-2[_ngcontent-%COMP%]{min-width:2px}.table-column-4[_ngcontent-%COMP%]{min-width:4px}.table-column-6[_ngcontent-%COMP%]{min-width:6px}.table-column-8[_ngcontent-%COMP%]{min-width:8px}.table-column-10[_ngcontent-%COMP%]{min-width:10px}.table-column-12[_ngcontent-%COMP%]{min-width:12px}.table-column-14[_ngcontent-%COMP%]{min-width:14px}.table-column-16[_ngcontent-%COMP%]{min-width:16px}.table-column-18[_ngcontent-%COMP%]{min-width:18px}.table-column-20[_ngcontent-%COMP%]{min-width:20px}.table-column-22[_ngcontent-%COMP%]{min-width:22px}.table-column-24[_ngcontent-%COMP%]{min-width:24px}.table-column-26[_ngcontent-%COMP%]{min-width:26px}.table-column-28[_ngcontent-%COMP%]{min-width:28px}.table-column-30[_ngcontent-%COMP%]{min-width:30px}.table-column-32[_ngcontent-%COMP%]{min-width:32px}.table-column-34[_ngcontent-%COMP%]{min-width:34px}.table-column-36[_ngcontent-%COMP%]{min-width:36px}.table-column-38[_ngcontent-%COMP%]{min-width:38px}.table-column-40[_ngcontent-%COMP%]{min-width:40px}.table-column-42[_ngcontent-%COMP%]{min-width:42px}.table-column-44[_ngcontent-%COMP%]{min-width:44px}.table-column-46[_ngcontent-%COMP%]{min-width:46px}.table-column-48[_ngcontent-%COMP%]{min-width:48px}.table-column-50[_ngcontent-%COMP%]{min-width:50px}.table-column-52[_ngcontent-%COMP%]{min-width:52px}.table-column-54[_ngcontent-%COMP%]{min-width:54px}.table-column-56[_ngcontent-%COMP%]{min-width:56px}.table-column-58[_ngcontent-%COMP%]{min-width:58px}.table-column-60[_ngcontent-%COMP%]{min-width:60px}.table-column-62[_ngcontent-%COMP%]{min-width:62px}.table-column-64[_ngcontent-%COMP%]{min-width:64px}.table-column-66[_ngcontent-%COMP%]{min-width:66px}.table-column-68[_ngcontent-%COMP%]{min-width:68px}.table-column-70[_ngcontent-%COMP%]{min-width:70px}.table-column-72[_ngcontent-%COMP%]{min-width:72px}.table-column-74[_ngcontent-%COMP%]{min-width:74px}.table-column-76[_ngcontent-%COMP%]{min-width:76px}.table-column-78[_ngcontent-%COMP%]{min-width:78px}.table-column-80[_ngcontent-%COMP%]{min-width:80px}.table-column-82[_ngcontent-%COMP%]{min-width:82px}.table-column-84[_ngcontent-%COMP%]{min-width:84px}.table-column-86[_ngcontent-%COMP%]{min-width:86px}.table-column-88[_ngcontent-%COMP%]{min-width:88px}.table-column-90[_ngcontent-%COMP%]{min-width:90px}.table-column-92[_ngcontent-%COMP%]{min-width:92px}.table-column-94[_ngcontent-%COMP%]{min-width:94px}.table-column-96[_ngcontent-%COMP%]{min-width:96px}.table-column-98[_ngcontent-%COMP%]{min-width:98px}.table-column-100[_ngcontent-%COMP%]{min-width:100px}.table-column-102[_ngcontent-%COMP%]{min-width:102px}.table-column-104[_ngcontent-%COMP%]{min-width:104px}.table-column-106[_ngcontent-%COMP%]{min-width:106px}.table-column-108[_ngcontent-%COMP%]{min-width:108px}.table-column-110[_ngcontent-%COMP%]{min-width:110px}.table-column-112[_ngcontent-%COMP%]{min-width:112px}.table-column-114[_ngcontent-%COMP%]{min-width:114px}.table-column-116[_ngcontent-%COMP%]{min-width:116px}.table-column-118[_ngcontent-%COMP%]{min-width:118px}.table-column-120[_ngcontent-%COMP%]{min-width:120px}.table-column-122[_ngcontent-%COMP%]{min-width:122px}.table-column-124[_ngcontent-%COMP%]{min-width:124px}.table-column-126[_ngcontent-%COMP%]{min-width:126px}.table-column-128[_ngcontent-%COMP%]{min-width:128px}.table-column-130[_ngcontent-%COMP%]{min-width:130px}.table-column-132[_ngcontent-%COMP%]{min-width:132px}.table-column-134[_ngcontent-%COMP%]{min-width:134px}.table-column-136[_ngcontent-%COMP%]{min-width:136px}.table-column-138[_ngcontent-%COMP%]{min-width:138px}.table-column-140[_ngcontent-%COMP%]{min-width:140px}.table-column-142[_ngcontent-%COMP%]{min-width:142px}.table-column-144[_ngcontent-%COMP%]{min-width:144px}.table-column-146[_ngcontent-%COMP%]{min-width:146px}.table-column-148[_ngcontent-%COMP%]{min-width:148px}.table-column-150[_ngcontent-%COMP%]{min-width:150px}.table-column-152[_ngcontent-%COMP%]{min-width:152px}.table-column-154[_ngcontent-%COMP%]{min-width:154px}.table-column-156[_ngcontent-%COMP%]{min-width:156px}.table-column-158[_ngcontent-%COMP%]{min-width:158px}.table-column-160[_ngcontent-%COMP%]{min-width:160px}.table-column-162[_ngcontent-%COMP%]{min-width:162px}.table-column-164[_ngcontent-%COMP%]{min-width:164px}.table-column-166[_ngcontent-%COMP%]{min-width:166px}.table-column-168[_ngcontent-%COMP%]{min-width:168px}.table-column-170[_ngcontent-%COMP%]{min-width:170px}.table-column-172[_ngcontent-%COMP%]{min-width:172px}.table-column-174[_ngcontent-%COMP%]{min-width:174px}.table-column-176[_ngcontent-%COMP%]{min-width:176px}.table-column-178[_ngcontent-%COMP%]{min-width:178px}.table-column-180[_ngcontent-%COMP%]{min-width:180px}.table-column-182[_ngcontent-%COMP%]{min-width:182px}.table-column-184[_ngcontent-%COMP%]{min-width:184px}.table-column-186[_ngcontent-%COMP%]{min-width:186px}.table-column-188[_ngcontent-%COMP%]{min-width:188px}.table-column-190[_ngcontent-%COMP%]{min-width:190px}.table-column-192[_ngcontent-%COMP%]{min-width:192px}.table-column-194[_ngcontent-%COMP%]{min-width:194px}.table-column-196[_ngcontent-%COMP%]{min-width:196px}.table-column-198[_ngcontent-%COMP%]{min-width:198px}.table-column-200[_ngcontent-%COMP%]{min-width:200px}.table-column-202[_ngcontent-%COMP%]{min-width:202px}.table-column-204[_ngcontent-%COMP%]{min-width:204px}.table-column-206[_ngcontent-%COMP%]{min-width:206px}.table-column-208[_ngcontent-%COMP%]{min-width:208px}.table-column-210[_ngcontent-%COMP%]{min-width:210px}.table-column-212[_ngcontent-%COMP%]{min-width:212px}.table-column-214[_ngcontent-%COMP%]{min-width:214px}.table-column-216[_ngcontent-%COMP%]{min-width:216px}.table-column-218[_ngcontent-%COMP%]{min-width:218px}.table-column-220[_ngcontent-%COMP%]{min-width:220px}.table-column-222[_ngcontent-%COMP%]{min-width:222px}.table-column-224[_ngcontent-%COMP%]{min-width:224px}.table-column-226[_ngcontent-%COMP%]{min-width:226px}.table-column-228[_ngcontent-%COMP%]{min-width:228px}.table-column-230[_ngcontent-%COMP%]{min-width:230px}.table-column-232[_ngcontent-%COMP%]{min-width:232px}.table-column-234[_ngcontent-%COMP%]{min-width:234px}.table-column-236[_ngcontent-%COMP%]{min-width:236px}.table-column-238[_ngcontent-%COMP%]{min-width:238px}.table-column-240[_ngcontent-%COMP%]{min-width:240px}.table-column-242[_ngcontent-%COMP%]{min-width:242px}.table-column-244[_ngcontent-%COMP%]{min-width:244px}.table-column-246[_ngcontent-%COMP%]{min-width:246px}.table-column-248[_ngcontent-%COMP%]{min-width:248px}.table-column-250[_ngcontent-%COMP%]{min-width:250px}.table-column-252[_ngcontent-%COMP%]{min-width:252px}.table-column-254[_ngcontent-%COMP%]{min-width:254px}.table-column-256[_ngcontent-%COMP%]{min-width:256px}.table-column-258[_ngcontent-%COMP%]{min-width:258px}.table-column-260[_ngcontent-%COMP%]{min-width:260px}.table-column-262[_ngcontent-%COMP%]{min-width:262px}.table-column-264[_ngcontent-%COMP%]{min-width:264px}.table-column-266[_ngcontent-%COMP%]{min-width:266px}.table-column-268[_ngcontent-%COMP%]{min-width:268px}.table-column-270[_ngcontent-%COMP%]{min-width:270px}.table-column-272[_ngcontent-%COMP%]{min-width:272px}.table-column-274[_ngcontent-%COMP%]{min-width:274px}.table-column-276[_ngcontent-%COMP%]{min-width:276px}.table-column-278[_ngcontent-%COMP%]{min-width:278px}.table-column-280[_ngcontent-%COMP%]{min-width:280px}.table-column-282[_ngcontent-%COMP%]{min-width:282px}.table-column-284[_ngcontent-%COMP%]{min-width:284px}.table-column-286[_ngcontent-%COMP%]{min-width:286px}.table-column-288[_ngcontent-%COMP%]{min-width:288px}.table-column-290[_ngcontent-%COMP%]{min-width:290px}.table-column-292[_ngcontent-%COMP%]{min-width:292px}.table-column-294[_ngcontent-%COMP%]{min-width:294px}.table-column-296[_ngcontent-%COMP%]{min-width:296px}.table-column-298[_ngcontent-%COMP%]{min-width:298px}.table-column-300[_ngcontent-%COMP%]{min-width:300px}.table-column-302[_ngcontent-%COMP%]{min-width:302px}.table-column-304[_ngcontent-%COMP%]{min-width:304px}.table-column-306[_ngcontent-%COMP%]{min-width:306px}.table-column-308[_ngcontent-%COMP%]{min-width:308px}.table-column-310[_ngcontent-%COMP%]{min-width:310px}.table-column-312[_ngcontent-%COMP%]{min-width:312px}.table-column-314[_ngcontent-%COMP%]{min-width:314px}.table-column-316[_ngcontent-%COMP%]{min-width:316px}.table-column-318[_ngcontent-%COMP%]{min-width:318px}.table-column-320[_ngcontent-%COMP%]{min-width:320px}.table-column-322[_ngcontent-%COMP%]{min-width:322px}.table-column-324[_ngcontent-%COMP%]{min-width:324px}.table-column-326[_ngcontent-%COMP%]{min-width:326px}.table-column-328[_ngcontent-%COMP%]{min-width:328px}.table-column-330[_ngcontent-%COMP%]{min-width:330px}.table-column-332[_ngcontent-%COMP%]{min-width:332px}.table-column-334[_ngcontent-%COMP%]{min-width:334px}.table-column-336[_ngcontent-%COMP%]{min-width:336px}.table-column-338[_ngcontent-%COMP%]{min-width:338px}.table-column-340[_ngcontent-%COMP%]{min-width:340px}.table-column-342[_ngcontent-%COMP%]{min-width:342px}.table-column-344[_ngcontent-%COMP%]{min-width:344px}.table-column-346[_ngcontent-%COMP%]{min-width:346px}.table-column-348[_ngcontent-%COMP%]{min-width:348px}.table-column-350[_ngcontent-%COMP%]{min-width:350px}.table-column-352[_ngcontent-%COMP%]{min-width:352px}.table-column-354[_ngcontent-%COMP%]{min-width:354px}.table-column-356[_ngcontent-%COMP%]{min-width:356px}.table-column-358[_ngcontent-%COMP%]{min-width:358px}.table-column-360[_ngcontent-%COMP%]{min-width:360px}.table-column-362[_ngcontent-%COMP%]{min-width:362px}.table-column-364[_ngcontent-%COMP%]{min-width:364px}.table-column-366[_ngcontent-%COMP%]{min-width:366px}.table-column-368[_ngcontent-%COMP%]{min-width:368px}.table-column-370[_ngcontent-%COMP%]{min-width:370px}.table-column-372[_ngcontent-%COMP%]{min-width:372px}.table-column-374[_ngcontent-%COMP%]{min-width:374px}.table-column-376[_ngcontent-%COMP%]{min-width:376px}.table-column-378[_ngcontent-%COMP%]{min-width:378px}.table-column-380[_ngcontent-%COMP%]{min-width:380px}.table-column-382[_ngcontent-%COMP%]{min-width:382px}.table-column-384[_ngcontent-%COMP%]{min-width:384px}.table-column-386[_ngcontent-%COMP%]{min-width:386px}.table-column-388[_ngcontent-%COMP%]{min-width:388px}.table-column-390[_ngcontent-%COMP%]{min-width:390px}.table-column-392[_ngcontent-%COMP%]{min-width:392px}.table-column-394[_ngcontent-%COMP%]{min-width:394px}.table-column-396[_ngcontent-%COMP%]{min-width:396px}.table-column-398[_ngcontent-%COMP%]{min-width:398px}.table-column-400[_ngcontent-%COMP%]{min-width:400px}.table-column-402[_ngcontent-%COMP%]{min-width:402px}.table-column-404[_ngcontent-%COMP%]{min-width:404px}.table-column-406[_ngcontent-%COMP%]{min-width:406px}.table-column-408[_ngcontent-%COMP%]{min-width:408px}.table-column-410[_ngcontent-%COMP%]{min-width:410px}.table-column-412[_ngcontent-%COMP%]{min-width:412px}.table-column-414[_ngcontent-%COMP%]{min-width:414px}.table-column-416[_ngcontent-%COMP%]{min-width:416px}.table-column-418[_ngcontent-%COMP%]{min-width:418px}.table-column-420[_ngcontent-%COMP%]{min-width:420px}.table-column-422[_ngcontent-%COMP%]{min-width:422px}.table-column-424[_ngcontent-%COMP%]{min-width:424px}.table-column-426[_ngcontent-%COMP%]{min-width:426px}.table-column-428[_ngcontent-%COMP%]{min-width:428px}.table-column-430[_ngcontent-%COMP%]{min-width:430px}.table-column-432[_ngcontent-%COMP%]{min-width:432px}.table-column-434[_ngcontent-%COMP%]{min-width:434px}.table-column-436[_ngcontent-%COMP%]{min-width:436px}.table-column-438[_ngcontent-%COMP%]{min-width:438px}.table-column-440[_ngcontent-%COMP%]{min-width:440px}.table-column-442[_ngcontent-%COMP%]{min-width:442px}.table-column-444[_ngcontent-%COMP%]{min-width:444px}.table-column-446[_ngcontent-%COMP%]{min-width:446px}.table-column-448[_ngcontent-%COMP%]{min-width:448px}.table-column-450[_ngcontent-%COMP%]{min-width:450px}.table-column-452[_ngcontent-%COMP%]{min-width:452px}.table-column-454[_ngcontent-%COMP%]{min-width:454px}.table-column-456[_ngcontent-%COMP%]{min-width:456px}.table-column-458[_ngcontent-%COMP%]{min-width:458px}.table-column-460[_ngcontent-%COMP%]{min-width:460px}.table-column-462[_ngcontent-%COMP%]{min-width:462px}.table-column-464[_ngcontent-%COMP%]{min-width:464px}.table-column-466[_ngcontent-%COMP%]{min-width:466px}.table-column-468[_ngcontent-%COMP%]{min-width:468px}.table-column-470[_ngcontent-%COMP%]{min-width:470px}.table-column-472[_ngcontent-%COMP%]{min-width:472px}.table-column-474[_ngcontent-%COMP%]{min-width:474px}.table-column-476[_ngcontent-%COMP%]{min-width:476px}.table-column-478[_ngcontent-%COMP%]{min-width:478px}.table-column-480[_ngcontent-%COMP%]{min-width:480px}.table-column-482[_ngcontent-%COMP%]{min-width:482px}.table-column-484[_ngcontent-%COMP%]{min-width:484px}.table-column-486[_ngcontent-%COMP%]{min-width:486px}.table-column-488[_ngcontent-%COMP%]{min-width:488px}.table-column-490[_ngcontent-%COMP%]{min-width:490px}.table-column-492[_ngcontent-%COMP%]{min-width:492px}.table-column-494[_ngcontent-%COMP%]{min-width:494px}.table-column-496[_ngcontent-%COMP%]{min-width:496px}.table-column-498[_ngcontent-%COMP%]{min-width:498px}.table-column-500[_ngcontent-%COMP%]{min-width:500px}.table-column-502[_ngcontent-%COMP%]{min-width:502px}.table-column-504[_ngcontent-%COMP%]{min-width:504px}.table-column-506[_ngcontent-%COMP%]{min-width:506px}.table-column-508[_ngcontent-%COMP%]{min-width:508px}.table-column-510[_ngcontent-%COMP%]{min-width:510px}.table-column-512[_ngcontent-%COMP%]{min-width:512px}.table-column-514[_ngcontent-%COMP%]{min-width:514px}.table-column-516[_ngcontent-%COMP%]{min-width:516px}.table-column-518[_ngcontent-%COMP%]{min-width:518px}.table-column-520[_ngcontent-%COMP%]{min-width:520px}.table-column-522[_ngcontent-%COMP%]{min-width:522px}.table-column-524[_ngcontent-%COMP%]{min-width:524px}.table-column-526[_ngcontent-%COMP%]{min-width:526px}.table-column-528[_ngcontent-%COMP%]{min-width:528px}.table-column-530[_ngcontent-%COMP%]{min-width:530px}.table-column-532[_ngcontent-%COMP%]{min-width:532px}.table-column-534[_ngcontent-%COMP%]{min-width:534px}.table-column-536[_ngcontent-%COMP%]{min-width:536px}.table-column-538[_ngcontent-%COMP%]{min-width:538px}.table-column-540[_ngcontent-%COMP%]{min-width:540px}.table-column-542[_ngcontent-%COMP%]{min-width:542px}.table-column-544[_ngcontent-%COMP%]{min-width:544px}.table-column-546[_ngcontent-%COMP%]{min-width:546px}.table-column-548[_ngcontent-%COMP%]{min-width:548px}.table-column-550[_ngcontent-%COMP%]{min-width:550px}.table-column-552[_ngcontent-%COMP%]{min-width:552px}.table-column-554[_ngcontent-%COMP%]{min-width:554px}.table-column-556[_ngcontent-%COMP%]{min-width:556px}.table-column-558[_ngcontent-%COMP%]{min-width:558px}.table-column-560[_ngcontent-%COMP%]{min-width:560px}.table-column-562[_ngcontent-%COMP%]{min-width:562px}.table-column-564[_ngcontent-%COMP%]{min-width:564px}.table-column-566[_ngcontent-%COMP%]{min-width:566px}.table-column-568[_ngcontent-%COMP%]{min-width:568px}.table-column-570[_ngcontent-%COMP%]{min-width:570px}.table-column-572[_ngcontent-%COMP%]{min-width:572px}.table-column-574[_ngcontent-%COMP%]{min-width:574px}.table-column-576[_ngcontent-%COMP%]{min-width:576px}.table-column-578[_ngcontent-%COMP%]{min-width:578px}.table-column-580[_ngcontent-%COMP%]{min-width:580px}.table-column-582[_ngcontent-%COMP%]{min-width:582px}.table-column-584[_ngcontent-%COMP%]{min-width:584px}.table-column-586[_ngcontent-%COMP%]{min-width:586px}.table-column-588[_ngcontent-%COMP%]{min-width:588px}.table-column-590[_ngcontent-%COMP%]{min-width:590px}.table-column-592[_ngcontent-%COMP%]{min-width:592px}.table-column-594[_ngcontent-%COMP%]{min-width:594px}.table-column-596[_ngcontent-%COMP%]{min-width:596px}.table-column-598[_ngcontent-%COMP%]{min-width:598px}.table-column-600[_ngcontent-%COMP%]{min-width:600px}tr.example-detail-row[_ngcontent-%COMP%]{height:0!important}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.inner-table[_ngcontent-%COMP%]{margin:1em;padding:1em;width:100%!important}"],data:{animation:[(0,_.X$)("detailExpand",[(0,_.SB)("collapsed",(0,_.oB)({height:"0px",minHeight:"0"})),(0,_.SB)("expanded",(0,_.oB)({height:"*"})),(0,_.eR)("expanded <=> collapsed",(0,_.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),n})(),data:{claimType:"PO_VIEW_PURCHASE_ORDERS"},canActivate:[U.a]},{path:":id",component:Xt,data:{claimType:["PO_ADD_PO","PO_UPDATE_PO","POR_CONVERT_TO_PO"]},canActivate:[U.a],resolve:{units:te.O,warehouses:ee.k,taxs:Wt._,purchaseorder:zt.Z,products:nt.S}},{path:"detail/:id",component:we,data:{claimType:["PO_VIEW_PO_DETAIL","POR_POR_DETAIL"]},canActivate:[U.a]}];let br=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[h.Bz.forChild(Tr),h.Bz]}),n})();var vr=a(7531),wr=a(7322),Mr=a(9814),Ir=a(9224),Ur=a(6856),Nr=a(7446),Lr=a(7108);let Dr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,s.u5,br,s.UX,Lr.m,Ur.FA,y.XK,vr.c,wr.lN,Mr.Fk,k.LD,Ir.QW,u.p0,Y.TU,M.JX,I.Tx,R.Ps,S.ot,Q.Bb,C.Cq,P.Ll,P.x,Nr.p9,$.t,tt.Is]}),n})()}}]);
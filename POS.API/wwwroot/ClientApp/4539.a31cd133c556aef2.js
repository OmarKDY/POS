"use strict";(self.webpackChunkposadminportal=self.webpackChunkposadminportal||[]).push([[4539],{5519:(g,l,n)=>{n.d(l,{r:()=>r});class r{constructor(){this.fields="",this.orderBy="",this.searchQuery="",this.pageSize=30,this.skip=0,this.name="",this.totalCount=0}}},8191:(g,l,n)=>{n.r(l),n.d(l,{NotificationModule:()=>rt});var r=n(9808),m=n(2554),u=n(6087),d=n(4847),S=n(4702),x=n(8929),b=n(6787),C=n(13),N=n(5778),v=n(2868),T=n(1490),h=n(591),D=n(2654),A=n(1086),R=n(7221),j=n(537);class Z{constructor(o){this.notificationService=o,this._entities$=new h.X([]),this._responseHeaderSubject$=new h.X(null),this.loadingSubject$=new h.X(!1),this.loading$=this.loadingSubject$.asObservable(),this._count=0,this.responseHeaderSubject$=this._responseHeaderSubject$.asObservable(),this.sub$=new D.w}get count(){return this._count}connect(){return this._entities$.asObservable()}disconnect(){this._entities$.complete(),this.loadingSubject$.complete(),this.sub$.unsubscribe()}loadData(o){this.loadingSubject$.next(!0),this.sub$=this.notificationService.getNotifications(o).pipe((0,R.K)(()=>(0,A.of)([])),(0,j.x)(()=>this.loadingSubject$.next(!1))).subscribe(i=>{if(i&&i.headers&&i.headers.get("X-Pagination")){const a=JSON.parse(i.headers.get("X-Pagination"));this._responseHeaderSubject$.next(a);const c=[...i.body];this._count=c.length,this._entities$.next(c)}else this._entities$.next([])})}}var t=n(5e3),f=n(520);let y=(()=>{class e{constructor(i){this.httpClient=i}getNotifications(i){const c=(new f.LE).set("fields",i.fields).set("orderBy",i.orderBy).set("pageSize",i.pageSize.toString()).set("skip",i.skip.toString()).set("searchQuery",i.searchQuery);return this.httpClient.get("reminder/notifications",{params:c,observe:"response"})}markAsReadNotifications(){return this.httpClient.get("reminder/notification/markasread")}}return e.\u0275fac=function(i){return new(i||e)(t.LFG(f.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var E=n(6107),$=n(226),p=n(773),s=n(2075),Q=n(8017),U=n(1062);function L(e,o){1&e&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CREATED_DATE")," "))}function O(e,o){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"utcToLocalTime"),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,i.createdDate,"short")," ")}}function Y(e,o){1&e&&(t.TgZ(0,"th",26),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SUBJECT")," "))}const B=function(e){return["/sales-order/detail",e]};function w(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"b")(2,"a",31),t._uU(3),t.qZA()(),t._uU(4),t.ALo(5,"translate"),t.BQk()),2&e){const i=t.oxw().$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(5,B,i.referenceId)),t.xp6(1),t.hij(" ",i.subject,""),t.xp6(1),t.hij("- ",t.lcZ(5,3,"SALES_ORDER_EXPECTED_SHIPMENT_DATE"),". ")}}const z=function(e){return["/purchase-order/detail",e]};function F(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"b")(2,"a",31),t._uU(3),t.qZA()(),t._uU(4),t.ALo(5,"translate"),t.BQk()),2&e){const i=t.oxw().$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(5,z,i.referenceId)),t.xp6(1),t.hij(" ",i.subject,""),t.xp6(1),t.hij("-",t.lcZ(5,3,"PURCHASE_ORDER_EXPECTED_DELIVERY_DATE"),". ")}}function _(e,o){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i.subject," ")}}function I(e,o){if(1&e&&(t.TgZ(0,"td",27),t.ynx(1,28),t.YNc(2,w,6,7,"ng-container",29),t.YNc(3,F,6,7,"ng-container",29),t.YNc(4,_,2,1,"ng-container",30),t.BQk(),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",i.application),t.xp6(1),t.Q6J("ngSwitchCase",1),t.xp6(1),t.Q6J("ngSwitchCase",2)}}function M(e,o){1&e&&(t.TgZ(0,"th",32),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"MESSAGE")," "))}function J(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"b"),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"translate"),t.TgZ(5,"b"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.BQk()),2&e){const i=t.oxw().$implicit;t.xp6(2),t.hij(" ",i.subject,""),t.xp6(1),t.hij("-",t.lcZ(4,3,"SALES_ORDER_EXPECTED_SHIPMENT_DATE_IS")," "),t.xp6(3),t.hij(" ",t.xi3(7,5,i.duration,"MM/dd/yyyy"),"")}}function H(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"b"),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"translate"),t.TgZ(5,"b"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.BQk()),2&e){const i=t.oxw().$implicit;t.xp6(2),t.hij(" ",i.subject,""),t.xp6(1),t.hij("-",t.lcZ(4,3,"PURCHASE_ORDER_EXPECTED_DELIVERY_DATE_IS")," "),t.xp6(3),t.hij(" ",t.xi3(7,5,i.duration,"MM/dd/yyyy"),"")}}function X(e,o){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i.subject," ")}}function P(e,o){if(1&e&&(t.TgZ(0,"td",33),t.ynx(1,28),t.YNc(2,J,8,8,"ng-container",29),t.YNc(3,H,8,8,"ng-container",29),t.YNc(4,X,2,1,"ng-container",30),t.BQk(),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",i.application),t.xp6(1),t.Q6J("ngSwitchCase",1),t.xp6(1),t.Q6J("ngSwitchCase",2)}}const k=function(){return[15,20,30]};function G(e,o){if(1&e&&(t.TgZ(0,"td",34),t._UZ(1,"mat-paginator",35),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("length",i.reminderResource.totalCount)("pageSize",i.reminderResource.pageSize)("pageSizeOptions",t.DdM(3,k))}}function V(e,o){1&e&&(t.TgZ(0,"tr")(1,"td",36)(2,"span",37)(3,"b"),t._uU(4),t.ALo(5,"translate"),t.qZA()()()()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"NO_DATA_FOUND"),""))}function K(e,o){1&e&&t._UZ(0,"tr",38)}function W(e,o){1&e&&t._UZ(0,"tr",39)}function q(e,o){1&e&&t._UZ(0,"tr",40)}function tt(e,o){1&e&&(t.TgZ(0,"div",41),t._UZ(1,"mat-spinner"),t.qZA())}const et=[{path:"",component:(()=>{class e extends T.H{constructor(i,a){super(a),this.notificationService=i,this.translationService=a,this.reminders=[],this.displayedColumns=["createdDate","subject","message"],this.footerToDisplayed=["footer"],this.isLoadingResults=!0,this.filterObservable$=new x.xQ,this.getLangDir(),this.reminderResource=new S.t,this.reminderResource.pageSize=15,this.reminderResource.orderBy="createdDate asc"}get SubjectFilter(){return this._subjectFilter}set SubjectFilter(i){this._subjectFilter=i,this.filterObservable$.next(`subject:${i}`)}get MessageFilter(){return this._messageFilter}set MessageFilter(i){this._messageFilter=i,this.filterObservable$.next(`message:${i}`)}ngOnInit(){this.dataSource=new Z(this.notificationService),this.dataSource.loadData(this.reminderResource),this.getResourceParameter(),this.markAsReadNotification(),this.sub$.sink=this.filterObservable$.pipe((0,C.b)(1e3),(0,N.x)()).subscribe(i=>{this.reminderResource.skip=0,this.paginator.pageIndex=0;const a=i.split(":");"subject"===a[0]?this.reminderResource.subject=escape(a[1]):"message"===a[0]&&(this.reminderResource.message=a[1]),this.dataSource.loadData(this.reminderResource)})}markAsReadNotification(){this.sub$.sink=this.notificationService.markAsReadNotifications().subscribe(i=>{})}getResourceParameter(){this.sub$.sink=this.dataSource.responseHeaderSubject$.subscribe(i=>{i&&(this.reminderResource.pageSize=i.pageSize,this.reminderResource.skip=i.skip,this.reminderResource.totalCount=i.totalCount)})}ngAfterViewInit(){this.sub$.sink=this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.sub$.sink=(0,b.T)(this.sort.sortChange,this.paginator.page).pipe((0,v.b)(i=>{this.reminderResource.skip=this.paginator.pageIndex*this.paginator.pageSize,this.reminderResource.pageSize=this.paginator.pageSize,this.reminderResource.orderBy=this.sort.active+" "+this.sort.direction,this.dataSource.loadData(this.reminderResource)})).subscribe()}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(y),t.Y36(E.D))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-notification"]],viewQuery:function(i,a){if(1&i&&(t.Gf(u.NW,5),t.Gf(d.YE,5)),2&i){let c;t.iGM(c=t.CRH())&&(a.paginator=c.first),t.iGM(c=t.CRH())&&(a.sort=c.first)}},features:[t.qOj],decls:28,vars:11,consts:[[1,"page-header-main"],[1,"row","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto"],[1,"content-header"],[1,"row"],[1,"col-sm-12"],[1,"table-responsive","grid-height"],["mat-table","","matSort","","matSortActive","createdDate","matSortDirection","desc",1,"table","table-bordered","table-hover",3,"dir","dataSource"],["matColumnDef","createdDate"],["class","table-column-150","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","table-column-150","mat-cell","",4,"matCellDef"],["matColumnDef","subject"],["class","table-column-300","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","table-column-300","mat-cell","",4,"matCellDef"],["matColumnDef","message"],["class","table-column-500","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","table-column-500","mat-cell","",4,"matCellDef"],["matColumnDef","footer"],["mat-footer-cell","","colspan","6",4,"matFooterCellDef"],[4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["class","loading-shade",4,"ngIf"],["mat-header-cell","","mat-sort-header","",1,"table-column-150"],["mat-cell","",1,"table-column-150"],["mat-header-cell","","mat-sort-header","",1,"table-column-300"],["mat-cell","",1,"table-column-300"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"routerLink"],["mat-header-cell","","mat-sort-header","",1,"table-column-500"],["mat-cell","",1,"table-column-500"],["mat-footer-cell","","colspan","6"],[3,"length","pageSize","pageSizeOptions"],["colspan","9"],[1,"p-4","mt-4"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""],[1,"loading-shade"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),t._uU(5),t.ALo(6,"translate"),t.qZA()()()()(),t.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"table",7),t.ynx(11,8),t.YNc(12,L,3,3,"th",9),t.YNc(13,O,3,4,"td",10),t.BQk(),t.ynx(14,11),t.YNc(15,Y,3,3,"th",12),t.YNc(16,I,5,3,"td",13),t.BQk(),t.ynx(17,14),t.YNc(18,M,3,3,"th",15),t.YNc(19,P,5,3,"td",16),t.BQk(),t.ynx(20,17),t.YNc(21,G,2,4,"td",18),t.BQk(),t.YNc(22,V,6,3,"tr",19),t.YNc(23,K,1,0,"tr",20),t.YNc(24,W,1,0,"tr",21),t.YNc(25,q,1,0,"tr",22),t.qZA()()()(),t.YNc(26,tt,2,0,"div",23),t.ALo(27,"async")),2&i&&(t.xp6(5),t.Oqu(t.lcZ(6,7,"NOTIFICATIONS")),t.xp6(5),t.Q6J("dir",a.langDir)("dataSource",a.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("matFooterRowDef",a.footerToDisplayed),t.xp6(1),t.Q6J("ngIf",t.lcZ(27,9,a.dataSource.loading$)))},dependencies:[r.O5,r.RF,r.n9,r.ED,m.yS,$.Lv,u.NW,d.YE,d.nU,p.Ou,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.mD,s.Ke,s.ge,s.ev,s.yh,s.XQ,s.Gk,s.Q2,s.Ee,r.Ov,r.uU,Q.M,U.X$]}),e})()}];let it=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(et),m.Bz]}),e})();var ot=n(7108),nt=n(2349),at=n(5245),st=n(7423);let rt=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.ez,it,r.ez,ot.m,u.TU,d.JX,p.Cq,s.p0,nt.Is,at.Ps,st.ot]}),e})()}}]);
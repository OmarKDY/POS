"use strict";(self.webpackChunkposadminportal=self.webpackChunkposadminportal||[]).push([[1589],{1589:(jn,Q,a)=>{a.r(Q),a.d(Q,{PurchaseOrderRequestModule:()=>Sn});var p=a(9808),l=a(3075),Z=a(1079),K=a(7531),z=a(7322),W=a(9814),Y=a(4107),tt=a(9224),u=a(2075),v=a(6087),P=a(4847),f=a(2181),w=a(5245),M=a(7423),b=a(773),et=a(6856),R=a(508),O=a(1122),nt=a(7446),rt=a(7108),F=a(4834),h=a(2554),J=a(319),it=a(9147),ot=a(8408),at=a(9117),ct=a(8489),st=a(1798),lt=a(3007),ut=a(796),j=a(2023),dt=a(2754),q=a(6521),I=a(6695),B=a(1086),x=a(13),C=a(5778),T=a(7545),$=a(2868),D=a(1490),A=a(2746),t=a(5e3),H=a(5803),V=a(2290),E=a(9822),N=a(6107),mt=a(690),pt=a(6018),ht=a(5528),_t=a(4603),k=a(9785),U=a(226),L=a(8708),S=a(1062);function gt(e,i){1&e&&(t.TgZ(0,"div",54),t._UZ(1,"mat-spinner"),t.qZA())}function Ot(e,i){1&e&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PO_ORDER_NUMBER_IS_REQUIRED")," "))}function xt(e,i){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,Ot,3,3,"div",55),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.purchaseOrderForm.get("orderNumber").errors?null:n.purchaseOrderForm.get("orderNumber").errors.required)}}function Ct(e,i){1&e&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ORDER_DATE_IS_REQUIRED")," "))}function Pt(e,i){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,Ct,3,3,"div",55),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.purchaseOrderForm.get("poCreatedDate").errors?null:n.purchaseOrderForm.get("poCreatedDate").errors.required)}}function ft(e,i){1&e&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DELIVERY_DATE_REQUIRED")," "))}function bt(e,i){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,ft,3,3,"div",55),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.purchaseOrderForm.get("deliveryDate").errors?null:n.purchaseOrderForm.get("deliveryDate").errors.required)}}function Tt(e,i){if(1&e&&(t.TgZ(0,"mat-option",56),t._uU(1),t.qZA()),2&e){const n=i.$implicit,r=t.oxw();t.Q6J("dir",r.langDir)("value",n.id),t.xp6(1),t.hij(" ",n.supplierName," ")}}function At(e,i){1&e&&(t.TgZ(0,"mat-option",57),t._uU(1," No Records "),t.qZA())}function Zt(e,i){1&e&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SUPPLIER_NAME_IS_REQUIRED")," "))}function vt(e,i){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,Zt,3,3,"div",55),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.purchaseOrderForm.get("supplierId").errors?null:n.purchaseOrderForm.get("supplierId").errors.required)}}function wt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",69),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().index,c=t.oxw();return t.KtG(c.onRemovePurchaseOrderItem(o))}),t.TgZ(1,"mat-icon",70),t._uU(2,"delete_forever"),t.qZA()()}}function Mt(e,i){if(1&e&&(t.TgZ(0,"mat-option",56),t._uU(1),t.qZA()),2&e){const n=i.$implicit,r=t.oxw(2);t.Q6J("dir",r.langDir)("value",n.id),t.xp6(1),t.hij(" ",n.name," ")}}function Rt(e,i){1&e&&(t.TgZ(0,"mat-option",57),t._uU(1," No Records "),t.qZA())}function qt(e,i){1&e&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PRODUCT_IS_REQUIRED")," "))}function It(e,i){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,qt,3,3,"div",55),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==n.get("productId").errors?null:n.get("productId").errors.required)}}function Dt(e,i){if(1&e&&(t.TgZ(0,"mat-option",57),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij(" ",n.name," ")}}function Et(e,i){if(1&e&&(t.TgZ(0,"mat-option",56),t._uU(1),t.qZA()),2&e){const n=i.$implicit,r=t.oxw(2);t.Q6J("dir",r.langDir)("value",n.id),t.xp6(1),t.hij(" ",n.name," ")}}function Nt(e,i){1&e&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"UNIT_IS_REQUIRED")," "))}function Ut(e,i){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,Nt,3,3,"div",55),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==n.get("unitId").errors?null:n.get("unitId").errors.required)}}function Lt(e,i){1&e&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"UNIT_PER_PRICE_IS_REQUIRED")," "))}function St(e,i){1&e&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PRICE_SHOULD_BE_MORE_THEN_0")," "))}function yt(e,i){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,Lt,3,3,"div",55),t.YNc(2,St,3,3,"div",55),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==n.get("unitPrice").errors?null:n.get("unitPrice").errors.required),t.xp6(1),t.Q6J("ngIf",null==n.get("unitPrice").errors?null:n.get("unitPrice").errors.min)}}function Qt(e,i){1&e&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"QUANTITY_IS_REQUIRED")," "))}function Yt(e,i){1&e&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"QUANTITY_SHOULD_BE_MORE_THEN_0")," "))}function Ft(e,i){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,Qt,3,3,"div",55),t.YNc(2,Yt,3,3,"div",55),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==n.get("quantity").errors?null:n.get("quantity").errors.required),t.xp6(1),t.Q6J("ngIf",null==n.get("quantity").errors?null:n.get("quantity").errors.min)}}function Jt(e,i){1&e&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DISCOUNT_SHOULD_BE_MORE_THEN_0")," "))}function jt(e,i){if(1&e&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"customCurrency"),t.ALo(4,"quantitiesunitpriceTax"),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.AsE(" ",t.lcZ(2,2,"DISCOUNT_AMOUNT"),": ",t.lcZ(3,4,t.Dn7(4,6,n.get("quantity").value,n.get("unitPrice").value,n.get("discountPercentage").value))," ")}}function Bt(e,i){if(1&e&&(t.TgZ(0,"mat-option",57),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.Q6J("value",n.id),t.xp6(1),t.AsE("",n.name," (",n.percentage,"%) ")}}function $t(e,i){1&e&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TAX_IS_REQUIRED")," "))}function Ht(e,i){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,$t,3,3,"div",55),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==n.get("taxValue").errors?null:n.get("taxValue").errors.required)}}const G=function(e,i,n,r,o){return[e,i,n,r,o]};function Vt(e,i){if(1&e&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"customCurrency"),t.ALo(4,"quantitiesunitpriceTax"),t.qZA()),2&e){const n=t.oxw(),r=n.$implicit,o=n.index,c=t.oxw();t.xp6(1),t.AsE(" ",t.lcZ(2,2,"TAX_AMOUNT")," : ",t.lcZ(3,4,t.G7q(4,6,t.qbA(12,G,r.get("quantity").value,r.get("unitPrice").value,r.get("discountPercentage").value,r.get("taxValue").value,c.taxsMap[o])))," ")}}function kt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr",58)(1,"td"),t.YNc(2,wt,3,0,"button",59),t.qZA(),t.TgZ(3,"td")(4,"mat-select",60),t.NdJ("selectionChange",function(o){const s=t.CHM(n).index,d=t.oxw();return t.KtG(d.onProductSelectionChange(o.value,s))}),t.ALo(5,"translate"),t._UZ(6,"input",61),t.ALo(7,"translate"),t._UZ(8,"mat-divider"),t.YNc(9,Mt,2,3,"mat-option",22),t.YNc(10,Rt,2,0,"mat-option",23),t.qZA(),t.YNc(11,It,2,1,"div",11),t.qZA(),t.TgZ(12,"td")(13,"mat-select",62),t.YNc(14,Dt,2,2,"mat-option",63),t.qZA()(),t.TgZ(15,"td")(16,"mat-select",64),t.NdJ("selectionChange",function(o){const s=t.CHM(n).index,d=t.oxw();return t.KtG(d.onSelectionChange(o.value,s))}),t.YNc(17,Et,2,3,"mat-option",22),t.qZA(),t.YNc(18,Ut,2,1,"div",11),t.qZA(),t.TgZ(19,"td")(20,"input",65),t.NdJ("change",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.onUnitPriceChange())}),t.ALo(21,"translate"),t.qZA(),t.YNc(22,yt,3,2,"div",11),t.qZA(),t.TgZ(23,"td")(24,"input",66),t.NdJ("change",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.onQuantityChange())}),t.ALo(25,"translate"),t.qZA(),t.YNc(26,Ft,3,2,"div",11),t.qZA(),t.TgZ(27,"td"),t._uU(28),t.ALo(29,"customCurrency"),t.ALo(30,"quantitiesunitprice"),t.qZA(),t.TgZ(31,"td")(32,"input",67),t.NdJ("change",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.onDiscountChange())}),t.ALo(33,"translate"),t.qZA(),t.YNc(34,Jt,3,3,"div",55),t.qZA(),t.TgZ(35,"td"),t._uU(36),t.ALo(37,"customCurrency"),t.ALo(38,"quantitiesunitprice"),t.YNc(39,jt,5,10,"div",55),t.qZA(),t.TgZ(40,"td")(41,"mat-select",68),t.NdJ("selectionChange",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.onTaxSelectionChange())}),t.ALo(42,"translate"),t.YNc(43,Bt,2,3,"mat-option",63),t.qZA(),t.YNc(44,Ht,2,1,"div",11),t.qZA(),t.TgZ(45,"td"),t._uU(46),t.ALo(47,"customCurrency"),t.ALo(48,"quantitiesunitprice"),t.YNc(49,Vt,5,18,"div",55),t.qZA()()}if(2&e){const n=i.$implicit,r=i.index,o=t.oxw();t.Q6J("formGroupName",r),t.xp6(2),t.Q6J("ngIf",0!==r),t.xp6(2),t.s9C("placeholder",t.lcZ(5,28,"SELECT_PRODUCT")),t.Q6J("dir",o.langDir),t.xp6(2),t.s9C("placeholder",t.lcZ(7,30,"SEARCH_OTHER_PRODUCTS")),t.xp6(3),t.Q6J("ngForOf",o.filterProductsMap[r]),t.xp6(1),t.Q6J("ngIf",0==o.filterProductsMap[r].length),t.xp6(1),t.Q6J("ngIf",n.get("productId").touched&&n.get("productId").errors),t.xp6(2),t.Q6J("dir",o.langDir),t.xp6(1),t.Q6J("ngForOf",o.warehouseMap[r]),t.xp6(2),t.Q6J("dir",o.langDir),t.xp6(1),t.Q6J("ngForOf",o.unitsMap[r]),t.xp6(1),t.Q6J("ngIf",n.get("unitId").touched&&n.get("unitId").errors),t.xp6(2),t.s9C("placeholder",t.lcZ(21,32,"UNIT_PER_PRICE")),t.xp6(2),t.Q6J("ngIf",n.get("unitPrice").touched&&n.get("unitPrice").errors),t.xp6(2),t.s9C("placeholder",t.lcZ(25,34,"QUANTITY")),t.xp6(2),t.Q6J("ngIf",n.get("quantity").touched&&n.get("quantity").errors),t.xp6(2),t.hij(" ",t.lcZ(29,36,t.xi3(30,38,n.get("quantity").value,n.get("unitPrice").value))," "),t.xp6(4),t.s9C("placeholder",t.lcZ(33,41,"DISCOUNT")),t.xp6(2),t.Q6J("ngIf",null==n.get("discountPercentage").errors?null:n.get("discountPercentage").errors.min),t.xp6(2),t.hij(" ",t.lcZ(37,43,t.Dn7(38,45,n.get("quantity").value,n.get("unitPrice").value,n.get("discountPercentage").value))," "),t.xp6(3),t.Q6J("ngIf",0!=n.get("discountPercentage").value),t.xp6(2),t.s9C("placeholder",t.lcZ(42,49,"TAX")),t.Q6J("dir",o.langDir),t.xp6(2),t.Q6J("ngForOf",o.taxsMap[r]),t.xp6(1),t.Q6J("ngIf",n.get("taxValue").touched&&n.get("taxValue").errors),t.xp6(2),t.hij(" ",t.lcZ(47,51,t.G7q(48,53,t.qbA(59,G,n.get("quantity").value,n.get("unitPrice").value,n.get("discountPercentage").value,n.get("taxValue").value,o.taxsMap[r])))," "),t.xp6(3),t.Q6J("ngIf",n.get("taxValue").value)}}function Gt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",71),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.onPurchaseOrderSubmit())}),t._UZ(1,"i",72),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"SAVE"),""))}function Xt(e,i){1&e&&t._UZ(0,"mat-spinner")}function Kt(e,i){if(1&e&&(t.TgZ(0,"div",54),t.YNc(1,Xt,1,0,"mat-spinner",11),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.isLoading)}}const zt=function(){return["POR_ADD_PO_REQUEST","POR_UPDATE_PO_REQUEST"]},Wt=function(){return["/purchase-order-request/list"]};let te=(()=>{class e extends D.H{constructor(n,r,o,c,s,d,m,g,yn,Qn,Yn,Fn,Jn){super(d),this.fb=n,this.supplierService=r,this.toastrService=o,this.purchaseOrderService=c,this.router=s,this.translationService=d,this.commonService=m,this.taxService=g,this.productService=yn,this.route=Qn,this.quantitiesUnitPricePipe=Yn,this.quantitiesUnitPriceTaxPipe=Fn,this.unitConversationService=Jn,this.products=[],this.suppliers=[],this.isLoading=!1,this.isSupplierLoading=!1,this.filterProductsMap={},this.warehouseMap={},this.warehouseList=[],this.unitsMap={},this.unitConversationlist=[],this.taxsMap={},this.totalBeforeDiscount=0,this.totalAfterDiscount=0,this.totalDiscount=0,this.grandTotal=0,this.totalTax=0,this.isEdit=!1,this.getLangDir(),this.supplierResource=new dt.H,this.productResource=new ut.f}get purchaseOrderItemsArray(){return this.purchaseOrderForm.get("purchaseOrderItems")}ngOnInit(){this.unitConversationlist=[...this.route.snapshot.data.units],this.warehouseList=[...this.route.snapshot.data.warehouses],this.createPurchaseOrder(),this.supplierNameChangeValue(),this.getNewPurchaseOrderNumber(),this.getTaxes(),this.getProductByBarCodeValue()}getTaxes(){this.taxes$=this.taxService.entities$}createPurchaseOrder(){this.route.data.pipe().subscribe(n=>{this.purchaseOrder=n.purchaseorder,this.purchaseOrder?(this.isEdit=!0,this.purchaseOrderForm=this.fb.group({orderNumber:[this.purchaseOrder.orderNumber,[l.kI.required]],filerSupplier:[""],deliveryDate:[this.purchaseOrder.deliveryDate,[l.kI.required]],poCreatedDate:[this.purchaseOrder.poCreatedDate,[l.kI.required]],deliveryStatus:[this.purchaseOrder.deliveryStatus],supplierId:[this.purchaseOrder.supplierId,[l.kI.required]],note:[this.purchaseOrder.note],filterBarCodeValue:[""],termAndCondition:[this.purchaseOrder.termAndCondition],purchaseOrderItems:this.fb.array([])}),this.purchaseOrder.purchaseOrderItems.forEach(r=>{this.purchaseOrderItemsArray.push(this.createPurchaseOrderItemPatch(this.purchaseOrderItemsArray.length,r))}),this.getSuppliers(),this.getAllTotal()):(this.isEdit=!1,this.getSuppliers(),this.purchaseOrderForm=this.fb.group({orderNumber:["",[l.kI.required]],filerSupplier:[""],deliveryDate:[new Date,[l.kI.required]],poCreatedDate:[new Date,[l.kI.required]],deliveryStatus:[1],supplierId:["",[l.kI.required]],note:[""],filterBarCodeValue:[""],termAndCondition:[""],purchaseOrderItems:this.fb.array([])}),this.purchaseOrderItemsArray.push(this.createPurchaseOrderItem(this.purchaseOrderItemsArray.length)))})}onAddAnotherProduct(){this.purchaseOrderItemsArray.push(this.createPurchaseOrderItem(this.purchaseOrderItemsArray.length))}createPurchaseOrderItemPatch(n,r){const o=r.purchaseOrderItemTaxes.map(s=>s.taxId),c=this.fb.group({productId:[r.productId,[l.kI.required]],filterProductValue:[""],unitPrice:[r.unitPrice,[l.kI.required]],quantity:[r.quantity,[l.kI.required]],taxValue:[o],unitId:[r.unitId,[l.kI.required]],warehouseId:[r.warehouseId],discountPercentage:[r.discountPercentage]});return this.unitsMap[n]=this.unitConversationlist.filter(s=>s.id==r.product.unitId||s.parentId==r.product.unitId),this.taxsMap[n]=[...this.route.snapshot.data.taxs],this.warehouseMap[n]=this.warehouseList,this.filterProductsMap[n.toString()]=[r.product],this.getProductByNameValue(c,n),c}createPurchaseOrderItem(n){const r=this.fb.group({productId:["",[l.kI.required]],filterProductValue:[""],unitPrice:[0,[l.kI.required,l.kI.min(0)]],quantity:[1,[l.kI.required,l.kI.min(1)]],taxValue:[null],unitId:["",[l.kI.required]],warehouseId:[""],discountPercentage:[0,[l.kI.min(0)]]});return this.taxsMap[n]=[...this.route.snapshot.data.taxs],this.warehouseMap[n]=this.warehouseList,this.filterProductsMap[n.toString()]=[...this.route.snapshot.data.products],this.getProductByNameValue(r,n),r}getProductByBarCodeValue(){this.sub$.sink=this.purchaseOrderForm.get("filterBarCodeValue").valueChanges.pipe((0,x.b)(500),(0,C.x)(),(0,T.w)(n=>n?(this.productResource.barcode=n,this.productService.getProducts(this.productResource)):(0,B.of)([]))).subscribe(n=>{if(n&&n.headers){if(1==n.body.length){1==this.purchaseOrderItemsArray.length&&(this.purchaseOrderItemsArray.controls[0].get("productId").value||this.onRemovePurchaseOrderItem(0));const o=n.body[0].id;let c=this.purchaseOrderItemsArray.value;var r=c.findIndex(s=>s.productId==o);if(r>=0){let s=c[r];this.purchaseOrderItemsArray.at(r).get("quantity").patchValue(s.quantity+1)}else{this.onAddAnotherProduct();const s=this.purchaseOrderItemsArray.length-1;this.filterProductsMap[s.toString()]=[...n.body],this.onProductSelectionChange(o,s,!1)}this.getAllTotal()}else this.toastrService.warning("Product not found");this.productResource.barcode="",this.purchaseOrderForm.get("filterBarCodeValue").patchValue("")}},n=>{})}getProductByNameValue(n,r){this.purchaseOrder&&this.getProducts(r),this.sub$.sink=n.get("filterProductValue").valueChanges.pipe((0,x.b)(500),(0,C.x)(),(0,T.w)(o=>(this.productResource.name=o,this.productService.getProducts(this.productResource)))).subscribe(o=>{o&&o.headers&&(this.filterProductsMap[r.toString()]=[...o.body])},o=>{})}getAllTotal(){let n=this.purchaseOrderForm.get("purchaseOrderItems").value;this.totalBeforeDiscount=0,this.grandTotal=0,this.totalDiscount=0,this.totalTax=0,n&&n.length>0&&n.forEach(r=>{if(r.unitPrice&&r.quantity){const o=this.totalBeforeDiscount+parseFloat(this.quantitiesUnitPricePipe.transform(r.quantity,r.unitPrice));this.totalBeforeDiscount=parseFloat(o.toFixed(2));const c=this.grandTotal+parseFloat(this.quantitiesUnitPricePipe.transform(r.quantity,r.unitPrice,r.discountPercentage,r.taxValue,this.taxsMap[0]));this.grandTotal=parseFloat(c.toFixed(2));const s=this.totalTax+parseFloat(this.quantitiesUnitPriceTaxPipe.transform(r.quantity,r.unitPrice,r.discountPercentage,r.taxValue,this.taxsMap[0]));this.totalTax=parseFloat(s.toFixed(2));const d=this.totalDiscount+parseFloat(this.quantitiesUnitPriceTaxPipe.transform(r.quantity,r.unitPrice,r.discountPercentage));this.totalDiscount=parseFloat(d.toFixed(2))}})}onUnitPriceChange(){this.getAllTotal()}onQuantityChange(){this.getAllTotal()}onDiscountChange(){this.getAllTotal()}onTaxSelectionChange(){this.getAllTotal()}onRemovePurchaseOrderItem(n){this.purchaseOrderItemsArray.removeAt(n),this.getAllTotal()}getProducts(n){0===this.products.length?(this.productResource.name="",this.productService.getProducts(this.productResource).subscribe(r=>{this.products=[...r.body],this.filterProductsMap[n.toString()]=[...r.body]},r=>{})):this.filterProductsMap[n.toString()]=[...this.products]}setUnitConversationForProduct(n,r){this.unitsMap[r]=this.unitConversationlist.filter(o=>o.id==n||o.parentId==n)}onSelectionChange(n,r,o=!0){const c=this.purchaseOrderItemsArray.controls[r].get("productId").value,s=this.filterProductsMap[r].find(g=>g.id===c),d=this.unitConversationlist.find(g=>g.id===n);let m=0;if(d.value){switch(d.operator){case A.d.Plush:m=s.purchasePrice+parseFloat(d.value);break;case A.d.Minus:m=s.purchasePrice-parseFloat(d.value);break;case A.d.Multiply:m=s.purchasePrice*parseFloat(d.value);break;case A.d.Divide:m=s.purchasePrice/parseFloat(d.value)}this.purchaseOrderItemsArray.controls[r].patchValue({unitPrice:m})}else this.purchaseOrderItemsArray.controls[r].patchValue({unitPrice:s.purchasePrice,unitId:n,warehouseId:s.warehouseId})}onProductSelectionChange(n,r,o=!0){const c=this.filterProductsMap[r].find(s=>s.id===n);this.setUnitConversationForProduct(c.unitId,r),this.purchaseOrderItemsArray.controls[r].patchValue(o?{filterProductValue:""}:{productId:n}),this.purchaseOrderItemsArray.controls[r].patchValue({unitPrice:c.purchasePrice,unitId:c.unitId,warehouseId:c.warehouseId}),c.productTaxes.length&&this.purchaseOrderItemsArray.controls[r].patchValue({taxValue:c.productTaxes.map(s=>s.taxId)}),this.getAllTotal()}getNewPurchaseOrderNumber(){this.purchaseOrder||this.purchaseOrderService.getNewPurchaseOrderNumber(!1).subscribe(n=>{this.purchaseOrderForm.patchValue({orderNumber:n.orderNumber})})}supplierNameChangeValue(){this.sub$.sink=this.purchaseOrderForm.get("filerSupplier").valueChanges.pipe((0,$.b)(n=>this.isSupplierLoading=!0),(0,x.b)(500),(0,C.x)(),(0,T.w)(n=>(this.supplierResource.supplierName=n,this.supplierResource.id="",this.supplierService.getSuppliers(this.supplierResource)))).subscribe(n=>{this.isSupplierLoading=!1,n&&n.headers&&(this.suppliers=[...n.body])},n=>{this.isSupplierLoading=!1})}getSuppliers(){this.purchaseOrder?this.supplierResource.id=this.purchaseOrder.supplierId:(this.supplierResource.supplierName="",this.supplierResource.id=""),this.supplierService.getSuppliers(this.supplierResource).subscribe(n=>{n&&n.headers&&(this.suppliers=[...n.body])})}onPurchaseOrderSubmit(){if(this.purchaseOrderForm.valid){if(this.purchaseOrder&&this.purchaseOrder.purchaseOrderStatus===j.G.Not_Return)return void this.toastrService.error("Purchase Order can't edit becuase it's already approved.");this.isLoading=!0;const n=this.buildPurchaseOrder();n.id?this.purchaseOrderService.updatePurchaseOrder(n).subscribe(r=>{this.isLoading=!1,this.toastrService.success("Quotation Edited successfully."),this.router.navigate(["/purchase-order-request/list"])},r=>{this.isLoading=!1}):this.purchaseOrderService.addPurchaseOrder(n).subscribe(r=>{this.isLoading=!1,this.toastrService.success("Quotation added successfully."),this.router.navigate(["/purchase-order-request/list"])},r=>{this.isLoading=!1})}else this.purchaseOrderForm.markAllAsTouched()}buildPurchaseOrder(){const n={id:this.purchaseOrder?this.purchaseOrder.id:"",orderNumber:this.purchaseOrderForm.get("orderNumber").value,deliveryDate:this.purchaseOrderForm.get("deliveryDate").value,deliveryStatus:lt.I.UnDelivery,isPurchaseOrderRequest:!0,poCreatedDate:this.purchaseOrderForm.get("poCreatedDate").value,purchaseOrderStatus:j.G.Not_Return,supplierId:this.purchaseOrderForm.get("supplierId").value,totalAmount:this.grandTotal,totalDiscount:this.totalDiscount,totalTax:this.totalTax,note:this.purchaseOrderForm.get("note").value,termAndCondition:this.purchaseOrderForm.get("termAndCondition").value,purchaseOrderItems:[]},r=this.purchaseOrderForm.get("purchaseOrderItems").value;return r&&r.length>0&&r.forEach(o=>{n.purchaseOrderItems.push({discount:parseFloat(this.quantitiesUnitPriceTaxPipe.transform(o.quantity,o.unitPrice,o.discountPercentage)),discountPercentage:o.discountPercentage,productId:o.productId,unitId:o.unitId,warehouseId:o.warehouseId,quantity:o.quantity,taxValue:parseFloat(this.quantitiesUnitPriceTaxPipe.transform(o.quantity,o.unitPrice,o.discountPercentage,o.taxValue,this.taxsMap[0])),unitPrice:parseFloat(o.unitPrice),purchaseOrderItemTaxes:o.taxValue?[...o.taxValue.map(c=>({taxId:c}))]:[]})}),n}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.QS),t.Y36(H.p),t.Y36(V._W),t.Y36(E.x),t.Y36(h.F0),t.Y36(N.D),t.Y36(mt.v),t.Y36(pt.D),t.Y36(ht.M),t.Y36(h.gz),t.Y36(I.q),t.Y36(q.S),t.Y36(_t.j))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-purchase-order-request-add-edit"]],features:[t._Bn([],[I.q,q.S]),t.qOj],decls:164,vars:121,consts:[[1,"page-header-main"],[1,"row","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto"],[1,"content-header"],["class","loading-shade",4,"ngIf"],["autocomplete","off",3,"formGroup"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"text-danger"],["formControlName","orderNumber","type","text",1,"form-control","w-100",3,"readonly"],[4,"ngIf"],["for","poCreatedDate",1,"text-danger"],["id","poCreatedDate","formControlName","poCreatedDate",1,"form-control",3,"owlDateTimeTrigger","owlDateTime","placeholder"],[3,"pickerType"],["poCreatedDate",""],["for","deliveryDate",1,"text-danger"],["id","deliveryDate","formControlName","deliveryDate",1,"form-control",3,"owlDateTimeTrigger","owlDateTime","placeholder"],["deliveryDate",""],[1,"input-group"],["formControlName","supplierId",1,"form-control",3,"dir","placeholder"],["formControlName","filerSupplier","focused","'true'","type","text","autocomplete","off",1,"form-control","w-100",3,"placeholder"],[3,"dir","value",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],[1,"col-sm-6"],["formControlName","termAndCondition",1,"form-control","w-100"],["formControlName","note",1,"form-control","w-100"],[1,"col-sm-12","col-md-12"],[1,"col-sm-6","col-md-6","col-lg-6"],["formControlName","filterBarCodeValue","type","text",1,"form-control","w-100",3,"placeholder"],["formArrayName","purchaseOrderItems",1,"col-sm-12"],[1,"col-sm-12","text-right","mb-2"],["type","button",1,"btn","blue-btn","btn-sm","m-right-10",3,"click"],[1,"fas","fa-plus"],[1,"col"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-sm"],[1,"table-column-50"],[1,"table-column-200"],[1,"table-column-150"],[1,"table-column-130"],[1,"table-column-120"],[1,"table-column-100"],[1,"table-column-300"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","mt-2"],[1,"col-10","text-right","font-weight-bold"],[1,"col-2","text-left","font-weight-bold"],[1,"col-2","text-left","text-danger","font-weight-bold"],[1,"col-12"],[1,"col-md-12","mb-1"],["type","button","class","btn btn-success btn-sm m-right-10",3,"click",4,"hasClaim"],["type","button",1,"btn","btn-danger","btn-sm",3,"routerLink"],[1,"fas","fa-times-circle"],[1,"loading-shade"],["class","text-danger",4,"ngIf"],[3,"dir","value"],[3,"value"],[3,"formGroupName"],["type","button","mat-icon-button","","aria-label","Action",3,"click",4,"ngIf"],["formControlName","productId",1,"form-control",3,"dir","placeholder","selectionChange"],["formControlName","filterProductValue","focused","'true'","type","text","autocomplete","off",1,"form-control","w-100",3,"placeholder"],["placeholder","Select Warehouse","formControlName","warehouseId",1,"form-control",3,"dir"],[3,"value",4,"ngFor","ngForOf"],["formControlName","unitId",1,"form-control",3,"dir","selectionChange"],["type","number","formControlName","unitPrice",1,"form-control",3,"placeholder","change"],["type","number","formControlName","quantity",1,"form-control",3,"placeholder","change"],["formControlName","discountPercentage",1,"form-control",3,"placeholder","change"],["formControlName","taxValue","multiple","",1,"form-control",3,"dir","placeholder","selectionChange"],["type","button","mat-icon-button","","aria-label","Action",3,"click"],[1,"btn-danger"],["type","button",1,"btn","btn-success","btn-sm","m-right-10",3,"click"],[1,"fas","fa-save"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),t._uU(5),t.ALo(6,"translate"),t.qZA()()()()(),t.YNc(7,gt,2,0,"div",4),t.TgZ(8,"form",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"label",9),t._uU(13),t.ALo(14,"translate"),t.TgZ(15,"span"),t._uU(16,"*"),t.qZA()(),t._UZ(17,"input",10),t.YNc(18,xt,2,1,"div",11),t.qZA()(),t.TgZ(19,"div",7)(20,"div",8)(21,"label",12),t._uU(22),t.ALo(23,"translate"),t.qZA(),t._UZ(24,"input",13),t.ALo(25,"translate"),t.YNc(26,Pt,2,1,"div",11),t._UZ(27,"owl-date-time",14,15),t.qZA()(),t.TgZ(29,"div",7)(30,"div",8)(31,"label",16),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._UZ(34,"input",17),t.ALo(35,"translate"),t.YNc(36,bt,2,1,"div",11),t._UZ(37,"owl-date-time",14,18),t.qZA()(),t.TgZ(39,"div",7)(40,"div",8)(41,"label",9),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"div",19)(45,"mat-select",20),t.ALo(46,"translate"),t._UZ(47,"input",21),t.ALo(48,"translate"),t._UZ(49,"mat-divider"),t.YNc(50,Tt,2,3,"mat-option",22),t.YNc(51,At,2,0,"mat-option",23),t.qZA()(),t.YNc(52,vt,2,1,"div",11),t.qZA()()(),t.TgZ(53,"div",6)(54,"div",24)(55,"div",8)(56,"label"),t._uU(57),t.ALo(58,"translate"),t.qZA(),t.TgZ(59,"div",19)(60,"textarea",25),t._uU(61,"          "),t.qZA()()()(),t.TgZ(62,"div",24)(63,"div",8)(64,"label"),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.TgZ(67,"div",19)(68,"textarea",26),t._uU(69,"          "),t.qZA()()()()(),t.TgZ(70,"div",6)(71,"div",27)(72,"div",6)(73,"div",28)(74,"h6"),t._uU(75),t.ALo(76,"translate"),t.qZA(),t._UZ(77,"input",29),t.ALo(78,"translate"),t.qZA()()()(),t.TgZ(79,"div",6)(80,"div",30)(81,"div",6)(82,"div",31)(83,"button",32),t.NdJ("click",function(){return r.onAddAnotherProduct()}),t._UZ(84,"i",33),t._uU(85),t.ALo(86,"translate"),t.qZA()()(),t.TgZ(87,"div",6)(88,"div",34)(89,"div",35)(90,"table",36)(91,"tr")(92,"th",37),t._uU(93," \xa0 "),t.qZA(),t.TgZ(94,"th",38),t._uU(95),t.ALo(96,"translate"),t.qZA(),t.TgZ(97,"th",38),t._uU(98),t.ALo(99,"translate"),t.qZA(),t.TgZ(100,"th",39),t._uU(101),t.ALo(102,"translate"),t.qZA(),t.TgZ(103,"th",40),t._uU(104),t.ALo(105,"translate"),t.qZA(),t.TgZ(106,"th",41),t._uU(107),t.ALo(108,"translate"),t.qZA(),t.TgZ(109,"th",42),t._uU(110),t.ALo(111,"translate"),t.qZA(),t.TgZ(112,"th",42),t._uU(113),t.ALo(114,"translate"),t.qZA(),t.TgZ(115,"th",42),t._uU(116),t.ALo(117,"translate"),t.qZA(),t.TgZ(118,"th",43),t._uU(119),t.ALo(120,"translate"),t.qZA(),t.TgZ(121,"th",39),t._uU(122),t.ALo(123,"translate"),t.qZA()(),t.YNc(124,kt,50,65,"tr",44),t.qZA()()()()()(),t.TgZ(125,"div",45)(126,"div",46),t._uU(127),t.ALo(128,"translate"),t.qZA(),t.TgZ(129,"div",47),t._uU(130),t.ALo(131,"customCurrency"),t.qZA()(),t.TgZ(132,"div",6)(133,"div",46),t._uU(134),t.ALo(135,"translate"),t.qZA(),t.TgZ(136,"div",48),t._uU(137),t.ALo(138,"customCurrency"),t.qZA()(),t.TgZ(139,"div",6)(140,"div",46),t._uU(141),t.ALo(142,"translate"),t.qZA(),t.TgZ(143,"div",47),t._uU(144),t.ALo(145,"customCurrency"),t.qZA()(),t.TgZ(146,"div",6)(147,"div",49),t._UZ(148,"mat-divider"),t.qZA()(),t.TgZ(149,"div",6)(150,"div",46),t._uU(151),t.ALo(152,"translate"),t.qZA(),t.TgZ(153,"div",47),t._uU(154),t.ALo(155,"customCurrency"),t.qZA()(),t.TgZ(156,"div",6)(157,"div",50),t.YNc(158,Gt,4,3,"button",51),t.TgZ(159,"button",52),t._UZ(160,"i",53),t._uU(161),t.ALo(162,"translate"),t.qZA()()()(),t.YNc(163,Kt,2,1,"div",4)),2&n){const o=t.MAs(28),c=t.MAs(38);t.xp6(5),t.Oqu(t.lcZ(6,53,"MANAGE_PURCHASE_ORDER_REQUEST")),t.xp6(2),t.Q6J("ngIf",r.isLoading),t.xp6(1),t.Q6J("formGroup",r.purchaseOrderForm),t.xp6(5),t.hij("",t.lcZ(14,55,"PO_REQUEST_NUMBER")," "),t.xp6(4),t.Q6J("readonly",r.isEdit),t.xp6(1),t.Q6J("ngIf",r.purchaseOrderForm.get("orderNumber").touched&&r.purchaseOrderForm.get("orderNumber").errors),t.xp6(4),t.hij("",t.lcZ(23,57,"ORDER_DATE")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(25,59,"DELIVERY_DATE")),t.Q6J("owlDateTimeTrigger",o)("owlDateTime",o),t.xp6(2),t.Q6J("ngIf",r.purchaseOrderForm.get("poCreatedDate").touched&&r.purchaseOrderForm.get("poCreatedDate").errors),t.xp6(1),t.Q6J("pickerType","calendar"),t.xp6(5),t.hij("",t.lcZ(33,61,"DELIVERY_DATE")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(35,63,"DELIVERY_DATE")),t.Q6J("owlDateTimeTrigger",c)("owlDateTime",c),t.xp6(2),t.Q6J("ngIf",r.purchaseOrderForm.get("deliveryDate").touched&&r.purchaseOrderForm.get("deliveryDate").errors),t.xp6(1),t.Q6J("pickerType","calendar"),t.xp6(5),t.hij("",t.lcZ(43,65,"SUPPLIER_NAME")," *"),t.xp6(3),t.s9C("placeholder",t.lcZ(46,67,"SELECT_SUPPLIER")),t.Q6J("dir",r.langDir),t.xp6(2),t.s9C("placeholder",t.lcZ(48,69,"SEARCH_OTHER_SUPPLIERS")),t.xp6(3),t.Q6J("ngForOf",r.suppliers),t.xp6(1),t.Q6J("ngIf",0==r.suppliers.length),t.xp6(1),t.Q6J("ngIf",r.purchaseOrderForm.get("supplierId").touched&&r.purchaseOrderForm.get("supplierId").errors),t.xp6(5),t.hij("",t.lcZ(58,71,"TERM_AND_CONDITION")," "),t.xp6(8),t.hij("",t.lcZ(66,73,"NOTES")," "),t.xp6(10),t.Oqu(t.lcZ(76,75,"SCAN_BARCODE")),t.xp6(2),t.s9C("placeholder",t.lcZ(78,77,"SCAN_BARCODE")),t.xp6(8),t.hij(" ",t.lcZ(86,79,"ADD_ANOTHER_PRODUCT")," "),t.xp6(10),t.hij(" ",t.lcZ(96,81,"PRODUCT")," "),t.xp6(3),t.hij(" ",t.lcZ(99,83,"WAREHOUSE")," "),t.xp6(3),t.hij(" ",t.lcZ(102,85,"UNIT")," "),t.xp6(3),t.hij(" ",t.lcZ(105,87,"PRICE")," "),t.xp6(3),t.hij(" ",t.lcZ(108,89,"QUANTITY")," "),t.xp6(3),t.hij(" ",t.lcZ(111,91,"SUBTOTAL_BEFORE_DISCOUNT")," "),t.xp6(3),t.hij(" ",t.lcZ(114,93,"DISCOUNT"),"% "),t.xp6(3),t.hij(" ",t.lcZ(117,95,"SUBTOTAL_AFTER_DISCOUNT")," "),t.xp6(3),t.hij(" ",t.lcZ(120,97,"TAX")," "),t.xp6(3),t.hij(" ",t.lcZ(123,99,"TOTAL")," "),t.xp6(2),t.Q6J("ngForOf",null==r.purchaseOrderItemsArray?null:r.purchaseOrderItemsArray.controls),t.xp6(3),t.hij(" ",t.lcZ(128,101,"SUB_TOTAL_BEFORE_DISCOUNT"),": "),t.xp6(3),t.hij(" ",t.lcZ(131,103,r.totalBeforeDiscount)," "),t.xp6(4),t.hij(" ",t.lcZ(135,105,"TOTAL_DISCOUNT")," : "),t.xp6(3),t.hij(" ",t.lcZ(138,107,r.totalDiscount)," "),t.xp6(4),t.hij(" ",t.lcZ(142,109,"TOTAL_TAX")," : "),t.xp6(3),t.hij(" ",t.lcZ(145,111,r.totalTax)," "),t.xp6(7),t.hij(" ",t.lcZ(152,113,"GRAND_TOTAL")," : "),t.xp6(3),t.hij(" ",t.lcZ(155,115,r.grandTotal)," "),t.xp6(4),t.Q6J("hasClaim",t.DdM(119,zt)),t.xp6(1),t.Q6J("routerLink",t.DdM(120,Wt)),t.xp6(2),t.hij(" ",t.lcZ(162,117,"CANCEL")," "),t.xp6(2),t.Q6J("ngIf",r.isLoading)}},dependencies:[p.sg,p.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,h.rH,l.sg,l.u,l.x0,l.CE,k.d,U.Lv,Y.gD,R.ey,w.Hw,M.lW,b.Ou,O.sZ,O.BO,O.hV,F.d,L.R,S.X$,I.q,q.S],styles:[".hr[_ngcontent-%COMP%]{border-bottom:1px solid #2095F3}"]}),e})();var _=a(1777),ee=a(2667),ne=a(8929),re=a(6787),ie=a(567),y=a(591),oe=a(2654),ae=a(7221),ce=a(537);class se{constructor(i){this.purchaseOrderService=i,this._purchaseOrderSubject$=new y.X([]),this._responseHeaderSubject$=new y.X(null),this.loadingSubject=new y.X(!1),this.loading$=this.loadingSubject.asObservable(),this._count=0,this.responseHeaderSubject$=this._responseHeaderSubject$.asObservable()}get count(){return this._count}connect(){return this.sub$=new oe.w,this._purchaseOrderSubject$.asObservable()}disconnect(){this._purchaseOrderSubject$.complete(),this.loadingSubject.complete(),this.sub$.unsubscribe()}loadData(i){this.loadingSubject.next(!0),this.sub$=this.purchaseOrderService.getAllPurchaseOrder(i).pipe((0,ae.K)(()=>(0,B.of)([])),(0,ce.x)(()=>this.loadingSubject.next(!1))).subscribe(n=>{if(n&&n.headers){const r=JSON.parse(n.headers.get("X-Pagination"));this._responseHeaderSubject$.next(r);const o=[...n.body];this._count=o.length,this._purchaseOrderSubject$.next(o)}})}}var le=a(5485),ue=a(8265),de=a(2552);function me(e,i){1&e&&(t.TgZ(0,"div",20),t._UZ(1,"mat-spinner"),t.qZA())}function pe(e,i){1&e&&(t.TgZ(0,"th",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"PRODUCT_NAME")))}function he(e,i){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.productName," ")}}function _e(e,i){1&e&&(t.TgZ(0,"th",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"UNIT")," "))}function ge(e,i){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.unitName," ")}}function Oe(e,i){1&e&&(t.TgZ(0,"th",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"UNIT_PER_PRICE")," "))}function xe(e,i){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.unitPrice)," ")}}function Ce(e,i){1&e&&(t.TgZ(0,"th",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"QUANTITY")," "))}function Pe(e,i){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.quantity," ")}}function fe(e,i){1&e&&(t.TgZ(0,"th",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL_DISCOUNT")," "))}function be(e,i){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.AsE(" ",t.lcZ(2,2,n.discount),"(",n.discountPercentage,"%) ")}}function Te(e,i){1&e&&(t.TgZ(0,"th",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TAX")," "))}function Ae(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1," ,"),t.qZA())}function Ze(e,i){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,Ae,2,0,"span",24),t.qZA()),2&e){const n=i.$implicit,r=i.last;t.xp6(1),t.AsE(" ",n.taxName,"(",n.taxPercentage,"%) "),t.xp6(1),t.Q6J("ngIf",!r)}}function ve(e,i){if(1&e&&(t.TgZ(0,"td",22),t.YNc(1,Ze,3,3,"span",23),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Q6J("ngForOf",n.purchaseOrderItemTaxes)}}function we(e,i){1&e&&(t.TgZ(0,"th",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL_TAX")," "))}function Me(e,i){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.taxValue)," ")}}function Re(e,i){1&e&&(t.TgZ(0,"th",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL")," "))}function qe(e,i){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.unitPrice*n.quantity-n.discount+n.taxValue)," ")}}function Ie(e,i){1&e&&(t.TgZ(0,"th",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"WAREHOUSE"),""))}function De(e,i){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.warehouseName," ")}}function Ee(e,i){1&e&&t._UZ(0,"tr",25)}function Ne(e,i){1&e&&t._UZ(0,"tr",26)}let Ue=(()=>{class e extends D.H{constructor(n,r){super(r),this.purchaseOrderService=n,this.translationService=r,this.purchaseOrderItems=[],this.isLoading=!1,this.displayedColumns=["productName","unitName","unitPrice","quantity","totalDiscount","taxes","totalTax","totalAmount","warehouse"],this.getLangDir()}ngOnInit(){}ngOnChanges(n){n.purchaseOrder&&this.getPurchaseOrderItems()}getPurchaseOrderItems(){this.isLoading=!0,this.purchaseOrderService.getPurchaseOrderItems(this.purchaseOrder.id).subscribe(n=>{this.isLoading=!1,this.purchaseOrderItems=n},()=>this.isLoading=!1)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(E.x),t.Y36(N.D))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-purchase-order-request-items"]],inputs:{purchaseOrder:"purchaseOrder"},features:[t.qOj,t.TTD],decls:39,vars:9,consts:[[1,"page-header-main"],[1,"row","align-items-center"],[1,"col-md-auto","col-sm-auto"],[1,"content-header"],["class","loading-shade",4,"ngIf"],[1,"table-responsive"],["mat-table","",1,"table","table-bordered","table-hover",3,"dir","dataSource"],["matColumnDef","productName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","unitName"],["matColumnDef","unitPrice"],["matColumnDef","quantity"],["matColumnDef","totalDiscount"],["matColumnDef","taxes"],["matColumnDef","totalTax"],["matColumnDef","totalAmount"],["matColumnDef","warehouse"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"loading-shade"],["mat-header-cell",""],["mat-cell",""],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),t._uU(5),t.ALo(6,"translate"),t.qZA()()()()(),t.YNc(7,me,2,0,"div",4),t.TgZ(8,"div",5)(9,"table",6),t.ynx(10,7),t.YNc(11,pe,3,3,"th",8),t.YNc(12,he,2,1,"td",9),t.BQk(),t.ynx(13,10),t.YNc(14,_e,3,3,"th",8),t.YNc(15,ge,2,1,"td",9),t.BQk(),t.ynx(16,11),t.YNc(17,Oe,3,3,"th",8),t.YNc(18,xe,3,3,"td",9),t.BQk(),t.ynx(19,12),t.YNc(20,Ce,3,3,"th",8),t.YNc(21,Pe,2,1,"td",9),t.BQk(),t.ynx(22,13),t.YNc(23,fe,3,3,"th",8),t.YNc(24,be,3,4,"td",9),t.BQk(),t.ynx(25,14),t.YNc(26,Te,3,3,"th",8),t.YNc(27,ve,2,1,"td",9),t.BQk(),t.ynx(28,15),t.YNc(29,we,3,3,"th",8),t.YNc(30,Me,3,3,"td",9),t.BQk(),t.ynx(31,16),t.YNc(32,Re,3,3,"th",8),t.YNc(33,qe,3,3,"td",9),t.BQk(),t.ynx(34,17),t.YNc(35,Ie,3,3,"th",8),t.YNc(36,De,2,1,"td",9),t.BQk(),t.YNc(37,Ee,1,0,"tr",18),t.YNc(38,Ne,1,0,"tr",19),t.qZA()()),2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,7,"PURCHASE_ORDER_REQUEST_ITEMS")),t.xp6(2),t.Q6J("ngIf",r.isLoading),t.xp6(2),t.Q6J("dir",r.langDir)("dataSource",r.purchaseOrderItems),t.xp6(28),t.Q6J("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns))},dependencies:[p.sg,p.O5,U.Lv,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,b.Ou,p.H9,L.R,S.X$]}),e})();var Le=a(8017);const Se=function(){return["/purchase-order-request/add"]};function ye(e,i){1&e&&(t.TgZ(0,"button",45),t._UZ(1,"i",46),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&e&&(t.Q6J("routerLink",t.DdM(4,Se)),t.xp6(2),t.hij(" ",t.lcZ(3,2,"ADD_PURCHASE_ORDER_REQUEST")," "))}function Qe(e,i){1&e&&(t.TgZ(0,"div",47),t._UZ(1,"mat-spinner"),t.qZA())}function Ye(e,i){1&e&&t._UZ(0,"th",48)}function Fe(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"chevron_right"),t.qZA())}function Je(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"expand_more"),t.qZA())}function je(e,i){if(1&e&&(t.TgZ(0,"button",55)(1,"mat-icon"),t._uU(2,"more_vert"),t.qZA()()),2&e){t.oxw();const n=t.MAs(6);t.Q6J("matMenuTriggerFor",n)}}function Be(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",56),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,c=t.oxw();return t.KtG(c.onDetailPurchaseOrder(o))}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"EDIT")))}const X=function(e){return["/purchase-order/detail",e]};function $e(e,i){if(1&e&&(t.TgZ(0,"button",57)(1,"mat-icon"),t._uU(2,"info"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&e){const n=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(4,X,n.id)),t.xp6(4),t.Oqu(t.lcZ(5,2,"DETAIL"))}}function He(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",56),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,c=t.oxw();return t.KtG(c.convertToPurchaseOrder(o))}),t.TgZ(1,"mat-icon"),t._uU(2,"navigation"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"CONVERT_TO_PURCHASE_ORDER")))}function Ve(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",56),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2).$implicit,c=t.oxw();return t.KtG(c.deletePurchaseOrder(o))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"DELETE")))}function ke(e,i){1&e&&(t.ynx(0),t.YNc(1,Ve,6,3,"button",53),t.BQk()),2&e&&(t.xp6(1),t.Q6J("hasClaim","POR_DELETE_PO_REQUEST"))}function Ge(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",56),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,c=t.oxw();return t.KtG(c.generateInvoice(o))}),t.TgZ(1,"mat-icon"),t._uU(2,"receipt"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"GENERATE_PURCHASE_ORDER_REQUEST")))}const Xe=function(){return["POR_UPDATE_PO_REQUEST","POR_POR_DETAIL","POR_CONVERT_TO_PO","POR_DELETE_PO_REQUEST","POR_GENERATE_INVOICE"]};function Ke(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",49)(1,"button",50),t.NdJ("click",function(){const c=t.CHM(n).$implicit,s=t.oxw();return t.KtG(s.toggleRow(c))}),t.YNc(2,Fe,2,0,"mat-icon",44),t.YNc(3,Je,2,0,"mat-icon",44),t.qZA(),t.YNc(4,je,3,1,"button",51),t.TgZ(5,"mat-menu",null,52),t.YNc(7,Be,6,3,"button",53),t.YNc(8,$e,6,6,"button",54),t.YNc(9,He,6,3,"button",53),t.YNc(10,ke,2,1,"ng-container",44),t.YNc(11,Ge,6,3,"button",53),t.qZA()()}if(2&e){const n=i.$implicit,r=t.oxw();t.xp6(2),t.Q6J("ngIf",n!=r.expandedElement),t.xp6(1),t.Q6J("ngIf",n==r.expandedElement),t.xp6(1),t.Q6J("hasClaim",t.DdM(8,Xe)),t.xp6(3),t.Q6J("hasClaim","POR_UPDATE_PO_REQUEST"),t.xp6(1),t.Q6J("hasClaim","POR_POR_DETAIL"),t.xp6(1),t.Q6J("hasClaim","POR_CONVERT_TO_PO"),t.xp6(1),t.Q6J("ngIf",!n.isClosed),t.xp6(1),t.Q6J("hasClaim","POR_GENERATE_INVOICE")}}function ze(e,i){1&e&&(t.TgZ(0,"th",58),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CREATED_DATE")," "))}function We(e,i){if(1&e&&(t.TgZ(0,"td",59),t._uU(1),t.ALo(2,"utcToLocalTime"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,n.poCreatedDate,"shortDate")," ")}}function tn(e,i){1&e&&(t.TgZ(0,"th",60),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ORDER_NUMBER")," "))}function en(e,i){if(1&e&&(t.TgZ(0,"td",49)(1,"a",61),t._uU(2),t.qZA()()),2&e){const n=i.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(2,X,n.id)),t.xp6(1),t.hij("",n.orderNumber," ")}}function nn(e,i){1&e&&(t.TgZ(0,"th",60),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DELIVERY_DATE")," "))}function rn(e,i){if(1&e&&(t.TgZ(0,"td",59),t._uU(1),t.ALo(2,"utcToLocalTime"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,n.deliveryDate,"shortDate")," ")}}function on(e,i){1&e&&(t.TgZ(0,"th",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SUPPLIER_NAME")," "))}const an=function(e){return["/supplier/manage/",e]};function cn(e,i){if(1&e&&(t.TgZ(0,"td",63)(1,"a",61),t._uU(2),t.qZA()()),2&e){const n=i.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(2,an,n.supplierId)),t.xp6(1),t.hij(" ",n.supplierName," ")}}function sn(e,i){1&e&&(t.TgZ(0,"th",64),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL_AMOUNT")," "))}function ln(e,i){if(1&e&&(t.TgZ(0,"td",65),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.totalAmount)," ")}}function un(e,i){1&e&&(t.TgZ(0,"th",64),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL_DISCOUNT")," "))}function dn(e,i){if(1&e&&(t.TgZ(0,"td",65),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.totalDiscount)," ")}}function mn(e,i){1&e&&(t.TgZ(0,"th",64),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL_TAX")," "))}function pn(e,i){if(1&e&&(t.TgZ(0,"td",65),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.totalTax)," ")}}function hn(e,i){1&e&&t._UZ(0,"th",66)}function _n(e,i){1&e&&t._UZ(0,"th",66)}function gn(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"th",66)(1,"input",67),t.NdJ("ngModelChange",function(o){t.CHM(n);const c=t.oxw();return t.KtG(c.OrderNumberFilter=o)}),t.ALo(2,"translate"),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"ORDER_NO")),t.Q6J("ngModel",n.OrderNumberFilter)}}function On(e,i){1&e&&t._UZ(0,"th",66)}function xn(e,i){if(1&e&&(t.TgZ(0,"mat-option",73),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.Q6J("value",n.supplierName),t.xp6(1),t.hij(" ",n.supplierName," ")}}function Cn(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"th",66),t._UZ(1,"input",68),t.ALo(2,"translate"),t.TgZ(3,"mat-autocomplete",69,70),t.NdJ("optionSelected",function(o){t.CHM(n);const c=t.oxw();return t.KtG(c.SupplierFilter=o.option.value)}),t.TgZ(5,"mat-option",71),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.YNc(8,xn,2,2,"mat-option",72),t.ALo(9,"async"),t.qZA()()}if(2&e){const n=t.MAs(4),r=t.oxw();t.xp6(1),t.s9C("placeholder",t.lcZ(2,8,"SUPPLIER")),t.Q6J("formControl",r.supplierNameControl)("matAutocomplete",n),t.xp6(2),t.Q6J("dir",r.langDir)("autoActiveFirstOption",!0),t.xp6(2),t.Q6J("dir",r.langDir),t.xp6(1),t.Oqu(t.lcZ(7,10,"NONE")),t.xp6(2),t.Q6J("ngForOf",t.lcZ(9,12,r.supplierList$))}}function Pn(e,i){1&e&&t._UZ(0,"th",66)}function fn(e,i){1&e&&t._UZ(0,"th",66)}function bn(e,i){1&e&&t._UZ(0,"th",66)}const Tn=function(){return[10,20,30]};function An(e,i){if(1&e&&(t.TgZ(0,"td",74),t._UZ(1,"mat-paginator",75),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("dir",n.langDir)("length",n.purchaseOrderResource.totalCount)("pageSize",n.purchaseOrderResource.pageSize)("pageSizeOptions",t.DdM(4,Tn))}}function Zn(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"div",76)(2,"div",77),t._UZ(3,"app-purchase-order-request-items",78),t.qZA()(),t.BQk()),2&e){const n=t.oxw().$implicit,r=t.oxw();t.xp6(1),t.Q6J("@detailExpand",n==r.expandedElement?"expanded":"collapsed"),t.xp6(2),t.Q6J("purchaseOrder",n)}}function vn(e,i){if(1&e&&(t.TgZ(0,"td",65),t.YNc(1,Zn,4,2,"ng-container",44),t.qZA()),2&e){const n=i.$implicit,r=t.oxw();t.uIk("colspan",r.displayedColumns.length),t.xp6(1),t.Q6J("ngIf",n==r.expandedElement)}}function wn(e,i){1&e&&(t.TgZ(0,"tr")(1,"td",79)(2,"span",80)(3,"b"),t._uU(4),t.ALo(5,"translate"),t.qZA()()()()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"NO_DATA_FOUND"),""))}function Mn(e,i){1&e&&t._UZ(0,"tr",81)}function Rn(e,i){1&e&&t._UZ(0,"tr",82)}function qn(e,i){1&e&&t._UZ(0,"tr",81)}function In(e,i){1&e&&t._UZ(0,"tr",83)}function Dn(e,i){1&e&&t._UZ(0,"tr",84)}function En(e,i){if(1&e&&(t.ynx(0),t._UZ(1,"app-purchase-order-invoice",78),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("purchaseOrder",n.purchaseOrderForInvoice)}}const Nn=function(){return["expandedDetail"]},Un=[{path:"list",component:(()=>{class e extends D.H{constructor(n,r,o,c,s,d,m,g){super(m),this.purchaseOrderService=n,this.supplierService=r,this.cd=o,this.commonDialogService=c,this.toastrService=s,this.router=d,this.translationService=m,this.cloneService=g,this.purchaseOrders=[],this.displayedColumns=["action","poCreatedDate","orderNumber","deliveryDate","supplierName","totalAmount","totalDiscount","totalTax"],this.filterColumns=["action-search","poCreatedDate-search","orderNumber-search","deliverDate-search","supplier-search","totalAmount-search","totalDiscount-search","totalTax-search"],this.footerToDisplayed=["footer"],this.isLoadingResults=!0,this.supplierNameControl=new l.p4,this.filterObservable$=new ne.xQ,this.getLangDir(),this.purchaseOrderResource=new ee.D,this.purchaseOrderResource.pageSize=50,this.purchaseOrderResource.orderBy="poCreatedDate asc",this.purchaseOrderResource.isPurchaseOrderRequest=!0}get SupplierFilter(){return this._supplierFilter}set SupplierFilter(n){this._supplierFilter=n,this.filterObservable$.next(`supplierName:${n}`)}get OrderNumberFilter(){return this._orderNumberFilter}set OrderNumberFilter(n){this._orderNumberFilter=n,this.filterObservable$.next(`orderNumber:${n}`)}ngOnInit(){this.supplierNameControlOnChange(),this.dataSource=new se(this.purchaseOrderService),this.dataSource.loadData(this.purchaseOrderResource),this.getResourceParameter(),this.sub$.sink=this.filterObservable$.pipe((0,x.b)(1e3),(0,C.x)()).subscribe(n=>{this.purchaseOrderResource.skip=0,this.paginator.pageIndex=0;const r=n.split(":");"supplierName"===r[0]?this.purchaseOrderResource.supplierName=r[1]:"orderNumber"===r[0]&&(this.purchaseOrderResource.orderNumber=r[1]),this.dataSource.loadData(this.purchaseOrderResource)})}convertToPurchaseOrder(n){this.router.navigate(["purchase-order/add"],{queryParams:{"purchase-order-requestId":n.id}})}onDetailPurchaseOrder(n){this.router.navigate(["/purchase-order-request",n.id])}supplierNameControlOnChange(){this.supplierList$=this.supplierNameControl.valueChanges.pipe((0,x.b)(1e3),(0,C.x)(),(0,T.w)(n=>this.supplierService.getSuppliersForDropDown(n)))}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.sub$.sink=(0,re.T)(this.sort.sortChange,this.paginator.page).pipe((0,$.b)(n=>{this.purchaseOrderResource.skip=this.paginator.pageIndex*this.paginator.pageSize,this.purchaseOrderResource.pageSize=this.paginator.pageSize,this.purchaseOrderResource.orderBy=this.sort.active+" "+this.sort.direction,this.dataSource.loadData(this.purchaseOrderResource)})).subscribe()}getResourceParameter(){this.sub$.sink=this.dataSource.responseHeaderSubject$.subscribe(n=>{n&&(this.purchaseOrderResource.pageSize=n.pageSize,this.purchaseOrderResource.skip=n.skip,this.purchaseOrderResource.totalCount=n.totalCount)})}toggleRow(n){this.expandedElement=this.expandedElement===n?null:n,this.cd.detectChanges()}poChangeEvent(n){this.toggleRow(n)}deletePurchaseOrder(n){this.commonDialogService.deleteConformationDialog(this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")).subscribe(r=>{r&&this.purchaseOrderService.deletePurchaseOrder(n.id).subscribe(()=>{this.toastrService.success(this.translationService.getValue("PURCHASE_ORDER_REQUEST_DELETED")),this.dataSource.loadData(this.purchaseOrderResource)})})}generateInvoice(n){let r=this.cloneService.deepClone(n);const o=this.supplierService.getSupplier(n.supplierId),c=this.purchaseOrderService.getPurchaseOrderItems(n.id);(0,ie.D)({getSupplierRequest:o,getPurchaseOrderItems:c}).subscribe(s=>{r.supplier=s.getSupplierRequest,r.purchaseOrderItems=s.getPurchaseOrderItems,this.purchaseOrderForInvoice=r})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(E.x),t.Y36(H.p),t.Y36(t.sBO),t.Y36(le.V),t.Y36(V._W),t.Y36(h.F0),t.Y36(N.D),t.Y36(ue.$))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-purchase-order-request-list"]],viewQuery:function(n,r){if(1&n&&(t.Gf(v.NW,5),t.Gf(P.YE,5)),2&n){let o;t.iGM(o=t.CRH())&&(r.paginator=o.first),t.iGM(o=t.CRH())&&(r.sort=o.first)}},features:[t.qOj],decls:66,vars:19,consts:[[1,"page-header-main"],[1,"row","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto"],[1,"content-header"],["class","btn blue-btn btn-sm m-right-10",3,"routerLink",4,"hasClaim"],["class","loading-shade",4,"ngIf"],[1,"row"],[1,"col-sm-12"],[1,"table-responsive"],["mat-table","","multiTemplateDataRows","","matSort","","matSortActive","poCreatedDate",1,"table","table-bordered","table-hover","grid-height",3,"dir","dataSource"],["matColumnDef","action"],["class","table-column-150","mat-header-cell","",4,"matHeaderCellDef"],["class","table-column-150","mat-cell","",4,"matCellDef"],["matColumnDef","poCreatedDate"],["class","table-column-100","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","table-column-100","mat-cell","",4,"matCellDef"],["matColumnDef","orderNumber"],["class","table-column-150","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","deliveryDate"],["matColumnDef","supplierName"],["class","table-column-300","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","table-column-300","mat-cell","",4,"matCellDef"],["matColumnDef","totalAmount"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","totalDiscount"],["matColumnDef","totalTax"],["matColumnDef","action-search"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","poCreatedDate-search"],["matColumnDef","orderNumber-search"],["matColumnDef","deliverDate-search"],["matColumnDef","supplier-search"],["matColumnDef","totalAmount-search"],["matColumnDef","totalDiscount-search"],["matColumnDef","totalTax-search"],["matColumnDef","footer"],["mat-footer-cell","","colspan","11",4,"matFooterCellDef"],["matColumnDef","expandedDetail"],[4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[1,"btn","blue-btn","btn-sm","m-right-10",3,"routerLink"],[1,"fas","fa-plus"],[1,"loading-shade"],["mat-header-cell","",1,"table-column-150"],["mat-cell","",1,"table-column-150"],["mat-icon-button","",3,"click"],["class","ml-4","mat-icon-button","","aria-label","Action",3,"matMenuTriggerFor",4,"hasClaim"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"hasClaim"],["mat-menu-item","",3,"routerLink",4,"hasClaim"],["mat-icon-button","","aria-label","Action",1,"ml-4",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"],["mat-header-cell","","mat-sort-header","",1,"table-column-100"],["mat-cell","",1,"table-column-100"],["mat-header-cell","","mat-sort-header","",1,"table-column-150"],[3,"routerLink"],["mat-header-cell","","mat-sort-header","",1,"table-column-300"],["mat-cell","",1,"table-column-300"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["type","text",1,"form-control","w-90",3,"placeholder","ngModel","ngModelChange"],["type","text",1,"form-control","w-90",3,"placeholder","formControl","matAutocomplete"],[3,"dir","autoActiveFirstOption","optionSelected"],["autoSupplier","matAutocomplete"],["value","",3,"dir"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-footer-cell","","colspan","11"],[3,"dir","length","pageSize","pageSizeOptions"],[1,"example-element-detail"],[1,"inner-table","mat-elevation-z8"],[3,"purchaseOrder"],["colspan","9"],[1,"p-4","mt-4"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""],["mat-row","",1,"example-detail-row"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"div",2),t.YNc(8,ye,4,5,"button",4),t.qZA()()(),t.YNc(9,Qe,2,0,"div",5),t.ALo(10,"async"),t.TgZ(11,"div",6)(12,"div",7)(13,"div",8)(14,"table",9),t.ynx(15,10),t.YNc(16,Ye,1,0,"th",11),t.YNc(17,Ke,12,9,"td",12),t.BQk(),t.ynx(18,13),t.YNc(19,ze,3,3,"th",14),t.YNc(20,We,3,4,"td",15),t.BQk(),t.ynx(21,16),t.YNc(22,tn,3,3,"th",17),t.YNc(23,en,3,4,"td",12),t.BQk(),t.ynx(24,18),t.YNc(25,nn,3,3,"th",17),t.YNc(26,rn,3,4,"td",15),t.BQk(),t.ynx(27,19),t.YNc(28,on,3,3,"th",20),t.YNc(29,cn,3,4,"td",21),t.BQk(),t.ynx(30,22),t.YNc(31,sn,3,3,"th",23),t.YNc(32,ln,3,3,"td",24),t.BQk(),t.ynx(33,25),t.YNc(34,un,3,3,"th",23),t.YNc(35,dn,3,3,"td",24),t.BQk(),t.ynx(36,26),t.YNc(37,mn,3,3,"th",23),t.YNc(38,pn,3,3,"td",24),t.BQk(),t.ynx(39,27),t.YNc(40,hn,1,0,"th",28),t.BQk(),t.ynx(41,29),t.YNc(42,_n,1,0,"th",28),t.BQk(),t.ynx(43,30),t.YNc(44,gn,3,4,"th",28),t.BQk(),t.ynx(45,31),t.YNc(46,On,1,0,"th",28),t.BQk(),t.ynx(47,32),t.YNc(48,Cn,10,14,"th",28),t.BQk(),t.ynx(49,33),t.YNc(50,Pn,1,0,"th",28),t.BQk(),t.ynx(51,34),t.YNc(52,fn,1,0,"th",28),t.BQk(),t.ynx(53,35),t.YNc(54,bn,1,0,"th",28),t.BQk(),t.ynx(55,36),t.YNc(56,An,2,5,"td",37),t.BQk(),t.ynx(57,38),t.YNc(58,vn,2,2,"td",24),t.BQk(),t.YNc(59,wn,6,3,"tr",39),t.YNc(60,Mn,1,0,"tr",40),t.YNc(61,Rn,1,0,"tr",41),t.YNc(62,qn,1,0,"tr",40),t.YNc(63,In,1,0,"tr",42),t.YNc(64,Dn,1,0,"tr",43),t.qZA()()()(),t.YNc(65,En,2,1,"ng-container",44)),2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,14,"PURCHASE_ORDERS_REQUEST")),t.xp6(3),t.Q6J("hasClaim","POR_ADD_PO_REQUEST"),t.xp6(1),t.Q6J("ngIf",t.lcZ(10,16,r.dataSource.loading$)),t.xp6(5),t.Q6J("dir",r.langDir)("dataSource",r.dataSource),t.xp6(46),t.Q6J("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("matHeaderRowDef",r.filterColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matFooterRowDef",r.footerToDisplayed)("matFooterRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(18,Nn)),t.xp6(1),t.Q6J("ngIf",r.purchaseOrderForInvoice))},dependencies:[p.sg,p.O5,l.Fj,l.JJ,l.On,h.rH,h.yS,l.oH,k.d,U.Lv,de.g,R.ey,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.mD,u.Ke,u.ge,u.ev,u.yh,u.XQ,u.Gk,u.Q2,u.Ee,v.NW,P.YE,P.nU,f.VK,f.OP,f.p6,w.Hw,M.lW,Z.XC,Z.ZL,b.Ou,Ue,p.Ov,L.R,Le.M,S.X$],styles:[".mat-table[_ngcontent-%COMP%]{display:block;width:100%;overflow-x:auto}.table-column-0[_ngcontent-%COMP%]{min-width:0px}.table-column-2[_ngcontent-%COMP%]{min-width:2px}.table-column-4[_ngcontent-%COMP%]{min-width:4px}.table-column-6[_ngcontent-%COMP%]{min-width:6px}.table-column-8[_ngcontent-%COMP%]{min-width:8px}.table-column-10[_ngcontent-%COMP%]{min-width:10px}.table-column-12[_ngcontent-%COMP%]{min-width:12px}.table-column-14[_ngcontent-%COMP%]{min-width:14px}.table-column-16[_ngcontent-%COMP%]{min-width:16px}.table-column-18[_ngcontent-%COMP%]{min-width:18px}.table-column-20[_ngcontent-%COMP%]{min-width:20px}.table-column-22[_ngcontent-%COMP%]{min-width:22px}.table-column-24[_ngcontent-%COMP%]{min-width:24px}.table-column-26[_ngcontent-%COMP%]{min-width:26px}.table-column-28[_ngcontent-%COMP%]{min-width:28px}.table-column-30[_ngcontent-%COMP%]{min-width:30px}.table-column-32[_ngcontent-%COMP%]{min-width:32px}.table-column-34[_ngcontent-%COMP%]{min-width:34px}.table-column-36[_ngcontent-%COMP%]{min-width:36px}.table-column-38[_ngcontent-%COMP%]{min-width:38px}.table-column-40[_ngcontent-%COMP%]{min-width:40px}.table-column-42[_ngcontent-%COMP%]{min-width:42px}.table-column-44[_ngcontent-%COMP%]{min-width:44px}.table-column-46[_ngcontent-%COMP%]{min-width:46px}.table-column-48[_ngcontent-%COMP%]{min-width:48px}.table-column-50[_ngcontent-%COMP%]{min-width:50px}.table-column-52[_ngcontent-%COMP%]{min-width:52px}.table-column-54[_ngcontent-%COMP%]{min-width:54px}.table-column-56[_ngcontent-%COMP%]{min-width:56px}.table-column-58[_ngcontent-%COMP%]{min-width:58px}.table-column-60[_ngcontent-%COMP%]{min-width:60px}.table-column-62[_ngcontent-%COMP%]{min-width:62px}.table-column-64[_ngcontent-%COMP%]{min-width:64px}.table-column-66[_ngcontent-%COMP%]{min-width:66px}.table-column-68[_ngcontent-%COMP%]{min-width:68px}.table-column-70[_ngcontent-%COMP%]{min-width:70px}.table-column-72[_ngcontent-%COMP%]{min-width:72px}.table-column-74[_ngcontent-%COMP%]{min-width:74px}.table-column-76[_ngcontent-%COMP%]{min-width:76px}.table-column-78[_ngcontent-%COMP%]{min-width:78px}.table-column-80[_ngcontent-%COMP%]{min-width:80px}.table-column-82[_ngcontent-%COMP%]{min-width:82px}.table-column-84[_ngcontent-%COMP%]{min-width:84px}.table-column-86[_ngcontent-%COMP%]{min-width:86px}.table-column-88[_ngcontent-%COMP%]{min-width:88px}.table-column-90[_ngcontent-%COMP%]{min-width:90px}.table-column-92[_ngcontent-%COMP%]{min-width:92px}.table-column-94[_ngcontent-%COMP%]{min-width:94px}.table-column-96[_ngcontent-%COMP%]{min-width:96px}.table-column-98[_ngcontent-%COMP%]{min-width:98px}.table-column-100[_ngcontent-%COMP%]{min-width:100px}.table-column-102[_ngcontent-%COMP%]{min-width:102px}.table-column-104[_ngcontent-%COMP%]{min-width:104px}.table-column-106[_ngcontent-%COMP%]{min-width:106px}.table-column-108[_ngcontent-%COMP%]{min-width:108px}.table-column-110[_ngcontent-%COMP%]{min-width:110px}.table-column-112[_ngcontent-%COMP%]{min-width:112px}.table-column-114[_ngcontent-%COMP%]{min-width:114px}.table-column-116[_ngcontent-%COMP%]{min-width:116px}.table-column-118[_ngcontent-%COMP%]{min-width:118px}.table-column-120[_ngcontent-%COMP%]{min-width:120px}.table-column-122[_ngcontent-%COMP%]{min-width:122px}.table-column-124[_ngcontent-%COMP%]{min-width:124px}.table-column-126[_ngcontent-%COMP%]{min-width:126px}.table-column-128[_ngcontent-%COMP%]{min-width:128px}.table-column-130[_ngcontent-%COMP%]{min-width:130px}.table-column-132[_ngcontent-%COMP%]{min-width:132px}.table-column-134[_ngcontent-%COMP%]{min-width:134px}.table-column-136[_ngcontent-%COMP%]{min-width:136px}.table-column-138[_ngcontent-%COMP%]{min-width:138px}.table-column-140[_ngcontent-%COMP%]{min-width:140px}.table-column-142[_ngcontent-%COMP%]{min-width:142px}.table-column-144[_ngcontent-%COMP%]{min-width:144px}.table-column-146[_ngcontent-%COMP%]{min-width:146px}.table-column-148[_ngcontent-%COMP%]{min-width:148px}.table-column-150[_ngcontent-%COMP%]{min-width:150px}.table-column-152[_ngcontent-%COMP%]{min-width:152px}.table-column-154[_ngcontent-%COMP%]{min-width:154px}.table-column-156[_ngcontent-%COMP%]{min-width:156px}.table-column-158[_ngcontent-%COMP%]{min-width:158px}.table-column-160[_ngcontent-%COMP%]{min-width:160px}.table-column-162[_ngcontent-%COMP%]{min-width:162px}.table-column-164[_ngcontent-%COMP%]{min-width:164px}.table-column-166[_ngcontent-%COMP%]{min-width:166px}.table-column-168[_ngcontent-%COMP%]{min-width:168px}.table-column-170[_ngcontent-%COMP%]{min-width:170px}.table-column-172[_ngcontent-%COMP%]{min-width:172px}.table-column-174[_ngcontent-%COMP%]{min-width:174px}.table-column-176[_ngcontent-%COMP%]{min-width:176px}.table-column-178[_ngcontent-%COMP%]{min-width:178px}.table-column-180[_ngcontent-%COMP%]{min-width:180px}.table-column-182[_ngcontent-%COMP%]{min-width:182px}.table-column-184[_ngcontent-%COMP%]{min-width:184px}.table-column-186[_ngcontent-%COMP%]{min-width:186px}.table-column-188[_ngcontent-%COMP%]{min-width:188px}.table-column-190[_ngcontent-%COMP%]{min-width:190px}.table-column-192[_ngcontent-%COMP%]{min-width:192px}.table-column-194[_ngcontent-%COMP%]{min-width:194px}.table-column-196[_ngcontent-%COMP%]{min-width:196px}.table-column-198[_ngcontent-%COMP%]{min-width:198px}.table-column-200[_ngcontent-%COMP%]{min-width:200px}.table-column-202[_ngcontent-%COMP%]{min-width:202px}.table-column-204[_ngcontent-%COMP%]{min-width:204px}.table-column-206[_ngcontent-%COMP%]{min-width:206px}.table-column-208[_ngcontent-%COMP%]{min-width:208px}.table-column-210[_ngcontent-%COMP%]{min-width:210px}.table-column-212[_ngcontent-%COMP%]{min-width:212px}.table-column-214[_ngcontent-%COMP%]{min-width:214px}.table-column-216[_ngcontent-%COMP%]{min-width:216px}.table-column-218[_ngcontent-%COMP%]{min-width:218px}.table-column-220[_ngcontent-%COMP%]{min-width:220px}.table-column-222[_ngcontent-%COMP%]{min-width:222px}.table-column-224[_ngcontent-%COMP%]{min-width:224px}.table-column-226[_ngcontent-%COMP%]{min-width:226px}.table-column-228[_ngcontent-%COMP%]{min-width:228px}.table-column-230[_ngcontent-%COMP%]{min-width:230px}.table-column-232[_ngcontent-%COMP%]{min-width:232px}.table-column-234[_ngcontent-%COMP%]{min-width:234px}.table-column-236[_ngcontent-%COMP%]{min-width:236px}.table-column-238[_ngcontent-%COMP%]{min-width:238px}.table-column-240[_ngcontent-%COMP%]{min-width:240px}.table-column-242[_ngcontent-%COMP%]{min-width:242px}.table-column-244[_ngcontent-%COMP%]{min-width:244px}.table-column-246[_ngcontent-%COMP%]{min-width:246px}.table-column-248[_ngcontent-%COMP%]{min-width:248px}.table-column-250[_ngcontent-%COMP%]{min-width:250px}.table-column-252[_ngcontent-%COMP%]{min-width:252px}.table-column-254[_ngcontent-%COMP%]{min-width:254px}.table-column-256[_ngcontent-%COMP%]{min-width:256px}.table-column-258[_ngcontent-%COMP%]{min-width:258px}.table-column-260[_ngcontent-%COMP%]{min-width:260px}.table-column-262[_ngcontent-%COMP%]{min-width:262px}.table-column-264[_ngcontent-%COMP%]{min-width:264px}.table-column-266[_ngcontent-%COMP%]{min-width:266px}.table-column-268[_ngcontent-%COMP%]{min-width:268px}.table-column-270[_ngcontent-%COMP%]{min-width:270px}.table-column-272[_ngcontent-%COMP%]{min-width:272px}.table-column-274[_ngcontent-%COMP%]{min-width:274px}.table-column-276[_ngcontent-%COMP%]{min-width:276px}.table-column-278[_ngcontent-%COMP%]{min-width:278px}.table-column-280[_ngcontent-%COMP%]{min-width:280px}.table-column-282[_ngcontent-%COMP%]{min-width:282px}.table-column-284[_ngcontent-%COMP%]{min-width:284px}.table-column-286[_ngcontent-%COMP%]{min-width:286px}.table-column-288[_ngcontent-%COMP%]{min-width:288px}.table-column-290[_ngcontent-%COMP%]{min-width:290px}.table-column-292[_ngcontent-%COMP%]{min-width:292px}.table-column-294[_ngcontent-%COMP%]{min-width:294px}.table-column-296[_ngcontent-%COMP%]{min-width:296px}.table-column-298[_ngcontent-%COMP%]{min-width:298px}.table-column-300[_ngcontent-%COMP%]{min-width:300px}.table-column-302[_ngcontent-%COMP%]{min-width:302px}.table-column-304[_ngcontent-%COMP%]{min-width:304px}.table-column-306[_ngcontent-%COMP%]{min-width:306px}.table-column-308[_ngcontent-%COMP%]{min-width:308px}.table-column-310[_ngcontent-%COMP%]{min-width:310px}.table-column-312[_ngcontent-%COMP%]{min-width:312px}.table-column-314[_ngcontent-%COMP%]{min-width:314px}.table-column-316[_ngcontent-%COMP%]{min-width:316px}.table-column-318[_ngcontent-%COMP%]{min-width:318px}.table-column-320[_ngcontent-%COMP%]{min-width:320px}.table-column-322[_ngcontent-%COMP%]{min-width:322px}.table-column-324[_ngcontent-%COMP%]{min-width:324px}.table-column-326[_ngcontent-%COMP%]{min-width:326px}.table-column-328[_ngcontent-%COMP%]{min-width:328px}.table-column-330[_ngcontent-%COMP%]{min-width:330px}.table-column-332[_ngcontent-%COMP%]{min-width:332px}.table-column-334[_ngcontent-%COMP%]{min-width:334px}.table-column-336[_ngcontent-%COMP%]{min-width:336px}.table-column-338[_ngcontent-%COMP%]{min-width:338px}.table-column-340[_ngcontent-%COMP%]{min-width:340px}.table-column-342[_ngcontent-%COMP%]{min-width:342px}.table-column-344[_ngcontent-%COMP%]{min-width:344px}.table-column-346[_ngcontent-%COMP%]{min-width:346px}.table-column-348[_ngcontent-%COMP%]{min-width:348px}.table-column-350[_ngcontent-%COMP%]{min-width:350px}.table-column-352[_ngcontent-%COMP%]{min-width:352px}.table-column-354[_ngcontent-%COMP%]{min-width:354px}.table-column-356[_ngcontent-%COMP%]{min-width:356px}.table-column-358[_ngcontent-%COMP%]{min-width:358px}.table-column-360[_ngcontent-%COMP%]{min-width:360px}.table-column-362[_ngcontent-%COMP%]{min-width:362px}.table-column-364[_ngcontent-%COMP%]{min-width:364px}.table-column-366[_ngcontent-%COMP%]{min-width:366px}.table-column-368[_ngcontent-%COMP%]{min-width:368px}.table-column-370[_ngcontent-%COMP%]{min-width:370px}.table-column-372[_ngcontent-%COMP%]{min-width:372px}.table-column-374[_ngcontent-%COMP%]{min-width:374px}.table-column-376[_ngcontent-%COMP%]{min-width:376px}.table-column-378[_ngcontent-%COMP%]{min-width:378px}.table-column-380[_ngcontent-%COMP%]{min-width:380px}.table-column-382[_ngcontent-%COMP%]{min-width:382px}.table-column-384[_ngcontent-%COMP%]{min-width:384px}.table-column-386[_ngcontent-%COMP%]{min-width:386px}.table-column-388[_ngcontent-%COMP%]{min-width:388px}.table-column-390[_ngcontent-%COMP%]{min-width:390px}.table-column-392[_ngcontent-%COMP%]{min-width:392px}.table-column-394[_ngcontent-%COMP%]{min-width:394px}.table-column-396[_ngcontent-%COMP%]{min-width:396px}.table-column-398[_ngcontent-%COMP%]{min-width:398px}.table-column-400[_ngcontent-%COMP%]{min-width:400px}.table-column-402[_ngcontent-%COMP%]{min-width:402px}.table-column-404[_ngcontent-%COMP%]{min-width:404px}.table-column-406[_ngcontent-%COMP%]{min-width:406px}.table-column-408[_ngcontent-%COMP%]{min-width:408px}.table-column-410[_ngcontent-%COMP%]{min-width:410px}.table-column-412[_ngcontent-%COMP%]{min-width:412px}.table-column-414[_ngcontent-%COMP%]{min-width:414px}.table-column-416[_ngcontent-%COMP%]{min-width:416px}.table-column-418[_ngcontent-%COMP%]{min-width:418px}.table-column-420[_ngcontent-%COMP%]{min-width:420px}.table-column-422[_ngcontent-%COMP%]{min-width:422px}.table-column-424[_ngcontent-%COMP%]{min-width:424px}.table-column-426[_ngcontent-%COMP%]{min-width:426px}.table-column-428[_ngcontent-%COMP%]{min-width:428px}.table-column-430[_ngcontent-%COMP%]{min-width:430px}.table-column-432[_ngcontent-%COMP%]{min-width:432px}.table-column-434[_ngcontent-%COMP%]{min-width:434px}.table-column-436[_ngcontent-%COMP%]{min-width:436px}.table-column-438[_ngcontent-%COMP%]{min-width:438px}.table-column-440[_ngcontent-%COMP%]{min-width:440px}.table-column-442[_ngcontent-%COMP%]{min-width:442px}.table-column-444[_ngcontent-%COMP%]{min-width:444px}.table-column-446[_ngcontent-%COMP%]{min-width:446px}.table-column-448[_ngcontent-%COMP%]{min-width:448px}.table-column-450[_ngcontent-%COMP%]{min-width:450px}.table-column-452[_ngcontent-%COMP%]{min-width:452px}.table-column-454[_ngcontent-%COMP%]{min-width:454px}.table-column-456[_ngcontent-%COMP%]{min-width:456px}.table-column-458[_ngcontent-%COMP%]{min-width:458px}.table-column-460[_ngcontent-%COMP%]{min-width:460px}.table-column-462[_ngcontent-%COMP%]{min-width:462px}.table-column-464[_ngcontent-%COMP%]{min-width:464px}.table-column-466[_ngcontent-%COMP%]{min-width:466px}.table-column-468[_ngcontent-%COMP%]{min-width:468px}.table-column-470[_ngcontent-%COMP%]{min-width:470px}.table-column-472[_ngcontent-%COMP%]{min-width:472px}.table-column-474[_ngcontent-%COMP%]{min-width:474px}.table-column-476[_ngcontent-%COMP%]{min-width:476px}.table-column-478[_ngcontent-%COMP%]{min-width:478px}.table-column-480[_ngcontent-%COMP%]{min-width:480px}.table-column-482[_ngcontent-%COMP%]{min-width:482px}.table-column-484[_ngcontent-%COMP%]{min-width:484px}.table-column-486[_ngcontent-%COMP%]{min-width:486px}.table-column-488[_ngcontent-%COMP%]{min-width:488px}.table-column-490[_ngcontent-%COMP%]{min-width:490px}.table-column-492[_ngcontent-%COMP%]{min-width:492px}.table-column-494[_ngcontent-%COMP%]{min-width:494px}.table-column-496[_ngcontent-%COMP%]{min-width:496px}.table-column-498[_ngcontent-%COMP%]{min-width:498px}.table-column-500[_ngcontent-%COMP%]{min-width:500px}.table-column-502[_ngcontent-%COMP%]{min-width:502px}.table-column-504[_ngcontent-%COMP%]{min-width:504px}.table-column-506[_ngcontent-%COMP%]{min-width:506px}.table-column-508[_ngcontent-%COMP%]{min-width:508px}.table-column-510[_ngcontent-%COMP%]{min-width:510px}.table-column-512[_ngcontent-%COMP%]{min-width:512px}.table-column-514[_ngcontent-%COMP%]{min-width:514px}.table-column-516[_ngcontent-%COMP%]{min-width:516px}.table-column-518[_ngcontent-%COMP%]{min-width:518px}.table-column-520[_ngcontent-%COMP%]{min-width:520px}.table-column-522[_ngcontent-%COMP%]{min-width:522px}.table-column-524[_ngcontent-%COMP%]{min-width:524px}.table-column-526[_ngcontent-%COMP%]{min-width:526px}.table-column-528[_ngcontent-%COMP%]{min-width:528px}.table-column-530[_ngcontent-%COMP%]{min-width:530px}.table-column-532[_ngcontent-%COMP%]{min-width:532px}.table-column-534[_ngcontent-%COMP%]{min-width:534px}.table-column-536[_ngcontent-%COMP%]{min-width:536px}.table-column-538[_ngcontent-%COMP%]{min-width:538px}.table-column-540[_ngcontent-%COMP%]{min-width:540px}.table-column-542[_ngcontent-%COMP%]{min-width:542px}.table-column-544[_ngcontent-%COMP%]{min-width:544px}.table-column-546[_ngcontent-%COMP%]{min-width:546px}.table-column-548[_ngcontent-%COMP%]{min-width:548px}.table-column-550[_ngcontent-%COMP%]{min-width:550px}.table-column-552[_ngcontent-%COMP%]{min-width:552px}.table-column-554[_ngcontent-%COMP%]{min-width:554px}.table-column-556[_ngcontent-%COMP%]{min-width:556px}.table-column-558[_ngcontent-%COMP%]{min-width:558px}.table-column-560[_ngcontent-%COMP%]{min-width:560px}.table-column-562[_ngcontent-%COMP%]{min-width:562px}.table-column-564[_ngcontent-%COMP%]{min-width:564px}.table-column-566[_ngcontent-%COMP%]{min-width:566px}.table-column-568[_ngcontent-%COMP%]{min-width:568px}.table-column-570[_ngcontent-%COMP%]{min-width:570px}.table-column-572[_ngcontent-%COMP%]{min-width:572px}.table-column-574[_ngcontent-%COMP%]{min-width:574px}.table-column-576[_ngcontent-%COMP%]{min-width:576px}.table-column-578[_ngcontent-%COMP%]{min-width:578px}.table-column-580[_ngcontent-%COMP%]{min-width:580px}.table-column-582[_ngcontent-%COMP%]{min-width:582px}.table-column-584[_ngcontent-%COMP%]{min-width:584px}.table-column-586[_ngcontent-%COMP%]{min-width:586px}.table-column-588[_ngcontent-%COMP%]{min-width:588px}.table-column-590[_ngcontent-%COMP%]{min-width:590px}.table-column-592[_ngcontent-%COMP%]{min-width:592px}.table-column-594[_ngcontent-%COMP%]{min-width:594px}.table-column-596[_ngcontent-%COMP%]{min-width:596px}.table-column-598[_ngcontent-%COMP%]{min-width:598px}.table-column-600[_ngcontent-%COMP%]{min-width:600px}tr.example-detail-row[_ngcontent-%COMP%]{height:0!important}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.inner-table[_ngcontent-%COMP%]{margin:1em;padding:1em;width:100%!important}"],data:{animation:[(0,_.X$)("detailExpand",[(0,_.SB)("collapsed",(0,_.oB)({height:"0px",minHeight:"0"})),(0,_.SB)("expanded",(0,_.oB)({height:"*"})),(0,_.eR)("expanded <=> collapsed",(0,_.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),e})(),data:{claimType:"POR_VIEW_PO_REQUESTS"},canActivate:[J.a]},{path:":id",component:te,data:{claimType:["POR_ADD_PO_REQUEST","POR_UPDATE_PO_REQUEST"]},canActivate:[J.a],resolve:{units:ct.O,warehouses:st.k,taxs:at._,purchaseorder:ot.Z,products:it.S}}];let Ln=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.Bz.forChild(Un),h.Bz]}),e})(),Sn=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.ez,l.u5,Ln,l.UX,rt.m,et.FA,R.XK,K.c,z.lN,W.Fk,Y.LD,tt.QW,u.p0,v.TU,P.JX,f.Tx,w.Ps,M.ot,Z.Bb,b.Cq,O.Ll,O.x,nt.p9,F.t]}),e})()}}]);
"use strict";(self.webpackChunkposadminportal=self.webpackChunkposadminportal||[]).push([[43],{796:(ot,S,c)=>{c.d(S,{f:()=>C});var m=c(5519);class C extends m.r{constructor(){super(...arguments),this.name="",this.unitId="",this.barcode="",this.categoryId="",this.brandId="",this.id=""}}},43:(ot,S,c)=>{c.r(S),c.d(S,{InquiryModule:()=>Kn});var m=c(9808),C=c(6087),I=c(4847),_=(()=>{return(i=_||(_={}))[i.Reminder=0]="Reminder",i[i.SalesOrder=1]="SalesOrder",i[i.PurchaseOrder=2]="PurchaseOrder",i[i.Inquiry=3]="Inquiry",_;var i})(),z=c(2176),d=c(8527),s=c(3075),p=c(2349),g=c(1490),t=c(5e3),W=c(690),y=c(6107),b=c(226),K=c(1122),x=c(4107),Z=c(508),At=c(7446),u=c(2075),Y=c(8017),q=c(1062);function Ct(i,r){1&i&&(t.TgZ(0,"div",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SUBJECT_IS_REQUIRED")," "))}function Zt(i,r){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Ct,3,3,"div",48),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.reminderForm.get("subject").errors?null:e.reminderForm.get("subject").errors.required)}}function It(i,r){1&i&&(t.TgZ(0,"div",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"MESSAGE_IS_REQUIRED")," "))}function bt(i,r){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,It,3,3,"div",48),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.reminderForm.get("message").errors?null:e.reminderForm.get("message").errors.required)}}function xt(i,r){if(1&i&&(t.TgZ(0,"span",50),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE(" (+",e.reminderForm.get("selectedUsers").value.length-1," ",2===(null==e.reminderForm.get("selectedUsers").value?null:e.reminderForm.get("selectedUsers").value.length)?"other":"others",") ")}}function St(i,r){if(1&i&&(t.TgZ(0,"mat-option",51),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.AsE("",e.firstName," ",e.lastName," ")}}function Nt(i,r){1&i&&(t.TgZ(0,"th",52),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SUBJECT")," "))}function Dt(i,r){if(1&i&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.subject," ")}}function wt(i,r){1&i&&(t.TgZ(0,"th",54),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DATE")," "))}function Ut(i,r){if(1&i&&(t.TgZ(0,"td",55),t._uU(1),t.ALo(2,"utcToLocalTime"),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.duration,"short")," ")}}function Et(i,r){1&i&&(t.TgZ(0,"th",56),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NAME")," "))}function Lt(i,r){if(1&i&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.userName," ")}}function Ft(i,r){1&i&&t._UZ(0,"tr",58)}function kt(i,r){1&i&&t._UZ(0,"tr",59)}function Rt(i,r){1&i&&(t.ynx(0),t.TgZ(1,"div",9)(2,"div",60)(3,"label",61),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.BQk()),2&i&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"NO_DATA_FOUND"),""))}let at=(()=>{class i extends g.H{constructor(e,n,o,a,l){super(o),this.fb=e,this.commonService=n,this.translationService=o,this.dialogRef=a,this.data=l,this.users=[],this.selectedUsers=[],this.reminderSchedulers=[],this.displayedColumns=["subject","createdDate","userName"],this.getLangDir()}ngOnInit(){this.createReminder(),this.getUsers(),this.getReminderSchedulers()}createReminder(){this.reminderForm=this.fb.group({subject:["",[s.kI.required]],message:["",[s.kI.required]],isEmailNotification:[!0],reminderDate:[new Date],selectedUsers:[null]})}buildReminderSchedule(){const e=this.reminderForm.get("selectedUsers").value;return{subject:this.reminderForm.get("subject").value,message:this.reminderForm.get("message").value,isEmailNotification:this.reminderForm.get("isEmailNotification").value,createdDate:this.reminderForm.get("reminderDate").value,userIds:e?e.map(o=>o.id):null,application:this.data.application,referenceId:this.data.referenceId}}getUsers(){this.commonService.getAllUsers().subscribe(e=>{this.users=e})}saveReminder(){if(this.reminderForm.valid){let e=this.buildReminderSchedule();e.userIds||(e.userIds=[]),this.commonService.addReminderSchedule(e).subscribe(n=>{n&&this.dialogRef.close()})}else this.reminderForm.markAllAsTouched()}getReminderSchedulers(){this.commonService.getReminderSchedulers(this.data).subscribe(e=>{this.reminderSchedulers=e})}cancelReminder(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.QS),t.Y36(W.v),t.Y36(y.D),t.Y36(p.so),t.Y36(p.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-reminder-scheduler"]],features:[t.qOj],decls:76,vars:44,consts:[[1,"modal-content1"],[1,"modal-header"],[1,"d-flex","w-100","align-items-center","justify-content-between"],[1,"col-md-8","col"],[1,"modal-title"],[1,"col-sm-auto","ml-auto","col-auto"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"row"],[1,"col-sm-12"],[3,"formGroup"],[1,"form-group","col-md-12"],["for","subject",1,"text-danger"],["formControlName","subject","type","text","id","subject",1,"form-control"],[4,"ngIf"],["for","message",1,"text-danger"],["formControlName","message","id","message","cols","30",1,"form-control"],[1,"form-group","col-md-3"],["for","frequency"],["formControlName","reminderDate","placeholder","End Date",1,"form-control",3,"owlDateTimeTrigger","owlDateTime"],["dt4",""],[1,"col-md-7","form-group"],["formControlName","selectedUsers","multiple","",1,"form-control",3,"dir","placeholder"],[3,"dir"],["class","example-additional-selection",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-2","mt-4"],["color","primary","formControlName","isEmailNotification",3,"dir"],[1,"mt-2","col-md-12"],["type","submit",1,"btn","btn-success","btn-sm","m-right-10",3,"click"],[1,"fas","fa-save"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-times-circle"],[1,"col-sm-12","mt-2"],[1,"table-responsive"],["mat-table","",1,"table","table-bordered","table-hover",3,"dir","dataSource"],["matColumnDef","subject"],["class","table-column-300","mat-header-cell","",4,"matHeaderCellDef"],["class","table-column-300","mat-cell","",4,"matCellDef"],["matColumnDef","createdDate"],["class","table-column-150","mat-header-cell","",4,"matHeaderCellDef"],["class","table-column-150","mat-cell","",4,"matCellDef"],["matColumnDef","userName"],["class","table-column-200","mat-header-cell","",4,"matHeaderCellDef"],["class","table-column-200","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"example-additional-selection"],[3,"value"],["mat-header-cell","",1,"table-column-300"],["mat-cell","",1,"table-column-300"],["mat-header-cell","",1,"table-column-150"],["mat-cell","",1,"table-column-150"],["mat-header-cell","",1,"table-column-200"],["mat-cell","",1,"table-column-200"],["mat-header-row",""],["mat-row",""],[1,"col-sm-12","ml-4","mt-3"],[1,"font-weight-bold"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return n.cancelReminder()}),t._UZ(9,"i",7),t.qZA()()()(),t.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"form",11)(14,"div",9)(15,"div",12)(16,"label",13),t._uU(17),t.ALo(18,"translate"),t.qZA(),t._UZ(19,"input",14),t.YNc(20,Zt,2,1,"div",15),t.qZA()(),t.TgZ(21,"div",9)(22,"div",12)(23,"label",16),t._uU(24),t.ALo(25,"translate"),t.qZA(),t._UZ(26,"textarea",17),t.YNc(27,bt,2,1,"div",15),t.qZA()(),t.TgZ(28,"div",9)(29,"div",18)(30,"label",19),t._uU(31),t.ALo(32,"translate"),t.qZA(),t._UZ(33,"input",20)(34,"owl-date-time",null,21),t.qZA(),t.TgZ(36,"div",22)(37,"label",19),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"mat-select",23),t.ALo(41,"translate"),t.TgZ(42,"mat-select-trigger",24),t._uU(43),t.YNc(44,xt,2,2,"span",25),t.qZA(),t.YNc(45,St,2,3,"mat-option",26),t.qZA()(),t.TgZ(46,"div",27)(47,"mat-checkbox",28),t._uU(48),t.ALo(49,"translate"),t.qZA()()(),t.TgZ(50,"div",9)(51,"div",29)(52,"button",30),t.NdJ("click",function(){return n.saveReminder()}),t._UZ(53,"i",31),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.TgZ(56,"button",32),t.NdJ("click",function(){return n.cancelReminder()}),t._UZ(57,"i",33),t._uU(58),t.ALo(59,"translate"),t.qZA()()()()()(),t.TgZ(60,"div",9)(61,"div",34)(62,"div",35)(63,"table",36),t.ynx(64,37),t.YNc(65,Nt,3,3,"th",38),t.YNc(66,Dt,2,1,"td",39),t.BQk(),t.ynx(67,40),t.YNc(68,wt,3,3,"th",41),t.YNc(69,Ut,3,4,"td",42),t.BQk(),t.ynx(70,43),t.YNc(71,Et,3,3,"th",44),t.YNc(72,Lt,2,1,"td",45),t.BQk(),t.YNc(73,Ft,1,0,"tr",46),t.YNc(74,kt,1,0,"tr",47),t.qZA(),t.YNc(75,Rt,6,3,"ng-container",15),t.qZA()()()()()),2&e){const o=t.MAs(35);t.xp6(5),t.hij(" ",t.lcZ(6,26,"REMINDER")," "),t.xp6(8),t.Q6J("formGroup",n.reminderForm),t.xp6(4),t.hij(" ",t.lcZ(18,28,"SUBJECT")," *"),t.xp6(3),t.Q6J("ngIf",n.reminderForm.get("subject").touched&&n.reminderForm.get("subject").errors),t.xp6(4),t.hij(" ",t.lcZ(25,30,"MESSAGE")," *"),t.xp6(3),t.Q6J("ngIf",n.reminderForm.get("message").touched&&n.reminderForm.get("message").errors),t.xp6(4),t.hij("",t.lcZ(32,32,"REMINDER_DATE")," "),t.xp6(2),t.Q6J("owlDateTimeTrigger",o)("owlDateTime",o),t.xp6(5),t.hij("",t.lcZ(39,34,"SELECT_USERS")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(41,36,"SELECT_USERS")),t.Q6J("dir",n.langDir),t.xp6(2),t.Q6J("dir",n.langDir),t.xp6(1),t.hij(" ",n.reminderForm.get("selectedUsers").value?n.reminderForm.get("selectedUsers").value[0].firstName+" "+n.reminderForm.get("selectedUsers").value[0].lastName:""," "),t.xp6(1),t.Q6J("ngIf",(null==n.reminderForm.get("selectedUsers").value?null:n.reminderForm.get("selectedUsers").value.length)>1),t.xp6(1),t.Q6J("ngForOf",n.users),t.xp6(2),t.Q6J("dir",n.langDir),t.xp6(1),t.hij("",t.lcZ(49,38,"SEND_EMAIL")," "),t.xp6(6),t.hij(" ",t.lcZ(55,40,"SAVE")," "),t.xp6(4),t.hij(" ",t.lcZ(59,42,"CANCEL")," "),t.xp6(5),t.Q6J("dir",n.langDir)("dataSource",n.reminderSchedulers),t.xp6(10),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("ngIf",0===n.reminderSchedulers.length)}},dependencies:[m.sg,m.O5,b.Lv,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,K.sZ,K.BO,K.hV,x.gD,x.$L,Z.ey,At.oG,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,Y.M,q.X$]}),i})();var U=c(8929),Ot=c(6787),E=c(13),L=c(5778),F=c(2868),X=c(591),Mt=c(2654),j=c(1086),Qt=c(7221),tt=c(537);class Yt{constructor(r){this.inquiryService=r,this._inquirySubject$=new X.X([]),this._responseHeaderSubject$=new X.X(null),this.loadingSubject=new X.X(!1),this.loading$=this.loadingSubject.asObservable(),this._count=0,this.responseHeaderSubject$=this._responseHeaderSubject$.asObservable()}get count(){return this._count}connect(){return this.sub$=new Mt.w,this._inquirySubject$.asObservable()}disconnect(){this._inquirySubject$.complete(),this.loadingSubject.complete(),this.sub$.unsubscribe()}loadData(r){this.loadingSubject.next(!0),this.sub$=this.inquiryService.getInquiries(r).pipe((0,Qt.K)(()=>(0,j.of)([])),(0,tt.x)(()=>this.loadingSubject.next(!1))).subscribe(e=>{const n=JSON.parse(e.headers.get("X-Pagination"));this._responseHeaderSubject$.next(n);const o=[...e.body];this._count=o.length,this._inquirySubject$.next(o)})}}var k=c(4614),R=c(773),jt=c(8708);function Jt(i,r){1&i&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NAME")," "))}function Pt(i,r){if(1&i&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function $t(i,r){1&i&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"BRANDS")," "))}function Bt(i,r){if(1&i&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.brandName," ")}}function Ht(i,r){1&i&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"PRODUCT")," "))}function Vt(i,r){if(1&i&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.categoryName," ")}}function Gt(i,r){1&i&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SALES_PRICE")," "))}function zt(i,r){if(1&i&&(t.TgZ(0,"td",24),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.salesPrice?t.lcZ(2,1,e.salesPrice):"--"," ")}}function Wt(i,r){1&i&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PURCHASE_PRICE")," "))}function Kt(i,r){if(1&i&&(t.TgZ(0,"td",24),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.purchasePrice?t.lcZ(2,1,e.purchasePrice):"--"," ")}}function Xt(i,r){1&i&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"MRP")," "))}function te(i,r){if(1&i&&(t.TgZ(0,"td",24),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.mrp?t.lcZ(2,1,e.mrp):"--"," ")}}function ee(i,r){1&i&&t._UZ(0,"tr",25)}function ie(i,r){1&i&&t._UZ(0,"tr",26)}function ne(i,r){1&i&&t._UZ(0,"mat-spinner")}function re(i,r){if(1&i&&(t.TgZ(0,"div",27),t.YNc(1,ne,1,0,"mat-spinner",28),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isLoading)}}let oe=(()=>{class i extends g.H{constructor(e,n,o,a,l){super(a),this.inquiryService=e,this.dialogRef=n,this.data=o,this.translationService=a,this.dialog=l,this.products=[],this.isLoading=!1,this.displayedColumns=["name","brand","category","salesPrice","purchasePrice","mrp"],this.getLangDir()}ngOnInit(){this.data&&this.getProductsList()}getProductsList(){this.isLoading=!0,this.sub$.sink=this.inquiryService.getProductsByInquiryId(this.data.id).subscribe(e=>{this.products=e,this.isLoading=!1},()=>{this.isLoading=!1})}closeDialog(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(k.r),t.Y36(p.so),t.Y36(p.WI),t.Y36(y.D),t.Y36(p.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-inquiry-product-list"]],features:[t.qOj],decls:35,vars:9,consts:[[1,"modal-content1"],[1,"modal-header"],[1,"d-flex","w-100","align-items-center","justify-content-between"],[1,"col-md-8"],[1,"modal-title"],[1,"col-sm-auto","ml-auto"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"table-responsive"],[1,"table","table-bordered","table-hover"],["mat-table","",1,"mat-elevation-z8","table",3,"dir","dataSource"],["matColumnDef","name"],["class","table-column-200","mat-header-cell","",4,"matHeaderCellDef"],["class","table-column-200","mat-cell","",4,"matCellDef"],["matColumnDef","brand"],["matColumnDef","category"],["matColumnDef","salesPrice"],["matColumnDef","purchasePrice"],["matColumnDef","mrp"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","loading-shade",4,"ngIf"],["mat-header-cell","",1,"table-column-200"],["mat-cell","",1,"table-column-200"],["mat-header-row",""],["mat-row",""],[1,"loading-shade"],[4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return n.closeDialog()}),t._UZ(9,"i",7),t.qZA()()()(),t.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"table",11),t.ynx(14,12),t.YNc(15,Jt,3,3,"th",13),t.YNc(16,Pt,2,1,"td",14),t.BQk(),t.ynx(17,15),t.YNc(18,$t,3,3,"th",13),t.YNc(19,Bt,2,1,"td",14),t.BQk(),t.ynx(20,16),t.YNc(21,Ht,3,3,"th",13),t.YNc(22,Vt,2,1,"td",14),t.BQk(),t.ynx(23,17),t.YNc(24,Gt,3,3,"th",13),t.YNc(25,zt,3,3,"td",14),t.BQk(),t.ynx(26,18),t.YNc(27,Wt,3,3,"th",13),t.YNc(28,Kt,3,3,"td",14),t.BQk(),t.ynx(29,19),t.YNc(30,Xt,3,3,"th",13),t.YNc(31,te,3,3,"td",14),t.BQk(),t.YNc(32,ee,1,0,"tr",20),t.YNc(33,ie,1,0,"tr",21),t.qZA()()()()(),t.YNc(34,re,2,1,"div",22)),2&e&&(t.xp6(5),t.hij(" ",t.lcZ(6,7,"PRODUCT_LIST")," "),t.xp6(8),t.Q6J("dir",n.langDir)("dataSource",n.products),t.xp6(19),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("ngIf",n.isLoading))},dependencies:[m.O5,b.Lv,R.Ou,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,jt.R,q.X$]}),i})();var N=c(2290),J=c(5485),T=c(2554),P=c(1584),et=c(4061),it=c(2539),st=c(9785),$=c(2181),ct=c(5245),ut=c(7423);const ae=function(){return["/inquiry/add"]};function se(i,r){1&i&&(t.TgZ(0,"div",50)(1,"button",51),t._UZ(2,"i",52),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("routerLink",t.DdM(4,ae)),t.xp6(2),t.hij(" ",t.lcZ(4,2,"ADD_INQUIRY")," "))}function ce(i,r){1&i&&(t.TgZ(0,"div",53),t._UZ(1,"mat-spinner"),t.qZA())}function ue(i,r){1&i&&t._UZ(0,"th",54)}function le(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.editInquiry(o.id))}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&i&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"EDIT")))}function de(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.deleteInquiry(o))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&i&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"DELETE")))}function me(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.addReminder(o.id))}),t.TgZ(1,"mat-icon"),t._uU(2,"add_alert"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&i&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"REMINDER")))}function pe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"td",55)(1,"button",56)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,57)(6,"button",58),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.viewProduct(a))}),t.TgZ(7,"mat-icon"),t._uU(8,"format_list_bulleted"),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.YNc(12,le,6,3,"button",59),t.YNc(13,de,6,3,"button",59),t.YNc(14,me,6,3,"button",59),t.qZA()()}if(2&i){const e=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(9),t.Oqu(t.lcZ(11,5,"VIEW_PRODUCT")),t.xp6(2),t.Q6J("hasClaim","INQ_UPDATE_INQUIRY"),t.xp6(1),t.Q6J("hasClaim","INQ_DELETE_INQUIRY"),t.xp6(1),t.Q6J("hasClaim","INQ_MANAGE_REMINDERS")}}function he(i,r){1&i&&(t.TgZ(0,"th",60),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DATE")," "))}function _e(i,r){if(1&i&&(t.TgZ(0,"td",61),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.createdDate,"dd/MM/yyyy hh:mm:ss")," ")}}function fe(i,r){1&i&&(t.TgZ(0,"th",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"COMPANY_NAME")," "))}function ge(i,r){if(1&i&&(t.TgZ(0,"td",63),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.companyName," ")}}function ye(i,r){1&i&&(t.TgZ(0,"th",64),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"STATUS")," "))}function qe(i,r){if(1&i&&(t.TgZ(0,"td",65),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.inquiryStatus," ")}}function ve(i,r){1&i&&(t.TgZ(0,"th",64),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SOURCE")," "))}function Te(i,r){if(1&i&&(t.TgZ(0,"td",65),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.inquirySource," ")}}function Ae(i,r){1&i&&(t.TgZ(0,"th",64),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ASSIGN_TO")," "))}function Ce(i,r){if(1&i&&(t.TgZ(0,"td",65),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.assignToName," ")}}function Ze(i,r){1&i&&(t.TgZ(0,"th",60),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"EMAIL")," "))}function Ie(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"a",67),t._uU(2),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.MGl("href","mailto:",e.email,"",t.LSH),t.xp6(1),t.Oqu(e.email)}}function be(i,r){if(1&i&&(t.TgZ(0,"td",61),t.YNc(1,Ie,3,2,"ng-container",66),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",e.email)}}function xe(i,r){1&i&&(t.TgZ(0,"th",64),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"MOBILE")," "))}function Se(i,r){if(1&i&&(t.TgZ(0,"td",65),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.mobileNo," ")}}function Ne(i,r){1&i&&(t.TgZ(0,"th",64),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CITY")," "))}function De(i,r){if(1&i&&(t.TgZ(0,"td",65),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.cityName," ")}}function we(i,r){1&i&&(t.TgZ(0,"th",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL_TASKS")," "))}function Ue(i,r){if(1&i&&(t.TgZ(0,"td",65),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.inquiryActivityCount," ")}}function Ee(i,r){1&i&&(t.TgZ(0,"th",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL_COMMENTS")," "))}function Le(i,r){if(1&i&&(t.TgZ(0,"td",65),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.inquiryNoteCount," ")}}function Fe(i,r){1&i&&(t.TgZ(0,"th",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL_ATTACHMENTS")," "))}function ke(i,r){if(1&i&&(t.TgZ(0,"td",65),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.inquiryAttachmentCount," ")}}function Re(i,r){1&i&&t._UZ(0,"th",69)}function Oe(i,r){1&i&&t._UZ(0,"th",69)}function Me(i,r){if(1&i&&(t.TgZ(0,"mat-option",71),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Qe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"th",69)(1,"mat-select",70),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.StatusToFilter=o)}),t.ALo(2,"translate"),t.TgZ(3,"mat-option",71),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.YNc(6,Me,2,2,"mat-option",72),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.s9C("placeholder",t.lcZ(2,5,"STATUS")),t.Q6J("dir",e.langDir)("ngModel",e.StatusToFilter),t.xp6(3),t.Oqu(t.lcZ(5,7,"NONE")),t.xp6(2),t.Q6J("ngForOf",e.inquiryStatuses)}}function Ye(i,r){if(1&i&&(t.TgZ(0,"mat-option",71),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function je(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"th",69)(1,"mat-select",73),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.SourceFilter=o)}),t.ALo(2,"translate"),t.TgZ(3,"mat-option"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.YNc(6,Ye,2,2,"mat-option",72),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.s9C("placeholder",t.lcZ(2,5,"SOURCE")),t.Q6J("dir",e.langDir)("ngModel",e.SourceFilter),t.xp6(3),t.Oqu(t.lcZ(5,7,"NONE")),t.xp6(2),t.Q6J("ngForOf",e.sourcesOfInquiry)}}function Je(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"th",69)(1,"input",74),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.CompanyNameFilter=o)}),t.ALo(2,"translate"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"COMPANY_NAME")),t.Q6J("ngModel",e.CompanyNameFilter)}}function Pe(i,r){if(1&i&&(t.TgZ(0,"mat-option",71),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE(" ",e.firstName," ",e.lastName," ")}}function $e(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"th",69)(1,"mat-select",75),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.AssignToFilter=o)}),t.ALo(2,"translate"),t.TgZ(3,"mat-option",71),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.YNc(6,Pe,2,3,"mat-option",72),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.s9C("placeholder",t.lcZ(2,5,"ASSIGN_TO")),t.Q6J("dir",e.langDir)("ngModel",e.AssignToFilter),t.xp6(3),t.Oqu(t.lcZ(5,7,"NONE")),t.xp6(2),t.Q6J("ngForOf",e.users)}}function Be(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"th",69)(1,"input",74),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.EmailFilter=o)}),t.ALo(2,"translate"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"EMAIL")),t.Q6J("ngModel",e.EmailFilter)}}function He(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"th",69)(1,"input",74),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.MobileNoFilter=o)}),t.ALo(2,"translate"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"MOBILE")),t.Q6J("ngModel",e.MobileNoFilter)}}function Ve(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"th",69)(1,"input",74),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.CityFilter=o)}),t.ALo(2,"translate"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"CITY")),t.Q6J("ngModel",e.CityFilter)}}function Ge(i,r){1&i&&t._UZ(0,"th",69)}function ze(i,r){1&i&&t._UZ(0,"th",69)}function We(i,r){1&i&&t._UZ(0,"th",69)}const Ke=function(){return[15,20,30]};function Xe(i,r){if(1&i&&(t.TgZ(0,"td",76),t._UZ(1,"mat-paginator",77),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("length",e.inquiryResource.totalCount)("pageSize",e.inquiryResource.pageSize)("pageSizeOptions",t.DdM(3,Ke))}}function ti(i,r){1&i&&(t.TgZ(0,"tr")(1,"td",78)(2,"span",79)(3,"b"),t._uU(4),t.ALo(5,"translate"),t.qZA()()()()),2&i&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"NO_DATA_FOUND"),""))}function ei(i,r){1&i&&t._UZ(0,"tr",80)}function ii(i,r){1&i&&t._UZ(0,"tr",81)}function ni(i,r){1&i&&t._UZ(0,"tr",80)}function ri(i,r){1&i&&t._UZ(0,"tr",82)}const oi=function(){return["action-search","date-search","name-search","status-search","source-search","assign-search","email-search","mobile-search","city-search","note-search","task-search","attachment-search"]};let ai=(()=>{class i extends g.H{constructor(e,n,o,a,l,f,v,w,h){super(l),this.inquiryService=e,this.toastrService=n,this.commonDialogService=o,this.router=a,this.translationService=l,this.dialog=f,this.userService=v,this.inquiryStatusService=w,this.inquirySourceService=h,this.inquiries=[],this.displayedColumns=["action","createdDate","companyName","status","source","assignTo","email","mobileNo","cityName","taskCount","commentCount","attachmentCount"],this.footerToDisplayed=["footer"],this.isLoadingResults=!0,this.inquiryStatuses=[],this.users=[],this.sourcesOfInquiry=[],this.filterObservable$=new U.xQ,this.getLangDir(),this.inquiryResource=new z.q,this.inquiryResource.pageSize=15,this.inquiryResource.orderBy="createdDate asc",this.userResource=new d.q,this.userResource.pageSize=10,this.userResource.orderBy="firstName desc"}get CompanyNameFilter(){return this._companyNameFilter}set CompanyNameFilter(e){this._companyNameFilter=e,this.filterObservable$.next(`companyName:${e}`)}get SourceFilter(){return this._sourceToFilter}set SourceFilter(e){this._sourceToFilter=e||"",this.filterObservable$.next(`Source:${this._sourceToFilter}`)}set StatusToFilter(e){this._statusToFilter=e||"",this.filterObservable$.next(`Status:${this._statusToFilter}`)}get StatusToFilter(){return this._statusToFilter}set AssignToFilter(e){this._assignToFilter=e||"",this.filterObservable$.next(`AssignTo:${this._assignToFilter}`)}get AssignToFilter(){return this._assignToFilter}get EmailFilter(){return this._emailFilter}set EmailFilter(e){this._emailFilter=e,this.filterObservable$.next(`email:${e}`)}get MobileNoFilter(){return this._mobileNoFilter}set MobileNoFilter(e){this._mobileNoFilter=e,this.filterObservable$.next(`mobileNo:${e}`)}get CityFilter(){return this._cityFilter}set CityFilter(e){this._cityFilter=e,this.filterObservable$.next(`cityName:${e}`)}ngOnInit(){this.dataSource=new Yt(this.inquiryService),this.dataSource.loadData(this.inquiryResource),this.getResourceParameter(),this.getInuiriesStatus(),this.getInquirySource(),this.getUsers(),this.sub$.sink=this.filterObservable$.pipe((0,E.b)(1e3),(0,L.x)()).subscribe(e=>{this.inquiryResource.skip=0,this.paginator.pageIndex=0;const n=e.split(":");"companyName"===n[0]?this.inquiryResource.companyName=escape(n[1]):"email"===n[0]?this.inquiryResource.email=n[1]:"mobileNo"===n[0]?this.inquiryResource.mobileNo=n[1]:"cityName"===n[0]?this.inquiryResource.city=n[1]:"AssignTo"===n[0]?this.inquiryResource.assignTo=n[1]:"Source"===n[0]?this.inquiryResource.inquirySourceId=n[1]:"Status"===n[0]&&(this.inquiryResource.inquiryStatusId=n[1]),this.dataSource.loadData(this.inquiryResource)})}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.sub$.sink=(0,Ot.T)(this.sort.sortChange,this.paginator.page).pipe((0,F.b)(e=>{this.inquiryResource.skip=this.paginator.pageIndex*this.paginator.pageSize,this.inquiryResource.pageSize=this.paginator.pageSize,this.inquiryResource.orderBy=this.sort.active+" "+this.sort.direction,this.dataSource.loadData(this.inquiryResource)})).subscribe()}getUsers(){this.sub$.sink=this.userService.getUsers(this.userResource).subscribe(e=>{this.users=e.body})}getInuiriesStatus(){this.sub$.sink=this.inquiryStatusService.getAll().subscribe(e=>{this.inquiryStatuses=e})}getInquirySource(){this.inquirySourceService.getAll().subscribe(e=>this.sourcesOfInquiry=e)}deleteInquiry(e){this.sub$.sink=this.commonDialogService.deleteConformationDialog(`${this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")}?`).subscribe(n=>{n&&(this.sub$.sink=this.inquiryService.deleteInquiry(e.id).subscribe(()=>{this.toastrService.success(this.translationService.getValue("INQUIRY_DELETED_SUCCESSFULLY")),this.paginator.pageIndex=0,this.dataSource.loadData(this.inquiryResource)}))})}getResourceParameter(){this.sub$.sink=this.dataSource.responseHeaderSubject$.subscribe(e=>{e&&(this.inquiryResource.pageSize=e.pageSize,this.inquiryResource.skip=e.skip,this.inquiryResource.totalCount=e.totalCount)})}addReminder(e){this.dialog.open(at,{minWidth:"800px",direction:this.langDir,data:Object.assign({},{application:_.Inquiry,referenceId:e})})}editInquiry(e){this.router.navigate(["/inquiry/manage",e])}viewProduct(e){this.dialog.open(oe,{minWidth:"800px",direction:this.langDir,data:Object.assign({},e)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(k.r),t.Y36(N._W),t.Y36(J.V),t.Y36(T.F0),t.Y36(y.D),t.Y36(p.uw),t.Y36(P.K),t.Y36(et.o),t.Y36(it.z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-inquiry-list"]],viewQuery:function(e,n){if(1&e&&(t.Gf(C.NW,5),t.Gf(I.YE,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.paginator=o.first),t.iGM(o=t.CRH())&&(n.sort=o.first)}},features:[t.qOj],decls:81,vars:14,consts:[[1,"page-header-main"],[1,"row","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto","col"],[1,"content-header"],["class","col-md-auto col-sm-auto col-auto",4,"hasClaim"],[1,"row"],[1,"col-sm-12"],["class","loading-shade",4,"ngIf"],[1,"table-responsive"],["mat-table","","matSort","","matSortActive","createdDate","matSortDirection","desc",1,"table","table-bordered","table-hover",3,"dir","dataSource"],["matColumnDef","action","sticky",""],["mat-header-cell","","class","table-column-50",4,"matHeaderCellDef"],["mat-cell","","class","table-column-50",4,"matCellDef"],["matColumnDef","createdDate","sticky",""],["mat-header-cell","","mat-sort-header","","class","table-column-200",4,"matHeaderCellDef"],["mat-cell","","class","table-column-200",4,"matCellDef"],["matColumnDef","companyName"],["mat-header-cell","","mat-sort-header","","class","table-column-200 pl-3",4,"matHeaderCellDef"],["mat-cell","","class","table-column-200 pl-3",4,"matCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","","class","table-column-150",4,"matHeaderCellDef"],["mat-cell","","class","table-column-150",4,"matCellDef"],["matColumnDef","source"],["matColumnDef","assignTo"],["matColumnDef","email"],["matColumnDef","mobileNo"],["matColumnDef","cityName"],["matColumnDef","taskCount"],["mat-header-cell","","class","table-column-150",4,"matHeaderCellDef"],["matColumnDef","commentCount"],["matColumnDef","attachmentCount"],["matColumnDef","action-search","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","date-search","sticky",""],["matColumnDef","status-search"],["matColumnDef","source-search"],["matColumnDef","name-search"],["matColumnDef","assign-search"],["matColumnDef","email-search"],["matColumnDef","mobile-search"],["matColumnDef","city-search"],["matColumnDef","note-search"],["matColumnDef","task-search"],["matColumnDef","attachment-search"],["matColumnDef","footer"],["mat-footer-cell","","colspan","12",4,"matFooterCellDef"],[4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],[1,"col-md-auto","col-sm-auto","col-auto"],[1,"btn","blue-btn","btn-sm","m-right-10",3,"routerLink"],[1,"fas","fa-plus"],[1,"loading-shade"],["mat-header-cell","",1,"table-column-50"],["mat-cell","",1,"table-column-50"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"hasClaim"],["mat-header-cell","","mat-sort-header","",1,"table-column-200"],["mat-cell","",1,"table-column-200"],["mat-header-cell","","mat-sort-header","",1,"table-column-200","pl-3"],["mat-cell","",1,"table-column-200","pl-3"],["mat-header-cell","","mat-sort-header","",1,"table-column-150"],["mat-cell","",1,"table-column-150"],[4,"ngIf"],[3,"href"],["mat-header-cell","",1,"table-column-150"],["mat-header-cell",""],[1,"form-control",3,"dir","placeholder","ngModel","ngModelChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","w-90",3,"dir","placeholder","ngModel","ngModelChange"],["type","text",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"form-control","w-90",3,"dir","ngModel","placeholder","ngModelChange"],["mat-footer-cell","","colspan","12"],[1,"float-left",3,"length","pageSize","pageSizeOptions"],["colspan","9"],[1,"p-4","mt-4"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.YNc(7,se,5,5,"div",4),t.qZA()(),t.TgZ(8,"div",5)(9,"div",6),t.YNc(10,ce,2,0,"div",7),t.ALo(11,"async"),t.TgZ(12,"div",8)(13,"table",9),t.ynx(14,10),t.YNc(15,ue,1,0,"th",11),t.YNc(16,pe,15,7,"td",12),t.BQk(),t.ynx(17,13),t.YNc(18,he,3,3,"th",14),t.YNc(19,_e,3,4,"td",15),t.BQk(),t.ynx(20,16),t.YNc(21,fe,3,3,"th",17),t.YNc(22,ge,2,1,"td",18),t.BQk(),t.ynx(23,19),t.YNc(24,ye,3,3,"th",20),t.YNc(25,qe,2,1,"td",21),t.BQk(),t.ynx(26,22),t.YNc(27,ve,3,3,"th",20),t.YNc(28,Te,2,1,"td",21),t.BQk(),t.ynx(29,23),t.YNc(30,Ae,3,3,"th",20),t.YNc(31,Ce,2,1,"td",21),t.BQk(),t.ynx(32,24),t.YNc(33,Ze,3,3,"th",14),t.YNc(34,be,2,1,"td",15),t.BQk(),t.ynx(35,25),t.YNc(36,xe,3,3,"th",20),t.YNc(37,Se,2,1,"td",21),t.BQk(),t.ynx(38,26),t.YNc(39,Ne,3,3,"th",20),t.YNc(40,De,2,1,"td",21),t.BQk(),t.ynx(41,27),t.YNc(42,we,3,3,"th",28),t.YNc(43,Ue,2,1,"td",21),t.BQk(),t.ynx(44,29),t.YNc(45,Ee,3,3,"th",28),t.YNc(46,Le,2,1,"td",21),t.BQk(),t.ynx(47,30),t.YNc(48,Fe,3,3,"th",28),t.YNc(49,ke,2,1,"td",21),t.BQk(),t.ynx(50,31),t.YNc(51,Re,1,0,"th",32),t.BQk(),t.ynx(52,33),t.YNc(53,Oe,1,0,"th",32),t.BQk(),t.ynx(54,34),t.YNc(55,Qe,7,9,"th",32),t.BQk(),t.ynx(56,35),t.YNc(57,je,7,9,"th",32),t.BQk(),t.ynx(58,36),t.YNc(59,Je,3,4,"th",32),t.BQk(),t.ynx(60,37),t.YNc(61,$e,7,9,"th",32),t.BQk(),t.ynx(62,38),t.YNc(63,Be,3,4,"th",32),t.BQk(),t.ynx(64,39),t.YNc(65,He,3,4,"th",32),t.BQk(),t.ynx(66,40),t.YNc(67,Ve,3,4,"th",32),t.BQk(),t.ynx(68,41),t.YNc(69,Ge,1,0,"th",32),t.BQk(),t.ynx(70,42),t.YNc(71,ze,1,0,"th",32),t.BQk(),t.ynx(72,43),t.YNc(73,We,1,0,"th",32),t.BQk(),t.ynx(74,44),t.YNc(75,Xe,2,4,"td",45),t.BQk(),t.YNc(76,ti,6,3,"tr",46),t.YNc(77,ei,1,0,"tr",47),t.YNc(78,ii,1,0,"tr",48),t.YNc(79,ni,1,0,"tr",47),t.YNc(80,ri,1,0,"tr",49),t.qZA()()()()),2&e&&(t.xp6(5),t.Oqu(t.lcZ(6,9,"INQUIRY_LIST")),t.xp6(2),t.Q6J("hasClaim","INQ_ADD_INQUIRY"),t.xp6(3),t.Q6J("ngIf",t.lcZ(11,11,n.dataSource.loading$)),t.xp6(3),t.Q6J("dir",n.langDir)("dataSource",n.dataSource),t.xp6(64),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("matHeaderRowDef",t.DdM(13,oi)),t.xp6(1),t.Q6J("matFooterRowDef",n.footerToDisplayed))},dependencies:[m.sg,m.O5,st.d,b.Lv,s.Fj,s.JJ,s.On,T.rH,Z.ey,R.Ou,x.gD,C.NW,I.YE,I.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.mD,u.Ke,u.ge,u.ev,u.yh,u.XQ,u.Gk,u.Q2,u.Ee,$.VK,$.OP,$.p6,ct.Hw,ut.lW,m.Ov,m.uU,q.X$]}),i})();var lt=c(796),dt=c(7757);function mt(i){const r=new RegExp("^(http://www.|https://www.|http://|https://)?[a-z0-9]+([-.]{1}[a-z0-9]+)*.[a-z]{2,5}(:[0-9]{1,5})?(/.*)?$"),e=i.value;return!r.test(e)&&i.dirty&&""!==e?{valid_url:!0}:null}var B=c(7545),pt=c(5528),D=c(7322),O=c(1079),M=c(2140),nt=c(9618),ht=c(4834);function si(i,r){1&i&&t._UZ(0,"mat-spinner")}function ci(i,r){if(1&i&&(t.TgZ(0,"div",46),t.YNc(1,si,1,0,"mat-spinner",14),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isLoading)}}function ui(i,r){if(1&i&&(t.TgZ(0,"mat-option",47),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function li(i,r){1&i&&(t.TgZ(0,"mat-option",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NO_RECORDS")," "))}function di(i,r){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"SELECTED_PRODUCTS"),":"))}function mi(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip"),t.ynx(1,48),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"i",49),t.NdJ("click",function(){const a=t.CHM(e).index,l=t.oxw();return t.KtG(l.removeProduct(a))}),t._uU(5," clear "),t.qZA(),t.BQk(),t.qZA()}if(2&i){const e=r.$implicit,n=r.index;t.xp6(1),t.Q6J("formGroupName",n),t.xp6(2),t.Oqu(e.get("name").value)}}function pi(i,r){if(1&i&&(t.TgZ(0,"mat-option",47),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function hi(i,r){1&i&&(t.TgZ(0,"div",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PLEASE_SELECT_INQUIRY_STATUS")," "))}function _i(i,r){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,hi,3,3,"div",29),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.inquiryForm.get("inquiryStatusId").errors?null:e.inquiryForm.get("inquiryStatusId").errors.required)}}function fi(i,r){if(1&i&&(t.TgZ(0,"mat-option",47),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE(" ",e.firstName," ",e.lastName," ")}}function gi(i,r){1&i&&(t.TgZ(0,"div",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PLEASE_ENTER_ORGANIZATION")," "))}function yi(i,r){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,gi,3,3,"div",29),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.inquiryForm.get("companyName").errors?null:e.inquiryForm.get("companyName").errors.required)}}function qi(i,r){1&i&&(t.TgZ(0,"div",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CONTACT_PERSON_NAME_IS_REQUIRED")," "))}function vi(i,r){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,qi,3,3,"div",29),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.inquiryForm.get("contactPerson").errors?null:e.inquiryForm.get("contactPerson").errors.required)}}function Ti(i,r){1&i&&(t.TgZ(0,"div",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PLEASE_ENTER_VALID_EMAIL")," "))}function Ai(i,r){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Ti,3,3,"div",29),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.inquiryForm.get("email").errors?null:e.inquiryForm.get("email").errors.email)}}function Ci(i,r){1&i&&(t.TgZ(0,"div",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"EITHER_EMAIL_OR_MOBILE_NUMBER_IS_REQUIRED")," "))}function Zi(i,r){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Ci,3,3,"div",29),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.inquiryForm.errors?null:e.inquiryForm.errors.mobileoremail)}}function Ii(i,r){1&i&&(t.TgZ(0,"div",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PLEASE_ENTER_CORRECT_URL_OF_WEBSITE")," "))}function bi(i,r){if(1&i&&(t.TgZ(0,"mat-option",47),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.countryName),t.xp6(1),t.hij(" ",e.countryName," ")}}function xi(i,r){if(1&i&&(t.TgZ(0,"mat-option",47)(1,"span"),t._uU(2),t.qZA()()),2&i){const e=r.$implicit;t.Q6J("value",e.cityName),t.xp6(2),t.Oqu(e.cityName)}}function Si(i,r){if(1&i&&(t.TgZ(0,"mat-option",47),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Ni(i,r){if(1&i&&(t.TgZ(0,"mat-error",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const e=t.oxw();t.Q6J("dir",e.langDir),t.xp6(1),t.hij(" ",t.lcZ(2,2,"SOURCE_OF_INQUIRY_IS_REQUIRED")," ")}}let wi=(()=>{class i extends g.H{constructor(e,n,o,a,l,f,v,w,h,Q,G){super(h),this.fb=e,this.inquiryService=n,this.commonService=o,this.router=a,this.route=l,this.toastrService=f,this.productService=v,this.userService=w,this.translationService=h,this.inquiryStatusService=Q,this.inquirySourceService=G,this.products=[],this.countries=[],this.cities=[],this.isLoading=!1,this.filterObservable$=new U.xQ,this.filterCityObservable$=new U.xQ,this.editorConfig=dt.O,this.inquiryStatuses=[],this.users=[],this.sourcesOfInquiry=[],this.getLangDir(),this.userResource=new d.q,this.userResource.pageSize=10,this.userResource.orderBy="firstName desc",this.productResource=new lt.f}get inquieryProductArray(){return this.inquiryForm.get("inquiryProducts")}ngOnInit(){this.createInquiryForm(),this.getCountry(),this.getCityByName(),this.getInuiriesStatus(),this.getInquirySource(),this.getUsers(),this.getDefaultProducts(),this.inquiry=null,this.inquiryForm.get("productNameInput").valueChanges.pipe((0,E.b)(500),(0,L.x)(),(0,B.w)(e=>(this.productResource.name=null!=e?e:"",this.productService.getProducts(this.productResource)))).subscribe(e=>{e&&e.headers&&(this.products=[...e.body])},e=>{})}getDefaultProducts(){this.productResource.name="",this.productService.getProducts(this.productResource).subscribe(e=>{this.products=[...e.body]})}getUsers(){this.sub$.sink=this.userService.getUsers(this.userResource).subscribe(e=>{this.users=e.body})}getCityByName(){this.sub$.sink=this.filterCityObservable$.pipe((0,E.b)(1e3),(0,F.b)(()=>this.isLoading=!0),(0,L.x)(),(0,B.w)(e=>{if(e){var n=e.split(":");return this.commonService.getCityByName(n[0],n[1]).pipe((0,F.b)(()=>{this.isLoading=!1}))}return(0,j.of)(null)}),(0,tt.x)(()=>{this.isLoading=!1})).subscribe(e=>{this.cities=[...e],this.isLoading=!1},e=>this.isLoading=!1)}patchInquiry(){this.inquiryForm.patchValue({companyName:this.inquiry.companyName,contactPerson:this.inquiry.contactPerson,email:this.inquiry.email,mobileNo:this.inquiry.mobileNo,phoneNo:this.inquiry.phone,description:this.inquiry.description,website:this.inquiry.website,address:this.inquiry.address,cityName:this.inquiry.cityName,countryName:this.inquiry.countryName,inquiryProducts:this.inquiry.inquiryProducts,message:this.inquiry.message,inquirySourceId:this.inquiry.inquirySourceId,assignTo:this.inquiry.assignTo,inquiryStatusId:this.inquiry.inquiryStatusId}),this.inquiry.countryName&&this.inquiry.cityName&&this.filterCityObservable$.next(this.inquiry.countryName+":"+this.inquiry.cityName)}createInquiryForm(){this.inquiryForm=this.fb.group({id:[""],productNameInput:[""],productId:[""],inquiryProducts:this.fb.array([]),companyName:["",[s.kI.required,s.kI.maxLength(500)]],contactPerson:["",s.kI.required],email:["",[s.kI.email]],mobileNo:[""],phoneNo:[""],website:["",[mt]],address:[""],cityName:[""],countryName:[""],message:[""],inquirySourceId:["",[s.kI.required]],inquiryStatusId:[null,[s.kI.required]],assignTo:[null]},{validators:[i=>{const r=i.get("email").value,e=i.get("mobileNo").value;return r||e?null:{mobileoremail:!0}}]})}getCountry(){this.sub$.sink=this.commonService.getCountry().subscribe(e=>{this.countries=e})}getInuiriesStatus(){this.sub$.sink=this.inquiryStatusService.getAll().subscribe(e=>{this.inquiryStatuses=e})}getInquirySource(){this.inquirySourceService.getAll().subscribe(e=>this.sourcesOfInquiry=e)}handleFilterCity(e){e=this.inquiryForm.get("cityName").value;const n=this.inquiryForm.get("countryName").value;e&&n&&this.filterCityObservable$.next(n+":"+e)}onCountryChange(e){this.inquiryForm.patchValue({cityName:""}),e?this.filterCityObservable$.next(e+":"):this.cities=[]}onInquiryList(){this.router.navigate(["/inquiry"])}onInquirySubmit(){if(0!=this.inquieryProductArray.length)if(this.inquiryForm.valid){this.isLoading=!0;const e=this.createBuildForm();this.sub$.sink=this.inquiry?this.inquiryService.updateInquiry(this.inquiry.id,e).subscribe(n=>{this.toastrService.success(this.translationService.getValue("INQUIRY_UPDATE_SUCCESSFULLY")),this.router.navigate(["/inquiry"])},()=>{this.isLoading=!1}):this.inquiryService.saveInquiry(e).subscribe(n=>{this.isLoading=!1,this.toastrService.success(this.translationService.getValue("INQUIRY_SAVE_SUCCESSFULLY")),this.router.navigate(["/inquiry"])},()=>{this.isLoading=!1})}else this.inquiryForm.markAllAsTouched();else this.toastrService.error(this.translationService.getValue("PLEASE_SELECT_ATLEST_ONE_PRODUCT."))}markFormGroupTouched(e){Object.values(e.controls).forEach(n=>{n.markAsTouched(),n.controls&&this.markFormGroupTouched(n)})}createBuildForm(){return{id:this.inquiry?this.inquiry.id:null,companyName:this.inquiryForm.get("companyName").value,contactPerson:this.inquiryForm.get("contactPerson").value,email:this.inquiryForm.get("email").value,mobileNo:this.inquiryForm.get("mobileNo").value,phone:this.inquiryForm.get("phoneNo").value,website:this.inquiryForm.get("website").value,message:this.inquiryForm.get("message").value,countryName:this.inquiryForm.get("countryName").value,cityName:this.inquiryForm.get("cityName").value,address:this.inquiryForm.get("address").value,inquiryProducts:this.inquiryForm.get("inquiryProducts").value,inquirySourceId:this.inquiryForm.get("inquirySourceId").value,inquiryStatusId:this.inquiryForm.get("inquiryStatusId").value,assignTo:this.inquiryForm.get("assignTo").value}}editInquiryProduct(e){return this.fb.group({productId:[e.productId],name:[e.name],inquiryId:[e.inquiryId]})}pushValuesInquiryProduct(){this.inquiry.inquiryProducts&&this.inquiry.inquiryProducts.length>0&&this.inquiry.inquiryProducts.map(e=>{this.inquieryProductArray.push(this.editInquiryProduct(e))})}selectProduct(){const e=this.products.find(n=>n.id===this.inquiryForm.get("productId").value);e&&(this.inquieryProductArray.push(this.editInquiryProduct({productId:e.id,inquiryId:this.inquiry?this.inquiry.id:"",name:e.name})),this.inquiryForm.get("productNameInput").setValue(null),this.inquiryForm.get("productId").setValue(""))}removeProduct(e){this.inquieryProductArray.removeAt(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.QS),t.Y36(k.r),t.Y36(W.v),t.Y36(T.F0),t.Y36(T.gz),t.Y36(N._W),t.Y36(pt.M),t.Y36(P.K),t.Y36(y.D),t.Y36(et.o),t.Y36(it.z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-inquiry"]],features:[t.qOj],decls:133,vars:98,consts:[[1,"page-header-main"],[1,"row","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto"],[1,"content-header"],["autocomplete","off",3,"formGroup","ngSubmit"],["class","loading-shade",4,"ngIf"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["formControlName","productId",1,"form-control",3,"dir","placeholder","selectionChange"],["formControlName","productNameInput","focused","'true'","type","text","autocomplete","off","placeholder","search other products",1,"form-control","w-100"],[3,"value",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["formArrayName","inquiryProducts",1,"col-md-12"],[4,"ngIf"],[3,"dir"],[4,"ngFor","ngForOf"],[1,"form-group","mt-1"],[1,"text-danger",3,"dir"],["formControlName","inquiryStatusId",1,"form-control",3,"dir","placeholder"],["formControlName","assignTo",1,"form-control",3,"dir","placeholder"],[1,"text-danger"],["formControlName","companyName","type","text",1,"form-control"],["formControlName","contactPerson","type","text",1,"form-control"],["formControlName","email","type","text",1,"form-control"],["formControlName","mobileNo","type","text",1,"form-control"],[1,"col-sm-12"],["formControlName","phoneNo","type","text",1,"form-control"],["formControlName","website","type","text",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"col-md-12"],["formControlName","address",1,"form-control"],[1,"col-md-6","mt-4"],[1,"form-row"],["formControlName","countryName",1,"form-control",3,"dir","placeholder","selectionChange"],["autocomplete","new-city","type","text","formControlName","cityName",1,"form-control",3,"placeholder","matAutocomplete","input"],["auto","matAutocomplete"],["formControlName","inquirySourceId",1,"form-control",3,"dir","placeholder"],["class","text-danger",3,"dir",4,"ngIf"],[1,"col-sm-12","mt-2"],["formControlName","message",3,"config"],[1,"col-md-12","mb-1"],["type","submit",1,"btn","btn-success","btn-sm","m-right-10"],[1,"fas","fa-save"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-times-circle"],[1,"loading-shade"],[3,"value"],[3,"formGroupName"],[1,"material-icons","cursor-pointer",3,"click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),t._uU(5),t.ALo(6,"translate"),t.qZA()()()()(),t.TgZ(7,"form",4),t.NdJ("ngSubmit",function(){return n.onInquirySubmit()}),t.YNc(8,ci,2,1,"div",5),t.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"mat-select",9),t.NdJ("selectionChange",function(){return n.selectProduct()}),t.ALo(13,"translate"),t._UZ(14,"input",10)(15,"mat-divider"),t.YNc(16,ui,2,2,"mat-option",11),t.YNc(17,li,3,3,"mat-option",12),t.qZA()()(),t.TgZ(18,"div",13),t.YNc(19,di,3,3,"span",14),t._UZ(20,"br"),t.TgZ(21,"mat-chip-list",15),t.YNc(22,mi,6,2,"mat-chip",16),t.qZA()(),t.TgZ(23,"div",7)(24,"div",17)(25,"mat-label",18),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"mat-select",19),t.ALo(29,"translate"),t.YNc(30,pi,2,2,"mat-option",11),t.qZA(),t.YNc(31,_i,2,1,"div",14),t.qZA()(),t.TgZ(32,"div",7)(33,"div",17)(34,"mat-label",15),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"mat-select",20),t.ALo(38,"translate"),t.YNc(39,fi,2,3,"mat-option",11),t.qZA()()(),t.TgZ(40,"div",7)(41,"div",8)(42,"label",21),t._uU(43),t.ALo(44,"translate"),t.qZA(),t._UZ(45,"input",22),t.YNc(46,yi,2,1,"div",14),t.qZA()(),t.TgZ(47,"div",7)(48,"div",8)(49,"label",21),t._uU(50),t.ALo(51,"translate"),t.qZA(),t._UZ(52,"input",23),t.YNc(53,vi,2,1,"div",14),t.qZA()(),t.TgZ(54,"div",7)(55,"div",8)(56,"label"),t._uU(57),t.ALo(58,"translate"),t.qZA(),t._UZ(59,"input",24),t.YNc(60,Ai,2,1,"div",14),t.YNc(61,Zi,2,1,"div",14),t.qZA()(),t.TgZ(62,"div",7)(63,"div",8)(64,"label"),t._uU(65),t.ALo(66,"translate"),t.qZA(),t._UZ(67,"input",25),t.qZA()(),t._UZ(68,"div",26),t.TgZ(69,"div",7)(70,"div",8)(71,"label"),t._uU(72),t.ALo(73,"translate"),t.qZA(),t._UZ(74,"input",27),t.qZA()(),t.TgZ(75,"div",7)(76,"div",8)(77,"label"),t._uU(78),t.ALo(79,"translate"),t.qZA(),t._UZ(80,"input",28),t.YNc(81,Ii,3,3,"div",29),t.qZA()(),t.TgZ(82,"div",30)(83,"div",6)(84,"div",7)(85,"div",8)(86,"label"),t._uU(87),t.ALo(88,"translate"),t.qZA(),t._UZ(89,"textarea",31),t.qZA()(),t.TgZ(90,"div",32)(91,"div",33)(92,"div",7)(93,"div",8)(94,"mat-label",15),t._uU(95),t.ALo(96,"translate"),t.qZA(),t.TgZ(97,"mat-select",34),t.NdJ("selectionChange",function(a){return n.onCountryChange(a)}),t.ALo(98,"translate"),t.YNc(99,bi,2,2,"mat-option",11),t.qZA()()(),t.TgZ(100,"div",7)(101,"div",8)(102,"mat-label",15),t._uU(103),t.ALo(104,"translate"),t.qZA(),t.TgZ(105,"input",35),t.NdJ("input",function(a){return n.handleFilterCity(a)}),t.ALo(106,"translate"),t.qZA(),t.TgZ(107,"mat-autocomplete",15,36),t.YNc(109,xi,3,2,"mat-option",11),t.qZA()()()()()()(),t.TgZ(110,"div",7)(111,"mat-label",18),t._uU(112),t.ALo(113,"translate"),t.qZA(),t.TgZ(114,"mat-select",37),t.ALo(115,"translate"),t.YNc(116,Si,2,2,"mat-option",11),t.qZA(),t.YNc(117,Ni,3,4,"mat-error",38),t.qZA(),t.TgZ(118,"div",39)(119,"div",8)(120,"label"),t._uU(121),t.ALo(122,"translate"),t.qZA(),t._UZ(123,"angular-editor",40),t.qZA()(),t.TgZ(124,"div",41)(125,"button",42),t._UZ(126,"i",43),t._uU(127),t.ALo(128,"translate"),t.qZA(),t.TgZ(129,"button",44),t.NdJ("click",function(){return n.onInquiryList()}),t._UZ(130,"i",45),t._uU(131),t.ALo(132,"translate"),t.qZA()()()()),2&e){const o=t.MAs(108);t.xp6(5),t.Oqu(t.lcZ(6,54,"MANAGE_INQUIRY")),t.xp6(2),t.Q6J("formGroup",n.inquiryForm),t.xp6(1),t.Q6J("ngIf",n.isLoading),t.xp6(4),t.s9C("placeholder",t.lcZ(13,56,"SELECT_PRODUCT")),t.Q6J("dir",n.langDir),t.xp6(4),t.Q6J("ngForOf",n.products),t.xp6(1),t.Q6J("ngIf",0==n.products.length),t.xp6(2),t.Q6J("ngIf",n.inquieryProductArray.controls.length),t.xp6(2),t.Q6J("dir",n.langDir),t.xp6(1),t.Q6J("ngForOf",n.inquieryProductArray.controls),t.xp6(3),t.Q6J("dir",n.langDir),t.xp6(1),t.hij("",t.lcZ(27,58,"INQUIRY_STATUS")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(29,60,"SELECT_STATUS")),t.Q6J("dir",n.langDir),t.xp6(2),t.Q6J("ngForOf",n.inquiryStatuses),t.xp6(1),t.Q6J("ngIf",n.inquiryForm.get("inquiryStatusId").touched&&n.inquiryForm.get("inquiryStatusId").errors),t.xp6(3),t.Q6J("dir",n.langDir),t.xp6(1),t.Oqu(t.lcZ(36,62,"ASSIGN_TO")),t.xp6(2),t.s9C("placeholder",t.lcZ(38,64,"SELECT_USER")),t.Q6J("dir",n.langDir),t.xp6(2),t.Q6J("ngForOf",n.users),t.xp6(4),t.hij("",t.lcZ(44,66,"ORGANIZATION")," *"),t.xp6(3),t.Q6J("ngIf",n.inquiryForm.get("companyName").touched&&n.inquiryForm.get("companyName").errors),t.xp6(4),t.hij("",t.lcZ(51,68,"CONTACT_PERSON")," *"),t.xp6(3),t.Q6J("ngIf",n.inquiryForm.get("contactPerson").touched&&n.inquiryForm.get("contactPerson").errors),t.xp6(4),t.hij("",t.lcZ(58,70,"EMAIL")," "),t.xp6(3),t.Q6J("ngIf",n.inquiryForm.get("email").touched&&n.inquiryForm.get("email").errors),t.xp6(1),t.Q6J("ngIf",n.inquiryForm.get("mobileNo").touched||n.inquiryForm.get("email").touched),t.xp6(4),t.hij("",t.lcZ(66,72,"MOBILE_NO")," "),t.xp6(7),t.Oqu(t.lcZ(73,74,"PHONE_NUMBER")),t.xp6(6),t.Oqu(t.lcZ(79,76,"WEBSITE")),t.xp6(3),t.Q6J("ngIf",n.inquiryForm.get("website").touched&&(null==n.inquiryForm.get("website").errors?null:n.inquiryForm.get("website").errors.valid_url)),t.xp6(6),t.Oqu(t.lcZ(88,78,"ADDRESS")),t.xp6(7),t.Q6J("dir",n.langDir),t.xp6(1),t.Oqu(t.lcZ(96,80,"SELECT_COUNTRY")),t.xp6(2),t.s9C("placeholder",t.lcZ(98,82,"SEARCH_COUNTRY")),t.Q6J("dir",n.langDir),t.xp6(2),t.Q6J("ngForOf",n.countries),t.xp6(3),t.Q6J("dir",n.langDir),t.xp6(1),t.hij("",t.lcZ(104,84,"SELECT_CITY")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(106,86,"SEARCH_CITY")),t.Q6J("matAutocomplete",o),t.xp6(2),t.Q6J("dir",n.langDir),t.xp6(2),t.Q6J("ngForOf",n.cities),t.xp6(2),t.Q6J("dir",n.langDir),t.xp6(1),t.hij("",t.lcZ(113,88,"SOURCE_OF_INQUIRY")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(115,90,"SELECT_SOURCE")),t.Q6J("dir",n.langDir),t.xp6(2),t.Q6J("ngForOf",n.sourcesOfInquiry),t.xp6(1),t.Q6J("ngIf",n.inquiryForm.get("inquirySourceId").touched&&(null==n.inquiryForm.get("inquirySourceId").errors?null:n.inquiryForm.get("inquirySourceId").errors.required)),t.xp6(4),t.hij(" ",t.lcZ(122,92,"MESSAGE")," "),t.xp6(2),t.Q6J("config",n.editorConfig),t.xp6(4),t.hij(" ",t.lcZ(128,94,"SAVE"),""),t.xp6(4),t.hij(" ",t.lcZ(132,96,"CANCEL")," ")}},dependencies:[m.sg,m.O5,b.Lv,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,s.x0,s.CE,D.TO,D.hX,O.XC,O.ZL,Z.ey,M.qn,M.HS,R.Ou,x.gD,nt.s6,ht.d,q.X$]}),i})();var Ui=c(2986),Ei=c(1709);let _t=(()=>{class i{constructor(e,n){this.inquiryService=e,this.router=n}resolve(e,n){const o=e.paramMap.get("id");return"addItem"===o?null:this.inquiryService.getInquiry(o).pipe((0,Ui.q)(1),(0,Ei.zg)(a=>a?(0,j.of)(a):(this.router.navigate(["/inquiry"]),null)))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(k.r),t.LFG(T.F0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})();var H=c(520);let Li=(()=>{class i{constructor(e){this.httpClient=e}getInquiryNotes(e){return this.httpClient.get(`inquiryNote/${e}`)}deleteInquiryNote(e){return this.httpClient.delete(`inquiryNote/${e}`)}updateInquiryNote(e,n){return this.httpClient.put("inquiryNote/"+e,n)}saveInquiryNote(e){return this.httpClient.post("inquiryNote/",e)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(H.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Fi(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",12)(1,"p",13),t._uU(2),t.TgZ(3,"span",14),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onDelete(a.id))}),t._UZ(4,"i",15),t.qZA()(),t.TgZ(5,"div",16)(6,"small",17),t._uU(7),t.ALo(8,"utcToLocalTime"),t.qZA(),t.TgZ(9,"small",18),t._uU(10),t.qZA()()()}if(2&i){const e=r.$implicit;t.xp6(2),t.hij(" ",e.note," "),t.xp6(5),t.hij(" ",t.xi3(8,4,e.createdDate,"shortDate")," "),t.xp6(3),t.AsE("",null==e?null:e.createdByUser.firstName," ",null==e?null:e.createdByUser.lastName," ")}}function ki(i,r){1&i&&(t.TgZ(0,"div",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NOTE_IS_REQUIRED")," "))}function Ri(i,r){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,ki,3,3,"div",19),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.commentForm.get("note").errors?null:e.commentForm.get("note").errors.required)}}let Oi=(()=>{class i extends g.H{constructor(e,n,o,a){super(a),this.fb=e,this.inquiryNoteService=n,this.commonDialogService=o,this.translationService=a,this.inquiryNotes=[]}ngOnInit(){this.createForm(),this.getNotes()}createForm(){this.commentForm=this.fb.group({note:["",[s.kI.required]]})}getNotes(){this.sub$.sink=this.inquiryNoteService.getInquiryNotes(this.inquiryId).subscribe(e=>{this.inquiryNotes=e})}patchNote(e){this.commentForm.patchValue({note:e})}addComment(){if(this.commentForm.invalid)return void this.commentForm.markAllAsTouched();const e={inquiryId:this.inquiryId,note:this.commentForm.get("note").value};this.sub$.sink=this.inquiryNoteService.saveInquiryNote(e).subscribe(n=>{this.patchNote(""),this.commentForm.markAsUntouched(),this.getNotes()})}onDelete(e){this.sub$.sink=this.commonDialogService.deleteConformationDialog(`${this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")}?`).subscribe(n=>{n&&(this.sub$.sink=this.inquiryNoteService.deleteInquiryNote(e).subscribe(()=>{this.getNotes()}))})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.QS),t.Y36(Li),t.Y36(J.V),t.Y36(y.D))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-inquiry-note"]],inputs:{inquiryId:"inquiryId"},features:[t.qOj],decls:20,vars:9,consts:[[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"list-group"],["class","list-group-item list-group-item-action","aria-current","true",4,"ngFor","ngForOf"],[1,"mt-3",3,"formGroup"],[1,"form-group"],["formControlName","note","rows","3",1,"form-control"],[4,"ngIf"],["type","submit",1,"btn","blue-btn","btn-sm",3,"click"],["aria-current","true",1,"list-group-item","list-group-item-action"],[1,"mb-1"],["role","button",1,"badge",3,"click"],[1,"fas","text-danger","fa-trash"],[1,"w-100"],[1,"mr-2"],[1,"text-primary"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4)(7,"div",0)(8,"div",1)(9,"div",5),t.YNc(10,Fi,11,7,"div",6),t.qZA()()(),t.TgZ(11,"div",0)(12,"div",1)(13,"form",7)(14,"div",8),t._UZ(15,"textarea",9),t.YNc(16,Ri,2,1,"div",10),t.qZA(),t.TgZ(17,"button",11),t.NdJ("click",function(){return n.addComment()}),t._uU(18),t.ALo(19,"translate"),t.qZA()()()()()()()()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,5,"NOTES")," "),t.xp6(6),t.Q6J("ngForOf",n.inquiryNotes),t.xp6(3),t.Q6J("formGroup",n.commentForm),t.xp6(3),t.Q6J("ngIf",n.commentForm.get("note").touched&&n.commentForm.get("note").errors),t.xp6(2),t.hij(" ",t.lcZ(19,7,"ADD_NOTE")," "))},dependencies:[m.sg,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,Y.M,q.X$]}),i})(),ft=(()=>{class i{constructor(e){this.httpClient=e}getInquiryTasks(e){return this.httpClient.get(`inquiryActivity/${e}`)}deleteInquiryActivity(e){return this.httpClient.delete(`inquiryActivity/${e}`)}updateInquiryActivity(e,n){return this.httpClient.put("inquiryActivity/"+e,n)}saveInquiryActivity(e){return this.httpClient.post("inquiryActivity/",e)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(H.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var gt=c(7531),V=c(6856);function Mi(i,r){1&i&&(t.TgZ(0,"div",34),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TITLE_IS_REQUIRED")," "))}function Qi(i,r){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Mi,3,3,"div",33),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.inquiryTaskForm.get("subject").errors?null:e.inquiryTaskForm.get("subject").errors.required)}}function Yi(i,r){if(1&i&&(t.TgZ(0,"mat-option",35),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE(" ",e.firstName," ",e.lastName," ")}}function ji(i,r){if(1&i&&(t.TgZ(0,"mat-option",35),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.name),t.xp6(1),t.hij(" ",e.value," ")}}let yt=(()=>{class i extends g.H{constructor(e,n,o,a,l,f,v){super(v),this.data=e,this.dialogRef=n,this.fb=o,this.userService=a,this.inquiryTaskService=l,this.toastrService=f,this.translationService=v,this.users=[],this.minDate=new Date,this.priorities=[{name:"High",value:"High"},{name:"Low",value:"Low"},{name:"Normal",value:"Normal"}],this.getLangDir(),this.userResource=new d.q,this.userResource.pageSize=10,this.userResource.orderBy="firstName desc"}ngOnInit(){this.createInquiryTask(),this.getUsers(),this.patchInquiryTask()}createInquiryTask(){this.inquiryTaskForm=this.fb.group({subject:["",[s.kI.required]],description:[""],dueDate:[null],isOpen:[!0],assignTo:[],priority:[]})}patchInquiryTask(){this.data.inquiryTask&&this.inquiryTaskForm.patchValue({subject:this.data.inquiryTask.subject,description:this.data.inquiryTask.description,dueDate:this.data.inquiryTask.dueDate,isOpen:this.data.inquiryTask.isOpen,assignTo:this.data.inquiryTask.assignTo,priority:this.data.inquiryTask.priority})}closeDialog(){this.dialogRef.close()}buildInquiryTask(){return{subject:this.inquiryTaskForm.get("subject").value,description:this.inquiryTaskForm.get("description").value,dueDate:this.inquiryTaskForm.get("dueDate").value,inquiryId:this.data.inquiryId,isOpen:this.inquiryTaskForm.get("isOpen").value,assignTo:this.inquiryTaskForm.get("assignTo").value,priority:this.inquiryTaskForm.get("priority").value}}getUsers(){this.sub$.sink=this.userService.getUsers(this.userResource).subscribe(e=>{this.users=e.body})}onInquiryTaskSave(){if(this.inquiryTaskForm.invalid)return void this.inquiryTaskForm.markAllAsTouched();const e=this.buildInquiryTask();this.sub$.sink=this.data.inquiryTask?this.inquiryTaskService.updateInquiryActivity(this.data.inquiryTask.id,e).subscribe(n=>{this.toastrService.success(this.translationService.getValue("INQUIRY_TASK_UPDATED")),this.dialogRef.close()}):this.inquiryTaskService.saveInquiryActivity(e).subscribe(n=>{this.toastrService.success(this.translationService.getValue("INQUIRY_TASK_SAVE_SUCCESSFULLY")),this.dialogRef.close()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.WI),t.Y36(p.so),t.Y36(s.QS),t.Y36(P.K),t.Y36(ft),t.Y36(N._W),t.Y36(y.D))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-inquiry-task-add"]],features:[t.qOj],decls:62,vars:42,consts:[[1,"modal-content1"],[1,"modal-header"],[1,"d-flex","w-100","align-items-center","justify-content-between"],[1,"col-md-8"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"row"],[1,"col-sm-12"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","txtSubject",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","formControlName","subject",1,"form-control"],[4,"ngIf"],["for","txtDescription",1,"col-sm-2","col-form-label"],["id","txtDescription","formControlName","description",1,"form-control"],["for","dpDueDate",1,"col-sm-2","col-form-label"],["appearance","outline",3,"dir"],["matInput","","formControlName","dueDate",3,"min","matDatepicker"],["matSuffix","",3,"for","dir"],[3,"dir"],["picker",""],["for","assignTo",1,"col-sm-2","col-form-label"],["id","assignTo","formControlName","assignTo",1,"form-control",3,"dir","placeholder"],[3,"value",4,"ngFor","ngForOf"],["for","priority",1,"col-sm-2","col-form-label"],["id","priority","formControlName","priority",1,"form-control",3,"dir","placeholder"],["type","submit",1,"btn","btn-success","btn-sm","m-right-10"],[1,"fas","fa-save"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-times-circle"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[3,"value"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"button",5),t.NdJ("click",function(){return n.closeDialog()}),t._UZ(8,"i",6),t.qZA()()(),t.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"form",10),t.NdJ("ngSubmit",function(){return n.onInquiryTaskSave()}),t.TgZ(13,"div",11)(14,"label",12),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"div",13),t._UZ(18,"input",14),t.YNc(19,Qi,2,1,"div",15),t.qZA()(),t.TgZ(20,"div",11)(21,"label",16),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"div",13),t._UZ(25,"textarea",17),t.qZA()(),t.TgZ(26,"div",11)(27,"label",18),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"div",13)(31,"mat-form-field",19),t._UZ(32,"input",20)(33,"mat-datepicker-toggle",21)(34,"mat-datepicker",22,23),t.qZA()()(),t.TgZ(36,"div",11)(37,"label",24),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"div",13)(41,"mat-select",25),t.ALo(42,"translate"),t.YNc(43,Yi,2,3,"mat-option",26),t.qZA()()(),t.TgZ(44,"div",11)(45,"label",27),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"div",13)(49,"mat-select",28),t.ALo(50,"translate"),t.YNc(51,ji,2,2,"mat-option",26),t.qZA()()(),t.TgZ(52,"div",8)(53,"div",13)(54,"button",29),t._UZ(55,"i",30),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"button",31),t.NdJ("click",function(){return n.closeDialog()}),t._UZ(59,"i",32),t._uU(60),t.ALo(61,"translate"),t.qZA()()()()()()()()),2&e){const o=t.MAs(35);t.xp6(5),t.hij(" ",t.lcZ(6,22,"INQUIRY_TASK")," "),t.xp6(7),t.Q6J("formGroup",n.inquiryTaskForm),t.xp6(3),t.Oqu(t.lcZ(16,24,"TITLE")),t.xp6(4),t.Q6J("ngIf",n.inquiryTaskForm.get("subject").touched&&n.inquiryTaskForm.get("subject").errors),t.xp6(3),t.Oqu(t.lcZ(23,26,"DESCRIPTION")),t.xp6(6),t.Oqu(t.lcZ(29,28,"DUE_DATE")),t.xp6(3),t.Q6J("dir",n.langDir),t.xp6(1),t.Q6J("min",n.minDate)("matDatepicker",o),t.xp6(1),t.Q6J("for",o)("dir",n.langDir),t.xp6(1),t.Q6J("dir",n.langDir),t.xp6(4),t.Oqu(t.lcZ(39,30,"ASSIGN_TO")),t.xp6(3),t.s9C("placeholder",t.lcZ(42,32,"SELECT_USER")),t.Q6J("dir",n.langDir),t.xp6(2),t.Q6J("ngForOf",n.users),t.xp6(3),t.Oqu(t.lcZ(47,34,"PRIORITY")),t.xp6(3),t.s9C("placeholder",t.lcZ(50,36,"SELECT_PRIORITY")),t.Q6J("dir",n.langDir),t.xp6(2),t.Q6J("ngForOf",n.priorities),t.xp6(5),t.hij(" ",t.lcZ(57,38,"SAVE"),""),t.xp6(4),t.hij(" ",t.lcZ(61,40,"CANCEL")," ")}},dependencies:[m.sg,m.O5,b.Lv,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,D.KE,D.R9,gt.Nt,Z.ey,x.gD,V.Mq,V.hl,V.nW,q.X$]}),i})();function Ji(i,r){1&i&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ACTION")," "))}function Pi(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.onChangeStatus(o))}),t._UZ(1,"i",26),t.TgZ(2,"span",27),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"CLOSE"),""))}function $i(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.onChangeStatus(o))}),t._UZ(1,"i",26),t.TgZ(2,"span",27),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"OPEN"),""))}function Bi(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"td",24)(1,"button",25),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onEditInquiryTask(a))}),t._UZ(2,"i",26),t.TgZ(3,"span",27),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,Pi,5,3,"button",28),t.YNc(7,$i,5,3,"button",29),t.qZA()}if(2&i){const e=r.$implicit;t.xp6(4),t.Oqu(t.lcZ(5,3,"EDIT")),t.xp6(2),t.Q6J("ngIf",e.isOpen),t.xp6(1),t.Q6J("ngIf",!e.isOpen)}}function Hi(i,r){1&i&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NAME")," "))}function Vi(i,r){if(1&i&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.subject," ")}}function Gi(i,r){1&i&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DESCRIPTION")," "))}function zi(i,r){if(1&i&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.description," ")}}function Wi(i,r){1&i&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DUE_DATE")," "))}function Ki(i,r){if(1&i&&(t.ynx(0),t._uU(1),t.ALo(2,"utcToLocalTime"),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.dueDate,"shortDate")," ")}}function Xi(i,r){if(1&i&&(t.TgZ(0,"td",24),t.YNc(1,Ki,3,4,"ng-container",22),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",e.dueDate)}}function tn(i,r){1&i&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"STATUS")," "))}function en(i,r){1&i&&(t.ynx(0),t.TgZ(1,"span",32),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"OPEN")," "))}function nn(i,r){1&i&&(t.ynx(0),t.TgZ(1,"span",33),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"CLOSE")," "))}function rn(i,r){if(1&i&&(t.TgZ(0,"td",24),t.YNc(1,en,4,3,"ng-container",22),t.YNc(2,nn,4,3,"ng-container",22),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",e.isOpen),t.xp6(1),t.Q6J("ngIf",!e.isOpen)}}function on(i,r){1&i&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ASSIGN_TO")," "))}function an(i,r){if(1&i&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.AsE(" ",null==e||null==e.assignUser?null:e.assignUser.firstName," ",null==e||null==e.assignUser?null:e.assignUser.lastName," ")}}function sn(i,r){1&i&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PRIORITY")," "))}function cn(i,r){if(1&i&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.priority," ")}}function un(i,r){1&i&&t._UZ(0,"tr",34)}function ln(i,r){1&i&&t._UZ(0,"tr",35)}function dn(i,r){1&i&&(t.ynx(0),t.TgZ(1,"div",0)(2,"div",36)(3,"label",37),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.BQk()),2&i&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"NO_DATA_FOUND"),""))}let mn=(()=>{class i extends g.H{constructor(e,n,o,a){super(o),this.inquiryTaskService=e,this.commonDialogService=n,this.translationService=o,this.dialog=a,this.inquiryTasks=[],this.displayedColumns=["action","subject","description","dueDate","isOpen","assignToName","priority"],this.getLangDir()}ngOnInit(){this.getInquiryTasks()}getInquiryTasks(){this.sub$.sink=this.inquiryTaskService.getInquiryTasks(this.inquiryId).subscribe(e=>{this.inquiryTasks=e})}onDelete(e){this.sub$.sink=this.commonDialogService.deleteConformationDialog(`${this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")}?`).subscribe(n=>{n&&(this.sub$.sink=this.inquiryTaskService.deleteInquiryActivity(e).subscribe(()=>{this.getInquiryTasks()}))})}onAddInquiryTask(){const n=this.dialog.open(yt,{width:"600px",direction:this.langDir,data:{inquiryId:this.inquiryId,inquiryTask:null}});this.sub$.sink=n.afterClosed().subscribe(o=>{this.getInquiryTasks()})}onEditInquiryTask(e){const o=this.dialog.open(yt,{width:"600px",direction:this.langDir,data:{inquiryId:this.inquiryId,inquiryTask:e}});this.sub$.sink=o.afterClosed().subscribe(a=>{this.getInquiryTasks()})}onChangeStatus(e){this.sub$.sink=this.commonDialogService.deleteConformationDialog(this.translationService.getValue("ARE_YOU_SURE_WANT_TO_CHANGE_STATUS")).subscribe(n=>{n&&(e.isOpen=!e.isOpen,this.sub$.sink=this.inquiryTaskService.updateInquiryActivity(e.id,e).subscribe(()=>{this.getInquiryTasks()}))})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(ft),t.Y36(J.V),t.Y36(y.D),t.Y36(p.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-inquiry-task"]],inputs:{inquiryId:"inquiryId"},features:[t.qOj],decls:41,vars:12,consts:[[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"col-sm-8","col"],[1,"col-sm-4","col-auto","text-right"],[1,"btn","btn-success","btn-sm","m-right-10",3,"click"],[1,"fas","fa-plus"],[1,"card-body"],[1,"col-sm-12","table-responsive"],["mat-table","",1,"table","table-bordered","table-hover",3,"dir","dataSource"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","subject"],["matColumnDef","description"],["matColumnDef","dueDate"],["matColumnDef","isOpen"],["matColumnDef","assignToName"],["matColumnDef","priority"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[1,"btn","btn-success","btn-sm","mr-2",3,"click"],[1,"fas","fa-pencil-alt"],[1,"ml-1"],["class","btn btn-danger btn-sm",3,"click",4,"ngIf"],["class","btn blue-btn btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"btn","blue-btn","btn-sm",3,"click"],[1,"text-success"],[1,"text-danger"],["mat-header-row",""],["mat-row",""],[1,"col-sm-12","ml-4","mt-3"],[1,"font-weight-bold"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",0)(5,"div",4),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",5)(9,"button",6),t.NdJ("click",function(){return n.onAddInquiryTask()}),t._UZ(10,"i",7),t._uU(11),t.ALo(12,"translate"),t.qZA()()()(),t.TgZ(13,"div",8)(14,"div",0)(15,"div",9)(16,"table",10),t.ynx(17,11),t.YNc(18,Ji,3,3,"th",12),t.YNc(19,Bi,8,5,"td",13),t.BQk(),t.ynx(20,14),t.YNc(21,Hi,3,3,"th",12),t.YNc(22,Vi,2,1,"td",13),t.BQk(),t.ynx(23,15),t.YNc(24,Gi,3,3,"th",12),t.YNc(25,zi,2,1,"td",13),t.BQk(),t.ynx(26,16),t.YNc(27,Wi,3,3,"th",12),t.YNc(28,Xi,2,1,"td",13),t.BQk(),t.ynx(29,17),t.YNc(30,tn,3,3,"th",12),t.YNc(31,rn,3,2,"td",13),t.BQk(),t.ynx(32,18),t.YNc(33,on,3,3,"th",12),t.YNc(34,an,2,2,"td",13),t.BQk(),t.ynx(35,19),t.YNc(36,sn,3,3,"th",12),t.YNc(37,cn,2,1,"td",13),t.BQk(),t.YNc(38,un,1,0,"tr",20),t.YNc(39,ln,1,0,"tr",21),t.qZA(),t.YNc(40,dn,6,3,"ng-container",22),t.qZA()()()()()()),2&e&&(t.xp6(6),t.hij(" ",t.lcZ(7,8,"TASKS")," "),t.xp6(5),t.hij(" ",t.lcZ(12,10,"ADD_INQUIRY_TASK")," "),t.xp6(5),t.Q6J("dir",n.langDir)("dataSource",n.inquiryTasks),t.xp6(22),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("ngIf",0===n.inquiryTasks.length))},dependencies:[m.O5,b.Lv,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,Y.M,q.X$]}),i})();var pn=c(2340);let qt=(()=>{class i{constructor(e){this.httpClient=e}getInquiryAttachments(e){return this.httpClient.get(`inquiryAttachment/${e}`)}deleteInquiryAttachment(e){return this.httpClient.delete(`inquiryAttachment/${e}`)}updateInquiryAttachment(e,n){return this.httpClient.put("inquiryAttachment/"+e,n)}saveInquiryAttachment(e){return this.httpClient.post("inquiryAttachment/",e)}downloadFile(e){return this.httpClient.get(`inquiryAttachment/${e}/download`,{reportProgress:!0,observe:"events",responseType:"blob"})}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(H.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),hn=(()=>{class i extends g.H{constructor(e,n,o,a,l,f){super(f),this.fb=e,this.data=n,this.dialogRef=o,this.toastrService=a,this.inquiryAttachmentService=l,this.translationService=f,this.documentForm="",this._validFileExtensions=pn.N.allowFileExtension,this.extension=""}ngOnInit(){this.createInquiryDocumentForm()}createInquiryDocumentForm(){this.inquiryDocumentForm=this.fb.group({name:["",s.kI.required]})}fileEvent(e){let n=e.target.files;if(0==n.length)return;const o=n[0];if(this.extension=o.name.split(".").pop(),this.Validate(o.name)){const a=new FileReader;a.readAsDataURL(o),a.onload=l=>{this.documentForm=a.result.toString()}}}buildInquiryDocumentForm(){return{inquiryId:this.data.inquiryId,documents:this.documentForm,name:this.inquiryDocumentForm.get("name").value,extension:this.extension}}onAttachmentSubmit(){if(!this.inquiryDocumentForm.valid)return this.toastrService.error(this.translationService.getValue("PLEASE_ENTER_NAME_OF_DOCUMENT")),void this.inquiryDocumentForm.markAllAsTouched();if(!this.documentForm)return void this.toastrService.error(this.translationService.getValue("PLEASE_UPLOAD_DOCUMENT"));const e=this.buildInquiryDocumentForm();this.sub$.sink=this.inquiryAttachmentService.saveInquiryAttachment(e).subscribe(n=>{this.toastrService.success(this.translationService.getValue("DOCUMENT_SAVE_SUCCESSFULLY")),this.dialogRef.close()})}Validate(e){var n=e;if(n.length>0){for(var o=!1,a=0;a<this._validFileExtensions.length;a++){var l=this._validFileExtensions[a];if(n.substr(n.length-l.length,l.length).toLowerCase()==l.toLowerCase()){o=!0;break}}if(!o)return this.toastrService.error(n+this.translationService.getValue("IS_INVALID_ALLOWED_EXTENSIONS_ARE")+this._validFileExtensions.join(", ")),!1}return!0}onInquiryList(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.QS),t.Y36(p.WI),t.Y36(p.so),t.Y36(N._W),t.Y36(qt),t.Y36(y.D))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-inquiry-attachment-add"]],features:[t.qOj],decls:38,vars:16,consts:[[1,"modal-content1"],[1,"modal-header"],[1,"d-flex","w-100","align-items-center","justify-content-between"],[1,"col-md-8"],[1,"modal-title"],[1,"col-sm-auto","ml-auto"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"fas","fa-times"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[1,"form-group","row"],["for","txtName",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","id","txtName","formControlName","name",1,"form-control"],["name","file","type","file","name","Upload File","fxFlex","30",3,"change"],["fileInput",""],[1,"modal-footer"],[1,"form-row","w-100","justify-content-end"],[1,"col-md-auto","col-auto"],["type","submit",1,"btn","btn-success","btn-sm","m-right-10"],[1,"fas","fa-save"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-times-circle"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return n.onInquiryList()}),t._UZ(9,"i",7),t.qZA()()()(),t.TgZ(10,"form",8),t.NdJ("ngSubmit",function(){return n.onAttachmentSubmit()}),t.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"div",14),t._UZ(19,"input",15),t.qZA()(),t.TgZ(20,"div",12)(21,"label",13),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"div",14)(25,"input",16,17),t.NdJ("change",function(a){return n.fileEvent(a)}),t.qZA()()()()()(),t.TgZ(27,"div",18)(28,"div",19)(29,"div",20)(30,"button",21),t._UZ(31,"i",22),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"button",23),t.NdJ("click",function(){return n.onInquiryList()}),t._UZ(35,"i",24),t._uU(36),t.ALo(37,"translate"),t.qZA()()()()()()),2&e&&(t.xp6(5),t.hij(" ",t.lcZ(6,6,"ADD_ATTACHMENT")," "),t.xp6(5),t.Q6J("formGroup",n.inquiryDocumentForm),t.xp6(6),t.Oqu(t.lcZ(17,8,"NAME")),t.xp6(6),t.hij("",t.lcZ(23,10,"UPLOAD_FILE"),":"),t.xp6(10),t.hij(" ",t.lcZ(33,12,"SAVE"),""),t.xp6(4),t.hij(" ",t.lcZ(37,14,"CANCEL")," "))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,q.X$]}),i})();function _n(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"utcToLocalTime"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td")(9,"button",16),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onDownload(a))}),t._UZ(10,"i",17),t.TgZ(11,"span",18),t._uU(12),t.ALo(13,"translate"),t.qZA()(),t.TgZ(14,"button",19),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onDeleted(a))}),t._UZ(15,"i",20),t.TgZ(16,"span",18),t._uU(17),t.ALo(18,"translate"),t.qZA()()()()}if(2&i){const e=r.$implicit;t.xp6(2),t.hij(" ",e.name,""),t.xp6(2),t.Oqu(t.xi3(5,6,e.createdDate,"shortDate")),t.xp6(3),t.AsE(" ",null==e?null:e.createdByUser.firstName," ",null==e?null:e.createdByUser.lastName," "),t.xp6(5),t.Oqu(t.lcZ(13,9,"DOWNLOAD")),t.xp6(5),t.hij(" ",t.lcZ(18,11,"DELETE"),"")}}let fn=(()=>{class i extends g.H{constructor(e,n,o,a,l){super(o),this.inquiryAttachmentService=e,this.commonDialogService=n,this.translationService=o,this.dialog=a,this.toastrService=l,this.inquiryAttachments=[]}ngOnInit(){this.getInquiryAttachments()}getInquiryAttachments(){this.sub$.sink=this.inquiryAttachmentService.getInquiryAttachments(this.inquiryId).subscribe(e=>{this.inquiryAttachments=e})}onDownload(e){this.sub$.sink=this.inquiryAttachmentService.downloadFile(e.id).subscribe(n=>{n.type===H.dt.Response&&this.downloadFile(n,e.name)},n=>{this.toastrService.error(this.translationService.getValue("ERROR_WHILE_DOWNLOADING_DOCUMENT"))})}downloadFile(e,n){const o=new Blob([e.body],{type:e.body.type}),a=document.createElement("a");a.setAttribute("style","display:none;"),document.body.appendChild(a),a.download=n,a.href=URL.createObjectURL(o),a.target="_blank",a.click(),document.body.removeChild(a)}onDeleted(e){this.sub$.sink=this.commonDialogService.deleteConformationDialog(`${this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")}?`).subscribe(n=>{n&&(this.sub$.sink=this.inquiryAttachmentService.deleteInquiryAttachment(e.id).subscribe(o=>{o&&(this.toastrService.success(this.translationService.getValue("INQUIRY_ATTACHMENT_DELETED")),this.getInquiryAttachments())}))})}onAddInquiryAttachement(){const n=this.dialog.open(hn,{width:"600px",direction:this.langDir,data:{inquiryId:this.inquiryId,inquiryAttachment:null}});this.sub$.sink=n.afterClosed().subscribe(o=>{this.getInquiryAttachments()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(qt),t.Y36(J.V),t.Y36(y.D),t.Y36(p.uw),t.Y36(N._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-inquiry-attachment"]],inputs:{inquiryId:"inquiryId"},features:[t.qOj],decls:32,vars:19,consts:[[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"form-row"],[1,"col-sm-8","col"],[1,"col-sm-4","text-right","col-auto"],[1,"btn","btn-success","btn-sm","m-right-10",3,"click"],[1,"fas","fa-plus"],[1,"card-body"],[1,"table-responsive"],[1,"tbl-1000"],[1,"mat-header-row"],[1,"mat-header-cell",2,"width","100px"],[1,"mat-header-cell"],[4,"ngFor","ngForOf"],[1,"btn","btn-success","btn-sm","mr-2",3,"click"],[1,"fas","fa-download"],[1,"ml-1"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return n.onAddInquiryAttachement()}),t._UZ(10,"i",8),t._uU(11),t.ALo(12,"translate"),t.qZA()()()(),t.TgZ(13,"div",9)(14,"div",10)(15,"table",11)(16,"thead")(17,"tr",12)(18,"th",13),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"th",14),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"th",14),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"th",14),t._uU(28),t.ALo(29,"translate"),t.qZA()()(),t.TgZ(30,"tbody"),t.YNc(31,_n,19,13,"tr",15),t.qZA()()()()()()()),2&e&&(t.xp6(6),t.hij(" ",t.lcZ(7,7,"ATTACHMENTS")," "),t.xp6(5),t.hij(" ",t.lcZ(12,9,"ADD_ATTACHMENT")," "),t.xp6(8),t.Oqu(t.lcZ(20,11,"NAME")),t.xp6(3),t.Oqu(t.lcZ(23,13,"CREATED_DATE")),t.xp6(3),t.Oqu(t.lcZ(26,15,"CREATED_USER")),t.xp6(3),t.Oqu(t.lcZ(29,17,"ACTION")),t.xp6(3),t.Q6J("ngForOf",n.inquiryAttachments))},dependencies:[m.sg,Y.M,q.X$]}),i})();function gn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",50)(1,"button",51),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onAddReminder())}),t._UZ(2,"i",52),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"ADD_REMINDER")," "))}function yn(i,r){1&i&&t._UZ(0,"mat-spinner")}function qn(i,r){if(1&i&&(t.TgZ(0,"div",53),t.YNc(1,yn,1,0,"mat-spinner",18),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isLoading)}}function vn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",54),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.selectProduct(a))}),t.TgZ(1,"span"),t._uU(2),t.qZA()()}if(2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(2),t.Oqu(e.name)}}function Tn(i,r){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"SELECTED_PRODUCTS"),":"))}function An(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip"),t.ynx(1,55),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"i",56),t.NdJ("click",function(){const a=t.CHM(e).index,l=t.oxw();return t.KtG(l.removeProduct(a))}),t._uU(5," clear "),t.qZA(),t.BQk(),t.qZA()}if(2&i){const e=r.$implicit,n=r.index;t.xp6(1),t.Q6J("formGroupName",n),t.xp6(2),t.Oqu(e.get("name").value)}}function Cn(i,r){if(1&i&&(t.TgZ(0,"mat-option",57),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Zn(i,r){1&i&&(t.TgZ(0,"div",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PLEASE_SELECT_INQUIRY_STATUS")," "))}function In(i,r){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Zn,3,3,"div",33),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.inquiryForm.get("inquiryStatusId").errors?null:e.inquiryForm.get("inquiryStatusId").errors.required)}}function bn(i,r){if(1&i&&(t.TgZ(0,"mat-option",57),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE(" ",e.firstName," ",e.lastName," ")}}function xn(i,r){1&i&&(t.TgZ(0,"div",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PLEASE_ENTER_ORGANIZATION")," "))}function Sn(i,r){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,xn,3,3,"div",33),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.inquiryForm.get("companyName").errors?null:e.inquiryForm.get("companyName").errors.required)}}function Nn(i,r){1&i&&(t.TgZ(0,"div",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CONTACT_PERSON_NAME_IS_REQUIRED")," "))}function Dn(i,r){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Nn,3,3,"div",33),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.inquiryForm.get("contactPerson").errors?null:e.inquiryForm.get("contactPerson").errors.required)}}function wn(i,r){1&i&&t._UZ(0,"div",22)}function Un(i,r){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,wn,1,0,"div",33),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.inquiryForm.get("email").errors?null:e.inquiryForm.get("email").errors.email)}}function En(i,r){1&i&&(t.TgZ(0,"div",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"EITHER_EMAIL_OR_MOBILE_NUMBER_IS_REQUIRED")," "))}function Ln(i,r){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,En,3,3,"div",33),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.inquiryForm.errors?null:e.inquiryForm.errors.mobileoremail)}}function Fn(i,r){1&i&&(t.TgZ(0,"div",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PLEASE_ENTER_CORRECT_URL_OF_WEBSITE")," "))}function kn(i,r){if(1&i&&(t.TgZ(0,"mat-option",57),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.countryName),t.xp6(1),t.hij(" ",e.countryName," ")}}function Rn(i,r){1&i&&(t.TgZ(0,"div",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PLEASE_SELECT_CITY")," "))}function On(i,r){if(1&i&&(t.TgZ(0,"mat-option",57)(1,"span"),t._uU(2),t.qZA()()),2&i){const e=r.$implicit;t.Q6J("value",e.cityName),t.xp6(2),t.Oqu(e.cityName)}}function Mn(i,r){if(1&i&&(t.TgZ(0,"mat-option",57),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Qn(i,r){if(1&i&&(t.TgZ(0,"mat-error",58),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const e=t.oxw();t.Q6J("dir",e.langDir),t.xp6(1),t.hij(" ",t.lcZ(2,2,"SOURCE_OF_INQUIRY_IS_REQUIRED")," ")}}function Yn(i,r){if(1&i&&t._UZ(0,"app-inquiry-note",59),2&i){const e=t.oxw();t.Q6J("inquiryId",null==e.inquiry?null:e.inquiry.id)}}function jn(i,r){if(1&i&&t._UZ(0,"app-inquiry-task",59),2&i){const e=t.oxw();t.Q6J("inquiryId",null==e.inquiry?null:e.inquiry.id)}}function Jn(i,r){if(1&i&&t._UZ(0,"app-inquiry-attachment",59),2&i){const e=t.oxw();t.Q6J("inquiryId",null==e.inquiry?null:e.inquiry.id)}}let $n=(()=>{class i extends g.H{constructor(e,n,o,a,l,f,v,w,h,Q,G,Xn){super(h),this.fb=e,this.inquiryService=n,this.commonService=o,this.router=a,this.route=l,this.toastrService=f,this.productService=v,this.userService=w,this.translationService=h,this.inquiryStatusService=Q,this.inquirySourceService=G,this.dialog=Xn,this.titlePage="Inquiry",this.countries=[],this.cities=[],this.isLoading=!1,this.filterObservable$=new U.xQ,this.filterCityObservable$=new U.xQ,this.editorConfig=dt.O,this.inquiryStatuses=[],this.users=[],this.sourcesOfInquiry=[],this.selectProduct=Tt=>{this.inquieryProductArray.push(this.editInquiryProduct({productId:Tt.id,inquiryId:this.inquiry?this.inquiry.id:"",name:Tt.name})),this.inquiryForm.get("productNameInput").setValue(null)},this.getLangDir(),this.userResource=new d.q,this.userResource.pageSize=10,this.userResource.orderBy="firstName desc"}get inquieryProductArray(){return this.inquiryForm.get("inquiryProducts")}ngOnInit(){this.createInquiryForm(),this.getCountry(),this.getCityByName(),this.getInuiriesStatus(),this.getInquirySource(),this.getUsers();const e=this.route.data.subscribe(n=>{n.inquiry?(this.inquiry=n.inquiry,this.titlePage="Inquiry Detail",this.patchInquiry(),this.pushValuesInquiryProduct()):(this.titlePage="Add Inquiry",this.inquiry&&(this.createInquiryForm(),this.inquiry=null))});this.productResource=new lt.f,this.sub$.add(e),this.inquiryForm.get("productNameInput").valueChanges.pipe((0,E.b)(500),(0,L.x)(),(0,B.w)(n=>(this.productResource.name=n,this.productService.getProducts(this.productResource)))).subscribe(n=>{n&&n.headers&&(this.products=[...n.body])},n=>{})}getUsers(){this.sub$.sink=this.userService.getUsers(this.userResource).subscribe(e=>{this.users=e.body})}getCityByName(){this.sub$.sink=this.filterCityObservable$.pipe((0,E.b)(1e3),(0,F.b)(()=>this.isLoading=!0),(0,L.x)(),(0,B.w)(e=>{if(e){var n=e.split(":");return this.commonService.getCityByName(n[0],n[1]).pipe((0,F.b)(()=>{this.isLoading=!1}))}return(0,j.of)(null)}),(0,tt.x)(()=>{this.isLoading=!1})).subscribe(e=>{this.cities=[...e],this.isLoading=!1},e=>this.isLoading=!1)}patchInquiry(){this.inquiryForm.patchValue({companyName:this.inquiry.companyName,contactPerson:this.inquiry.contactPerson,email:this.inquiry.email,mobileNo:this.inquiry.mobileNo,phoneNo:this.inquiry.phone,description:this.inquiry.description,website:this.inquiry.website,address:this.inquiry.address,cityName:this.inquiry.cityName,countryName:this.inquiry.countryName,inquiryProducts:this.inquiry.inquiryProducts,message:this.inquiry.message,inquirySourceId:this.inquiry.inquirySourceId,assignTo:this.inquiry.assignTo,inquiryStatusId:this.inquiry.inquiryStatusId}),this.inquiry.countryName&&this.inquiry.cityName&&this.filterCityObservable$.next(this.inquiry.countryName+":"+this.inquiry.cityName)}createInquiryForm(){this.inquiryForm=this.fb.group({id:[""],productNameInput:[""],inquiryProducts:this.fb.array([]),companyName:["",[s.kI.required,s.kI.maxLength(500)]],contactPerson:["",s.kI.required],email:["",[s.kI.email]],mobileNo:[""],phoneNo:[""],website:["",[mt]],address:[""],cityName:[""],countryName:[""],message:[""],inquirySourceId:["",[s.kI.required]],inquiryStatusId:[null,[s.kI.required]],assignTo:[null]},{validators:[i=>{const r=i.get("email").value,e=i.get("mobileNo").value;return r||e?null:{mobileoremail:!0}}]})}getCountry(){this.sub$.sink=this.commonService.getCountry().subscribe(e=>{this.countries=e})}getInuiriesStatus(){this.sub$.sink=this.inquiryStatusService.getAll().subscribe(e=>{this.inquiryStatuses=e})}getInquirySource(){this.inquirySourceService.getAll().subscribe(e=>this.sourcesOfInquiry=e)}handleFilterCity(e){e=this.inquiryForm.get("cityName").value;const n=this.inquiryForm.get("countryName").value;e&&n&&this.filterCityObservable$.next(n+":"+e)}onCountryChange(e){this.inquiryForm.patchValue({cityName:""}),e?this.filterCityObservable$.next(e+":"):this.cities=[]}onInquiryList(){this.router.navigate(["/inquiry"])}onInquirySubmit(){if(0!=this.inquieryProductArray.length)if(this.inquiryForm.valid){this.isLoading=!0;const e=this.createBuildForm();this.sub$.sink=this.inquiry?this.inquiryService.updateInquiry(this.inquiry.id,e).subscribe(n=>{this.toastrService.success(this.translationService.getValue("INQUIRY_UPDATE_SUCCESSFULLY")),this.router.navigate(["/inquiry"])},()=>{this.isLoading=!1}):this.inquiryService.saveInquiry(e).subscribe(n=>{this.isLoading=!1,this.toastrService.success(this.translationService.getValue("INQUIRY_SAVE_SUCCESSFULLY")),this.router.navigate(["/inquiry"])},()=>{this.isLoading=!1})}else this.markFormGroupTouched(this.inquiryForm);else this.toastrService.error(this.translationService.getValue("PLEASE_SELECT_ATLEST_ONE_PRODUCT"))}markFormGroupTouched(e){Object.values(e.controls).forEach(n=>{n.markAsTouched(),n.controls&&this.markFormGroupTouched(n)})}createBuildForm(){return{id:this.inquiry?this.inquiry.id:null,companyName:this.inquiryForm.get("companyName").value,contactPerson:this.inquiryForm.get("contactPerson").value,email:this.inquiryForm.get("email").value,mobileNo:this.inquiryForm.get("mobileNo").value,phone:this.inquiryForm.get("phoneNo").value,website:this.inquiryForm.get("website").value,message:this.inquiryForm.get("message").value,countryName:this.inquiryForm.get("countryName").value,cityName:this.inquiryForm.get("cityName").value,address:this.inquiryForm.get("address").value,inquiryProducts:this.inquiryForm.get("inquiryProducts").value,inquirySourceId:this.inquiryForm.get("inquirySourceId").value,inquiryStatusId:this.inquiryForm.get("inquiryStatusId").value,assignTo:this.inquiryForm.get("assignTo").value}}editInquiryProduct(e){return this.fb.group({productId:[e.productId],name:[e.name],inquiryId:[e.inquiryId]})}pushValuesInquiryProduct(){this.inquiry.inquiryProducts&&this.inquiry.inquiryProducts.length>0&&this.inquiry.inquiryProducts.map(e=>{this.inquieryProductArray.push(this.editInquiryProduct(e))})}onAddReminder(){this.dialog.open(at,{minWidth:"800px",direction:this.langDir,data:Object.assign({},{application:_.Inquiry,referenceId:this.inquiry.id})})}removeProduct(e){this.inquieryProductArray.removeAt(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.QS),t.Y36(k.r),t.Y36(W.v),t.Y36(T.F0),t.Y36(T.gz),t.Y36(N._W),t.Y36(pt.M),t.Y36(P.K),t.Y36(y.D),t.Y36(et.o),t.Y36(it.z),t.Y36(p.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-inquiry-detail"]],features:[t.qOj],decls:143,vars:101,consts:[[1,"page-header-main"],[1,"row","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto"],[1,"content-header"],["class","col-md-auto col-sm-auto col-auto",4,"hasClaim"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-body"],["autocomplete","off",3,"formGroup","ngSubmit"],["class","loading-shade",4,"ngIf"],[1,"col-md-12"],["formControlName","productNameInput",1,"form-control",3,"placeholder","matAutocomplete"],[3,"dir"],["autoForProduct","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["formArrayName","inquiryProducts",1,"col-md-12","mb-1"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"form-group","mt-1"],[1,"text-danger"],["formControlName","inquiryStatusId",1,"form-control",3,"dir","placeholder"],[3,"value",4,"ngFor","ngForOf"],["formControlName","assignTo",1,"form-control",3,"dir","placeholder"],[1,"form-group"],["formControlName","companyName","type","text",1,"form-control"],["formControlName","contactPerson","type","text",1,"form-control"],["formControlName","email","type","text",1,"form-control"],["formControlName","mobileNo","type","text",1,"form-control"],["formControlName","phoneNo","type","text",1,"form-control"],["formControlName","website","type","text",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","address",1,"form-control"],[1,"col-md-6","mt-4"],[1,"form-row"],["formControlName","countryName",1,"form-control",3,"dir","placeholder","selectionChange"],["autocomplete","new-city","type","text","formControlName","cityName",1,"form-control",3,"placeholder","matAutocomplete","input"],["auto","matAutocomplete"],["formControlName","inquirySourceId",1,"form-control",3,"dir","placeholder"],["class","text-danger",3,"dir",4,"ngIf"],["formControlName","message",3,"config"],[1,"col-md-12","mb-1"],["type","submit",1,"btn","btn-success","btn-sm","m-right-10"],[1,"fas","fa-save"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-times-circle"],[1,"mt-2"],[3,"inquiryId",4,"ngIf"],[1,"col-md-auto","col-sm-auto","col-auto"],[1,"btn","blue-btn","btn-sm","m-right-10",3,"click"],[1,"fas","fa-plus"],[1,"loading-shade"],[3,"value","click"],[3,"formGroupName"],[1,"material-icons","cursor-pointer",3,"click"],[3,"value"],[1,"text-danger",3,"dir"],[3,"inquiryId"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.YNc(7,gn,5,3,"div",4),t.qZA()(),t.TgZ(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",9)(15,"form",10),t.NdJ("ngSubmit",function(){return n.onInquirySubmit()}),t.YNc(16,qn,2,1,"div",11),t.TgZ(17,"div",5)(18,"div",12),t._UZ(19,"input",13),t.ALo(20,"translate"),t.TgZ(21,"mat-autocomplete",14,15),t.YNc(23,vn,3,2,"mat-option",16),t.qZA()(),t.TgZ(24,"div",17),t.YNc(25,Tn,3,3,"span",18),t._UZ(26,"br"),t.TgZ(27,"mat-chip-list",14),t.YNc(28,An,6,2,"mat-chip",19),t.qZA()(),t.TgZ(29,"div",20)(30,"div",21)(31,"label",22),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"mat-select",23),t.ALo(35,"translate"),t.YNc(36,Cn,2,2,"mat-option",24),t.qZA(),t.YNc(37,In,2,1,"div",18),t.qZA()(),t.TgZ(38,"div",20)(39,"div",21)(40,"label"),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"mat-select",25),t.ALo(44,"translate"),t.YNc(45,bn,2,3,"mat-option",24),t.qZA()()(),t.TgZ(46,"div",20)(47,"div",26)(48,"label",22),t._uU(49),t.ALo(50,"translate"),t.qZA(),t._UZ(51,"input",27),t.YNc(52,Sn,2,1,"div",18),t.qZA()(),t.TgZ(53,"div",20)(54,"div",26)(55,"label",22),t._uU(56),t.ALo(57,"translate"),t.qZA(),t._UZ(58,"input",28),t.YNc(59,Dn,2,1,"div",18),t.qZA()(),t.TgZ(60,"div",20)(61,"div",26)(62,"label"),t._uU(63),t.ALo(64,"translate"),t.qZA(),t._UZ(65,"input",29),t.YNc(66,Un,2,1,"div",18),t.YNc(67,Ln,2,1,"div",18),t.qZA()(),t.TgZ(68,"div",20)(69,"div",26)(70,"label"),t._uU(71),t.ALo(72,"translate"),t.qZA(),t._UZ(73,"input",30),t.qZA()(),t.TgZ(74,"div",20)(75,"div",26)(76,"label"),t._uU(77),t.ALo(78,"translate"),t.qZA(),t._UZ(79,"input",31),t.qZA()(),t.TgZ(80,"div",20)(81,"div",26)(82,"label"),t._uU(83),t.ALo(84,"translate"),t.qZA(),t._UZ(85,"input",32),t.YNc(86,Fn,3,3,"div",33),t.qZA()(),t.TgZ(87,"div",12)(88,"div",5)(89,"div",20)(90,"div",26)(91,"label"),t._uU(92),t.ALo(93,"translate"),t.qZA(),t._UZ(94,"textarea",34),t.qZA()(),t.TgZ(95,"div",35)(96,"div",36)(97,"div",20)(98,"label"),t._uU(99),t.ALo(100,"translate"),t.qZA(),t.TgZ(101,"mat-select",37),t.NdJ("selectionChange",function(a){return n.onCountryChange(a)}),t.ALo(102,"translate"),t.YNc(103,kn,2,2,"mat-option",24),t.qZA()(),t.TgZ(104,"div",20)(105,"label",22),t._uU(106),t.ALo(107,"translate"),t.qZA(),t.TgZ(108,"input",38),t.NdJ("input",function(a){return n.handleFilterCity(a)}),t.ALo(109,"translate"),t.qZA(),t.YNc(110,Rn,3,3,"div",33),t.TgZ(111,"mat-autocomplete",14,39),t.YNc(113,On,3,2,"mat-option",24),t.qZA()()()()()(),t.TgZ(114,"div",20)(115,"label",22),t._uU(116),t.ALo(117,"translate"),t.qZA(),t.TgZ(118,"mat-select",40),t.ALo(119,"translate"),t.YNc(120,Mn,2,2,"mat-option",24),t.qZA(),t.YNc(121,Qn,3,4,"mat-error",41),t.qZA(),t.TgZ(122,"div",6)(123,"div",26)(124,"label"),t._uU(125),t.ALo(126,"translate"),t.qZA(),t._UZ(127,"angular-editor",42),t.qZA()(),t.TgZ(128,"div",43)(129,"button",44),t._UZ(130,"i",45),t._uU(131),t.ALo(132,"translate"),t.qZA(),t.TgZ(133,"button",46),t.NdJ("click",function(){return n.onInquiryList()}),t._UZ(134,"i",47),t._uU(135),t.ALo(136,"translate"),t.qZA()()()()()()()(),t.TgZ(137,"div",48),t.YNc(138,Yn,1,1,"app-inquiry-note",49),t.qZA(),t.TgZ(139,"div",48),t.YNc(140,jn,1,1,"app-inquiry-task",49),t.qZA(),t.TgZ(141,"div",48),t.YNc(142,Jn,1,1,"app-inquiry-attachment",49),t.qZA()),2&e){const o=t.MAs(22),a=t.MAs(112);t.xp6(5),t.Oqu(t.lcZ(6,55,"MANAGE_INQUIRY")),t.xp6(2),t.Q6J("hasClaim","inquiry_manage_reminders"),t.xp6(5),t.hij(" ",t.lcZ(13,57,"DETAIL")," "),t.xp6(3),t.Q6J("formGroup",n.inquiryForm),t.xp6(1),t.Q6J("ngIf",n.isLoading),t.xp6(3),t.s9C("placeholder",t.lcZ(20,59,"SELECT_PRODUCT")),t.Q6J("matAutocomplete",o),t.xp6(2),t.Q6J("dir",n.langDir),t.xp6(2),t.Q6J("ngForOf",n.products),t.xp6(2),t.Q6J("ngIf",n.inquieryProductArray.controls.length),t.xp6(2),t.Q6J("dir",n.langDir),t.xp6(1),t.Q6J("ngForOf",n.inquieryProductArray.controls),t.xp6(4),t.hij("",t.lcZ(33,61,"INQUIRY_STATUS")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(35,63,"SELECT_STATUS")),t.Q6J("dir",n.langDir),t.xp6(2),t.Q6J("ngForOf",n.inquiryStatuses),t.xp6(1),t.Q6J("ngIf",n.inquiryForm.get("inquiryStatusId").touched&&n.inquiryForm.get("inquiryStatusId").errors),t.xp6(4),t.Oqu(t.lcZ(42,65,"ASSIGN_TO")),t.xp6(2),t.s9C("placeholder",t.lcZ(44,67,"SELECT_USER")),t.Q6J("dir",n.langDir),t.xp6(2),t.Q6J("ngForOf",n.users),t.xp6(4),t.hij("",t.lcZ(50,69,"ORGANIZATION")," *"),t.xp6(3),t.Q6J("ngIf",n.inquiryForm.get("companyName").touched&&n.inquiryForm.get("companyName").errors),t.xp6(4),t.hij("",t.lcZ(57,71,"CONTACT_PERSON")," *"),t.xp6(3),t.Q6J("ngIf",n.inquiryForm.get("contactPerson").touched&&n.inquiryForm.get("contactPerson").errors),t.xp6(4),t.hij("",t.lcZ(64,73,"EMAIL")," "),t.xp6(3),t.Q6J("ngIf",n.inquiryForm.get("email").touched&&n.inquiryForm.get("email").errors),t.xp6(1),t.Q6J("ngIf",n.inquiryForm.get("mobileNo").touched||n.inquiryForm.get("email").touched),t.xp6(4),t.hij("",t.lcZ(72,75,"MOBILE_NO")," "),t.xp6(6),t.Oqu(t.lcZ(78,77,"PHONE_NUMBER")),t.xp6(6),t.Oqu(t.lcZ(84,79,"WEBSITE")),t.xp6(3),t.Q6J("ngIf",n.inquiryForm.get("website").touched&&(null==n.inquiryForm.get("website").errors?null:n.inquiryForm.get("website").errors.valid_url)),t.xp6(6),t.Oqu(t.lcZ(93,81,"ADDRESS")),t.xp6(7),t.Oqu(t.lcZ(100,83,"SELECT_COUNTRY")),t.xp6(2),t.s9C("placeholder",t.lcZ(102,85,"SEARCH_COUNTRY")),t.Q6J("dir",n.langDir),t.xp6(2),t.Q6J("ngForOf",n.countries),t.xp6(3),t.hij("",t.lcZ(107,87,"SELECT_CITY")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(109,89,"SEARCH_CITY")),t.Q6J("matAutocomplete",a),t.xp6(2),t.Q6J("ngIf",n.inquiryForm.get("cityName").touched&&(null==n.inquiryForm.get("cityName").errors?null:n.inquiryForm.get("cityName").errors.required)),t.xp6(1),t.Q6J("dir",n.langDir),t.xp6(2),t.Q6J("ngForOf",n.cities),t.xp6(3),t.hij("",t.lcZ(117,91,"SOURCE_OF_INQUIRY")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(119,93,"SELECT_SOURCE")),t.Q6J("dir",n.langDir),t.xp6(2),t.Q6J("ngForOf",n.sourcesOfInquiry),t.xp6(1),t.Q6J("ngIf",n.inquiryForm.get("inquirySourceId").touched&&(null==n.inquiryForm.get("inquirySourceId").errors?null:n.inquiryForm.get("inquirySourceId").errors.required)),t.xp6(4),t.hij(" ",t.lcZ(126,95,"MESSAGE")," "),t.xp6(2),t.Q6J("config",n.editorConfig),t.xp6(4),t.hij(" ",t.lcZ(132,97,"SAVE"),""),t.xp6(4),t.hij(" ",t.lcZ(136,99,"CANCEL")," "),t.xp6(3),t.Q6J("ngIf",null==n.inquiry?null:n.inquiry.id),t.xp6(2),t.Q6J("ngIf",null==n.inquiry?null:n.inquiry.id),t.xp6(2),t.Q6J("ngIf",null==n.inquiry?null:n.inquiry.id)}},dependencies:[m.sg,m.O5,st.d,b.Lv,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,s.x0,s.CE,D.TO,O.XC,O.ZL,Z.ey,M.qn,M.HS,R.Ou,x.gD,nt.s6,Oi,mn,fn,q.X$]}),i})();var rt=c(319);const Bn=[{path:"",component:ai,data:{claimType:"INQ_VIEW_INQUIRIES"},canActivate:[rt.a]},{path:"add",component:wi,data:{claimType:"INQ_ADD_INQUIRY"},canActivate:[rt.a]},{path:"manage/:id",component:$n,resolve:{inquiry:_t},data:{claimType:"INQ_UPDATE_INQUIRY"},canActivate:[rt.a]}];let Hn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[T.Bz.forChild(Bn),T.Bz]}),i})();var Vn=c(9224),vt=c(9071);c(1777);let zn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[m.ez,Z.BQ,vt.ZD,vt.ZD,Z.BQ]}),i})();var Wn=c(7108);let Kn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[_t],imports:[m.ez,Z.XK,Wn.m,s.u5,Hn,s.UX,D.lN,gt.c,O.Bb,M.Hi,R.Cq,x.LD,nt.UM,Vn.QW,C.TU,I.JX,u.p0,$.Tx,p.Is,zn,V.FA,ct.Ps,ut.ot,ht.t]}),i})()},5528:(ot,S,c)=>{c.d(S,{M:()=>I});var m=c(520),C=c(5e3);let I=(()=>{class _{constructor(d){this.http=d}getProducts(d){const p=(new m.LE).set("fields",d.fields).set("orderBy",d.orderBy).set("pageSize",d.pageSize.toString()).set("skip",d.skip.toString()).set("searchQuery",d.searchQuery).set("name",d.name).set("id",d.id).set("categoryId",d.categoryId?d.categoryId:"").set("unitId",d.unitId?d.unitId:"").set("barcode",d.barcode?d.barcode:"").set("brandId",d.brandId);return this.http.get("product",{params:p,observe:"response"})}getProudct(d){return this.http.get(`product/${d}`)}addProudct(d){return this.http.post("product",d)}updateProudct(d,s){return this.http.put(`product/${d}`,s)}deleteProudct(d){return this.http.delete(`product/${d}`)}}return _.\u0275fac=function(d){return new(d||_)(C.LFG(m.eN))},_.\u0275prov=C.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()}}]);
"use strict";(self.webpackChunkposadminportal=self.webpackChunkposadminportal||[]).push([[295],{796:(D,h,s)=>{s.d(h,{f:()=>u});var d=s(5519);class u extends d.r{constructor(){super(...arguments),this.name="",this.unitId="",this.barcode="",this.categoryId="",this.brandId="",this.id=""}}},5519:(D,h,s)=>{s.d(h,{r:()=>d});class d{constructor(){this.fields="",this.orderBy="",this.searchQuery="",this.pageSize=30,this.skip=0,this.name="",this.totalCount=0}}},708:(D,h,s)=>{s.d(h,{e:()=>S});var d=s(5519),u=s(2);class S extends d.r{constructor(){super(...arguments),this.orderNumber="",this.customerName="",this.customerId="",this.isSalesOrderRequest=!1,this.status=u.q.All}}},2:(D,h,s)=>{s.d(h,{q:()=>d});var d=(()=>{return(u=d||(d={}))[u.Not_Return=0]="Not_Return",u[u.Return=1]="Return",u[u.All=2]="All",d;var u})()},1781:(D,h,s)=>{s.d(h,{v:()=>p});var d=s(1086),u=s(520),S=s(5e3);let p=(()=>{class m{constructor(a){this.http=a}getCustomers(a){const c=(new u.LE).set("fields",a.fields).set("orderBy",a.orderBy).set("pageSize",a.pageSize.toString()).set("skip",a.skip.toString()).set("searchQuery",a.searchQuery).set("customerName",a.customerName).set("mobileNo",a.mobileNo).set("phoneNo",a.phoneNo).set("email",a.email).set("contactPerson",a.contactPerson).set("website",a.website);return this.http.get("customer",{params:c,observe:"response"})}getCustomersForDropDown(a,o){if(o&&a){let g=`?searchQuery=${o.trim()}&searchBy=${a}&pageSize=10`;return this.http.get("customer/search"+g)}return(0,d.of)([])}getWalkInCustomer(){return this.http.get("customer/walkIn")}getCustomer(a){return this.http.get("customer/"+a)}deleteCustomer(a){return this.http.delete("customer/"+a)}updateCustomer(a,o){return this.http.put("customer/"+a,o)}saveCustomer(a){return this.http.post("customer",a)}checkEmailOrPhoneExist(a,o,c){return this.http.get(`customer/${c}/Exist?email=${a}&mobileNo=${o}`)}getCustomerPayments(a){const c=(new u.LE).set("Fields",a.fields).set("OrderBy",a.orderBy).set("PageSize",a.pageSize.toString()).set("Skip",a.skip.toString()).set("SearchQuery",a.searchQuery).set("customerName",a.customerName);return this.http.get("customer/GetCustomerPayment",{params:c,observe:"response"})}getCustomerPaymentsReport(a){const c=(new u.LE).set("Fields",a.fields).set("OrderBy",a.orderBy).set("PageSize",a.pageSize.toString()).set("Skip",a.skip.toString()).set("SearchQuery",a.searchQuery).set("customerName",a.customerName);return this.http.get("customer/GetCustomerPayment/report",{params:c,observe:"response"})}}return m.\u0275fac=function(a){return new(a||m)(S.LFG(u.eN))},m.\u0275prov=S.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},5528:(D,h,s)=>{s.d(h,{M:()=>S});var d=s(520),u=s(5e3);let S=(()=>{class p{constructor(i){this.http=i}getProducts(i){const o=(new d.LE).set("fields",i.fields).set("orderBy",i.orderBy).set("pageSize",i.pageSize.toString()).set("skip",i.skip.toString()).set("searchQuery",i.searchQuery).set("name",i.name).set("id",i.id).set("categoryId",i.categoryId?i.categoryId:"").set("unitId",i.unitId?i.unitId:"").set("barcode",i.barcode?i.barcode:"").set("brandId",i.brandId);return this.http.get("product",{params:o,observe:"response"})}getProudct(i){return this.http.get(`product/${i}`)}addProudct(i){return this.http.post("product",i)}updateProudct(i,a){return this.http.put(`product/${i}`,a)}deleteProudct(i){return this.http.delete(`product/${i}`)}}return p.\u0275fac=function(i){return new(i||p)(u.LFG(d.eN))},p.\u0275prov=u.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},295:(D,h,s)=>{s.r(h),s.d(h,{ProductSalesReportModule:()=>Kt});var d=s(9808),u=s(2554),S=s(319),p=s(1777),m=s(3075),i=s(6087),a=s(4847),o=s(796),c=s(8287),g=s(8708),C=s(8017),L=s(8929),I=s(6787),x=s(13),y=s(5778),E=s(7545),B=s(2868),F=s(1490),O=s(574),Z=s(591),Q=s(2654),Y=s(1086),$=s(7221),M=s(537);class j{constructor(n){this.salesOrderService=n,this._customerPaymentSubject$=new Z.X([]),this._responseHeaderSubject$=new Z.X(null),this.loadingSubject=new Z.X(!1),this.loading$=this.loadingSubject.asObservable(),this._count=0,this.responseHeaderSubject$=this._responseHeaderSubject$.asObservable()}get count(){return this._count}connect(){return this.sub$=new Q.w,this._customerPaymentSubject$.asObservable()}disconnect(){this._customerPaymentSubject$.complete(),this.loadingSubject.complete(),this.sub$.unsubscribe()}loadData(n){this.loadingSubject.next(!0),this.sub$=this.salesOrderService.getSalesOrderItemReport(n).pipe((0,$.K)(()=>(0,Y.of)([])),(0,M.x)(()=>this.loadingSubject.next(!1))).subscribe(r=>{if(r&&r.headers){const l=JSON.parse(r.headers.get("X-Pagination"));this._responseHeaderSubject$.next(l);const f=[...r.body];this._count=f.length,this._customerPaymentSubject$.next(f)}})}}var z=s(708),V=s(2989),t=s(5e3),J=s(2679),w=s(1781),H=s(5485),K=s(2290),G=s(6107),W=s(2349),X=s(8265),k=s(5528),q=s(226),T=s(2075),b=s(4107),P=s(508),A=s(1122),U=s(4834),tt=s(1062);function et(e,n){if(1&e&&(t.TgZ(0,"mat-option",52),t._uU(1),t.qZA()),2&e){const r=n.$implicit,l=t.oxw();t.Q6J("dir",l.langDir)("value",r.id),t.xp6(1),t.hij(" ",r.name," ")}}function ot(e,n){1&e&&(t.TgZ(0,"mat-option",53),t._uU(1," No Records "),t.qZA())}function rt(e,n){1&e&&(t.TgZ(0,"div",55),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DATE_RANGE_VALIDATION_MSG")," "))}function st(e,n){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,rt,3,3,"div",54),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",null==r.searchForm.errors?null:r.searchForm.errors.dateRange)}}function at(e,n){1&e&&(t.TgZ(0,"th",56),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"PRODUCT_NAME")))}function nt(e,n){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&e){const r=n.$implicit;t.xp6(1),t.hij(" ",r.productName," ")}}function it(e,n){1&e&&(t.TgZ(0,"th",56),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ORDER_NUMBER")))}const ct=function(e){return["/sales-order/detail",e]};function lt(e,n){if(1&e&&(t.TgZ(0,"td",57)(1,"a",58),t._uU(2),t.qZA()()),2&e){const r=n.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(2,ct,r.salesOrderId)),t.xp6(1),t.hij("",r.salesOrderNumber," ")}}function ut(e,n){1&e&&(t.TgZ(0,"th",56),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CUSTOMER")))}function dt(e,n){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&e){const r=n.$implicit;t.xp6(1),t.hij(" ",r.customerName," ")}}function mt(e,n){1&e&&(t.TgZ(0,"th",56),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"SALES_DATE")))}function pt(e,n){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.ALo(2,"utcToLocalTime"),t.qZA()),2&e){const r=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,r.soCreatedDate,"shortDate")," ")}}function ht(e,n){1&e&&(t.TgZ(0,"th",59),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"UNIT")," "))}function gt(e,n){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&e){const r=n.$implicit;t.xp6(1),t.hij(" ",r.unitName," ")}}function ft(e,n){1&e&&(t.TgZ(0,"th",59),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"UNIT_PER_PRICE")," "))}function St(e,n){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&e){const r=n.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,r.unitPrice)," ")}}function Tt(e,n){1&e&&(t.TgZ(0,"th",59),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"QUANTITY")," "))}function vt(e,n){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&e){const r=n.$implicit;t.xp6(1),t.hij(" ",1===r.status?-1*r.quantity:r.quantity," ")}}function Rt(e,n){1&e&&(t.TgZ(0,"th",59),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL_DISCOUNT")," "))}function Dt(e,n){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&e){const r=n.$implicit;t.xp6(1),t.AsE(" ",t.lcZ(2,2,r.discount),"(",r.discountPercentage,"%) ")}}function Ct(e,n){1&e&&(t.TgZ(0,"th",59),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TAX")," "))}function Ot(e,n){1&e&&(t.TgZ(0,"span"),t._uU(1," ,"),t.qZA())}function At(e,n){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,Ot,2,0,"span",29),t.qZA()),2&e){const r=n.$implicit,l=n.last;t.xp6(1),t.AsE(" ",r.taxName,"(",r.taxPercentage,"%) "),t.xp6(1),t.Q6J("ngIf",!l)}}function Nt(e,n){if(1&e&&(t.TgZ(0,"td",57),t.YNc(1,At,3,3,"span",60),t.qZA()),2&e){const r=n.$implicit;t.xp6(1),t.Q6J("ngForOf",r.salesOrderItemTaxes)}}function xt(e,n){1&e&&(t.TgZ(0,"th",59),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL_TAX"),""))}function yt(e,n){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&e){const r=n.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,r.taxValue)," ")}}function Zt(e,n){1&e&&(t.TgZ(0,"th",59),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TOTAL")," "))}function _t(e,n){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.ALo(2,"customCurrency"),t.qZA()),2&e){const r=n.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,r.unitPrice*r.quantity-r.discount+r.taxValue)," ")}}const Et=function(){return[10,20,30]};function bt(e,n){if(1&e&&(t.TgZ(0,"td",61),t._UZ(1,"mat-paginator",62),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.Q6J("dir",r.langDir)("length",r.salesOrderResource.totalCount)("pageSize",r.salesOrderResource.pageSize)("pageSizeOptions",t.DdM(4,Et))}}function Pt(e,n){1&e&&(t.TgZ(0,"tr")(1,"td",63)(2,"span",64)(3,"b"),t._uU(4),t.ALo(5,"translate"),t.qZA()()()()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"NO_DATA_FOUND"),""))}function Ut(e,n){1&e&&t._UZ(0,"tr",65)}function Lt(e,n){1&e&&t._UZ(0,"tr",66),2&e&&t.ekj("bg-warning1",1===n.$implicit.status)}function It(e,n){1&e&&t._UZ(0,"tr",67)}const Bt=[{path:"",component:(()=>{class e extends F.H{constructor(r,l,f,R,_,v,N,Gt,Wt,Xt,kt,qt,te){super(N),this.salesOrderService=r,this.customerService=l,this.cd=f,this.commonDialogService=R,this.toastrService=_,this.router=v,this.translationService=N,this.dialog=Gt,this.clonerService=Wt,this.fb=Xt,this.productService=kt,this.utcToLocalTime=qt,this.customCurrencyPipe=te,this.salesOrderItems=[],this.displayedColumns=["productName","salesOrderNumber","customerName","sOCreatedDate","unitName","unitPrice","quantity","totalDiscount","taxes","totalTax","totalAmount"],this.footerToDisplayed=["footer"],this.isLoadingResults=!0,this.customerNameControl=new m.p4,this.currentDate=new Date,this.products=[],this.filterObservable$=new L.xQ,this.getLangDir(),this.productResource=new o.f,this.salesOrderResource=new z.e,this.salesOrderResource.pageSize=50,this.salesOrderResource.orderBy="soCreatedDate asc",this.salesOrderResource.isSalesOrderRequest=!1}get CustomerFilter(){return this._customerFilter}set CustomerFilter(r){this._customerFilter=r,this.filterObservable$.next(`customerName:${r}`)}get OrderNumberFilter(){return this._orderNumberFilter}set OrderNumberFilter(r){this._orderNumberFilter=r,this.filterObservable$.next(`orderNumber:${r}`)}ngOnInit(){this.customerNameControlOnChange(),this.createSearchFormGroup(),this.getProducts(),this.getProductByNameValue(),this.dataSource=new j(this.salesOrderService),this.dataSource.loadData(this.salesOrderResource),this.getResourceParameter(),this.sub$.sink=this.filterObservable$.pipe((0,x.b)(1e3),(0,y.x)()).subscribe(r=>{this.salesOrderResource.skip=0,this.paginator.pageIndex=0;const l=r.split(":");"customerName"===l[0]?this.salesOrderResource.customerName=l[1]:"orderNumber"===l[0]&&(this.salesOrderResource.orderNumber=l[1]),this.dataSource.loadData(this.salesOrderResource)})}createSearchFormGroup(){this.searchForm=this.fb.group({fromDate:[""],toDate:[""],filterProductValue:[""],productId:[""]},{validators:(0,c.L)()})}onSearch(){this.searchForm.valid&&(this.salesOrderResource.fromDate=this.searchForm.get("fromDate").value,this.salesOrderResource.toDate=this.searchForm.get("toDate").value,this.salesOrderResource.productId=this.searchForm.get("productId").value,this.dataSource.loadData(this.salesOrderResource))}onClear(){this.searchForm.reset(),this.salesOrderResource.fromDate=this.searchForm.get("fromDate").value,this.salesOrderResource.toDate=this.searchForm.get("toDate").value,this.salesOrderResource.productId=this.searchForm.get("productId").value,this.dataSource.loadData(this.salesOrderResource)}getProductByNameValue(){this.sub$.sink=this.searchForm.get("filterProductValue").valueChanges.pipe((0,x.b)(500),(0,y.x)(),(0,E.w)(r=>(this.productResource.name=r,this.productService.getProducts(this.productResource)))).subscribe(r=>{r&&r.headers&&(this.products=[...r.body])},r=>{})}getProducts(){return this.productResource.name="",this.productService.getProducts(this.productResource).subscribe(r=>{r&&r.headers&&(this.products=[...r.body])},r=>{})}customerNameControlOnChange(){this.customerList$=this.customerNameControl.valueChanges.pipe((0,x.b)(1e3),(0,y.x)(),(0,E.w)(r=>this.customerService.getCustomersForDropDown("CustomerName",r)))}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.sub$.sink=(0,I.T)(this.sort.sortChange,this.paginator.page).pipe((0,B.b)(r=>{this.salesOrderResource.skip=this.paginator.pageIndex*this.paginator.pageSize,this.salesOrderResource.pageSize=this.paginator.pageSize,this.salesOrderResource.orderBy=this.sort.active+" "+this.sort.direction,this.dataSource.loadData(this.salesOrderResource)})).subscribe()}getResourceParameter(){this.sub$.sink=this.dataSource.responseHeaderSubject$.subscribe(r=>{r&&(this.salesOrderResource.pageSize=r.pageSize,this.salesOrderResource.skip=r.skip,this.salesOrderResource.totalCount=r.totalCount)})}onDownloadReport(){this.salesOrderService.getSalesOrderItemReport(this.salesOrderResource).subscribe(r=>{this.salesOrderItems=[...r.body];let l=[[this.translationService.getValue("PRODUCT_NAME"),this.translationService.getValue("ORDER_NUMBER"),this.translationService.getValue("CUSTOMER"),this.translationService.getValue("SALES_DATE"),this.translationService.getValue("UNIT"),this.translationService.getValue("UNIT_PER_PRICE"),this.translationService.getValue("QUANTITY"),this.translationService.getValue("TOTAL_DISCOUNT"),this.translationService.getValue("TAX"),this.translationService.getValue("TOTAL_TAX"),this.translationService.getValue("TOTAL")]],f=[];this.salesOrderItems.forEach(v=>{f.push({PRODUCT_NAME:v.productName,ORDER_NUMBER:v.salesOrderNumber,CUSTOMER:v.customerName,SALES_DATE:this.utcToLocalTime.transform(v.soCreatedDate,"shortDate"),UNIT:v.unitName,UNIT_PER_PRICE:this.customCurrencyPipe.transform(v.unitPrice),QUANTITY:v.quantity,TOTAL_DISCOUNT:this.customCurrencyPipe.transform(v.discount),TAX:v.salesOrderItemTaxes.map(N=>N.taxName+"("+N.taxPercentage+" %)"),TOTAL_TAX:this.customCurrencyPipe.transform(v.taxValue),TOTAL:this.customCurrencyPipe.transform(v.unitPrice*v.quantity-v.discount+v.taxValue)})});let R=O.P6.book_new();O.P6.sheet_add_aoa(R,l);let _=O.P6.sheet_add_json(R,f,{origin:"A2",skipHeader:!0});O.P6.book_append_sheet(R,_,this.translationService.getValue("PRODUCT_SALES_REPORT")),O.NC(R,this.translationService.getValue("PRODUCT_SALES_REPORT")+".xlsx")})}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(J.V),t.Y36(w.v),t.Y36(t.sBO),t.Y36(H.V),t.Y36(K._W),t.Y36(u.F0),t.Y36(G.D),t.Y36(W.uw),t.Y36(X.$),t.Y36(m.QS),t.Y36(k.M),t.Y36(C.M),t.Y36(g.R))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-sales-report"]],viewQuery:function(r,l){if(1&r&&(t.Gf(i.NW,5),t.Gf(a.YE,5)),2&r){let f;t.iGM(f=t.CRH())&&(l.paginator=f.first),t.iGM(f=t.CRH())&&(l.sort=f.first)}},features:[t._Bn([C.M,g.R,V.r]),t.qOj],decls:98,vars:52,consts:[[1,"page-header-main"],[1,"row","align-items-center"],[1,"col-md-auto","col-sm-auto"],[1,"content-header"],[1,"row"],[1,"col-sm-12","mb-3"],[3,"formGroup"],[1,"col-md-2"],[1,"form-group"],["for","fromDate"],["id","fromDate","formControlName","fromDate",1,"form-control",3,"max","owlDateTimeTrigger","owlDateTime","placeholder"],[3,"pickerType"],["fromDate",""],["for","toDate"],["id","toDate","formControlName","toDate",1,"form-control",3,"max","owlDateTimeTrigger","owlDateTime","placeholder"],["toDate",""],[1,"col-md-3"],["formControlName","productId",1,"form-control",3,"dir","placeholder"],["formControlName","filterProductValue","focused","'true'","type","text","autocomplete","off",1,"form-control","w-100",3,"placeholder"],[3,"dir","value",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],[1,"col-md-5","report-tool-bar"],["type","submit",1,"btn","btn-primary","btn-sm","m-right-10",3,"click"],[1,"fas","fa-search"],["type","submit",1,"btn","btn-danger","btn-sm","m-right-10",3,"click"],[1,"fas","fa-eraser"],["type","submit",1,"btn","btn-warning","btn-sm","m-right-10",3,"click"],[1,"fas","fa-download"],[1,"col-sm-12"],[4,"ngIf"],[1,"table-responsive"],["mat-table","","matSort","","matSortActive","soCreatedDate","matSortDirection","asc",1,"table","table-bordered","table-hover",3,"dataSource"],["matColumnDef","productName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","salesOrderNumber"],["matColumnDef","customerName"],["matColumnDef","sOCreatedDate"],["matColumnDef","unitName"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","unitPrice"],["matColumnDef","quantity"],["matColumnDef","totalDiscount"],["matColumnDef","taxes"],["matColumnDef","totalTax"],["matColumnDef","totalAmount"],["matColumnDef","footer"],["mat-footer-cell","","colspan","12",4,"matFooterCellDef"],[4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"bg-warning1",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],[3,"dir","value"],[3,"value"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"routerLink"],["mat-header-cell",""],[4,"ngFor","ngForOf"],["mat-footer-cell","","colspan","12"],[3,"dir","length","pageSize","pageSizeOptions"],["colspan","9"],[1,"p-4","mt-4"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(r,l){if(1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),t._uU(5),t.ALo(6,"translate"),t.qZA()()()()(),t.TgZ(7,"div",4)(8,"div",5)(9,"form",6)(10,"div",4)(11,"div",7)(12,"div",8)(13,"label",9),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._UZ(16,"input",10),t.ALo(17,"translate"),t._UZ(18,"owl-date-time",11,12),t.qZA()(),t.TgZ(20,"div",7)(21,"div",8)(22,"label",13),t._uU(23),t.ALo(24,"translate"),t.qZA(),t._UZ(25,"input",14),t.ALo(26,"translate"),t._UZ(27,"owl-date-time",11,15),t.qZA()(),t.TgZ(29,"div",16)(30,"div",8)(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"mat-select",17),t.ALo(35,"translate"),t._UZ(36,"input",18),t.ALo(37,"translate"),t._UZ(38,"mat-divider"),t.YNc(39,et,2,3,"mat-option",19),t.YNc(40,ot,2,0,"mat-option",20),t.qZA()()(),t.TgZ(41,"div",21)(42,"button",22),t.NdJ("click",function(){return l.onSearch()}),t._UZ(43,"i",23),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"button",24),t.NdJ("click",function(){return l.onClear()}),t._UZ(47,"i",25),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"button",26),t.NdJ("click",function(){return l.onDownloadReport()}),t._UZ(51,"i",27),t._uU(52),t.ALo(53,"translate"),t.qZA()()(),t.TgZ(54,"div",4)(55,"div",28),t.YNc(56,st,2,1,"div",29),t.qZA()()()()(),t.TgZ(57,"div",30)(58,"table",31),t.ynx(59,32),t.YNc(60,at,3,3,"th",33),t.YNc(61,nt,2,1,"td",34),t.BQk(),t.ynx(62,35),t.YNc(63,it,3,3,"th",33),t.YNc(64,lt,3,4,"td",34),t.BQk(),t.ynx(65,36),t.YNc(66,ut,3,3,"th",33),t.YNc(67,dt,2,1,"td",34),t.BQk(),t.ynx(68,37),t.YNc(69,mt,3,3,"th",33),t.YNc(70,pt,3,4,"td",34),t.BQk(),t.ynx(71,38),t.YNc(72,ht,3,3,"th",39),t.YNc(73,gt,2,1,"td",34),t.BQk(),t.ynx(74,40),t.YNc(75,ft,3,3,"th",39),t.YNc(76,St,3,3,"td",34),t.BQk(),t.ynx(77,41),t.YNc(78,Tt,3,3,"th",39),t.YNc(79,vt,2,1,"td",34),t.BQk(),t.ynx(80,42),t.YNc(81,Rt,3,3,"th",39),t.YNc(82,Dt,3,4,"td",34),t.BQk(),t.ynx(83,43),t.YNc(84,Ct,3,3,"th",39),t.YNc(85,Nt,2,1,"td",34),t.BQk(),t.ynx(86,44),t.YNc(87,xt,3,3,"th",39),t.YNc(88,yt,3,3,"td",34),t.BQk(),t.ynx(89,45),t.YNc(90,Zt,3,3,"th",39),t.YNc(91,_t,3,3,"td",34),t.BQk(),t.ynx(92,46),t.YNc(93,bt,2,5,"td",47),t.BQk(),t.YNc(94,Pt,6,3,"tr",48),t.YNc(95,Ut,1,0,"tr",49),t.YNc(96,Lt,1,2,"tr",50),t.YNc(97,It,1,0,"tr",51),t.qZA()()),2&r){const f=t.MAs(19),R=t.MAs(28);t.xp6(5),t.Oqu(t.lcZ(6,30,"PRODUCT_SALES_REPORT")),t.xp6(4),t.Q6J("formGroup",l.searchForm),t.xp6(5),t.hij("",t.lcZ(15,32,"FROM_DATE")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(17,34,"FROM_DATE")),t.Q6J("max",l.currentDate)("owlDateTimeTrigger",f)("owlDateTime",f),t.xp6(2),t.Q6J("pickerType","calendar"),t.xp6(5),t.hij("",t.lcZ(24,36,"TO_DATE")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(26,38,"TO_DATE")),t.Q6J("max",l.currentDate)("owlDateTimeTrigger",R)("owlDateTime",R),t.xp6(2),t.Q6J("pickerType","calendar"),t.xp6(5),t.hij("",t.lcZ(33,40,"SELECT_PRODUCT")," "),t.xp6(2),t.MGl("placeholder","",t.lcZ(35,42,"SELECT_PRODUCT")," "),t.Q6J("dir",l.langDir),t.xp6(2),t.s9C("placeholder",t.lcZ(37,44,"SEARCH_OTHER_PRODUCTS")),t.xp6(3),t.Q6J("ngForOf",l.products),t.xp6(1),t.Q6J("ngIf",0==l.products.length),t.xp6(4),t.hij(" ",t.lcZ(45,46,"SEARCH")," "),t.xp6(4),t.hij(" ",t.lcZ(49,48,"CLEAR")," "),t.xp6(4),t.hij(" ",t.lcZ(53,50,"DOWNLOAD_REPORT")," "),t.xp6(4),t.Q6J("ngIf",l.searchForm.errors),t.xp6(2),t.Q6J("dataSource",l.dataSource),t.xp6(37),t.Q6J("matHeaderRowDef",l.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",l.displayedColumns),t.xp6(1),t.Q6J("matFooterRowDef",l.footerToDisplayed)("matFooterRowDefSticky",!0)}},dependencies:[d.sg,d.O5,u.yS,m._Y,m.Fj,m.JJ,m.JL,q.Lv,T.BZ,T.fO,T.as,T.w1,T.Dz,T.nj,T.mD,T.Ke,T.ge,T.ev,T.yh,T.XQ,T.Gk,T.Q2,T.Ee,i.NW,a.YE,a.nU,b.gD,P.ey,A.sZ,A.BO,A.hV,U.d,m.sg,m.u,g.R,C.M,tt.X$],data:{animation:[(0,p.X$)("detailExpand",[(0,p.SB)("collapsed",(0,p.oB)({height:"0px",minHeight:"0"})),(0,p.SB)("expanded",(0,p.oB)({height:"*"})),(0,p.eR)("expanded <=> collapsed",(0,p.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),e})(),data:{claimType:"REP_PRO_SO_REPORT"},canActivate:[S.a]}];let Ft=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(Bt),u.Bz]}),e})();var Qt=s(7423),Yt=s(9224),$t=s(7446),Mt=s(6856),jt=s(7322),zt=s(5245),Vt=s(7531),Jt=s(2181),wt=s(773),Ht=s(7108);let Kt=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,Ft,m.u5,Ht.m,Mt.FA,P.XK,Vt.c,jt.lN,Yt.QW,T.p0,i.TU,a.JX,Jt.Tx,zt.Ps,Qt.ot,b.LD,wt.Cq,A.Ll,A.x,$t.p9,U.t,m.UX]}),e})()},2679:(D,h,s)=>{s.d(h,{V:()=>m});var d=s(520),u=s(7221),S=s(5e3),p=s(8032);let m=(()=>{class i{constructor(o,c){this.http=o,this.commonHttpErrorService=c}getAllSalesOrder(o){const g=(new d.LE).set("Fields",o.fields).set("OrderBy",o.orderBy).set("PageSize",o.pageSize.toString()).set("Skip",o.skip.toString()).set("SearchQuery",o.searchQuery).set("name",o.name).set("orderNumber",o.orderNumber).set("customerName",o.customerName).set("fromDate",o.fromDate?o.fromDate.toDateString():"").set("toDate",o.toDate?o.toDate.toDateString():"").set("productId",o.productId?o.productId:"").set("customerId",o.customerId?o.customerId:"").set("status",o.status);return this.http.get("salesOrder",{params:g,observe:"response"})}getAllSalesOrderExcel(o){const g=(new d.LE).set("Fields",o.fields).set("OrderBy",o.orderBy).set("PageSize",0).set("Skip",0).set("SearchQuery",o.searchQuery).set("name",o.name).set("orderNumber",o.orderNumber).set("customerName",o.customerName).set("fromDate",o.fromDate?o.fromDate.toDateString():"").set("toDate",o.toDate?o.toDate.toDateString():"").set("productId",o.productId?o.productId:"").set("customerId",o.customerId?o.customerId:"");return this.http.get("salesOrder",{params:g,observe:"response"})}addSalesOrder(o){return this.http.post("salesOrder",o).pipe((0,u.K)(this.commonHttpErrorService.handleError))}updateSalesOrder(o){return this.http.put(`salesOrder/${o.id}`,o).pipe((0,u.K)(this.commonHttpErrorService.handleError))}updateSalesOrderReturn(o){return this.http.put(`salesOrder/${o.id}/return`,o).pipe((0,u.K)(this.commonHttpErrorService.handleError))}deleteSalesOrder(o){return this.http.delete(`salesOrder/${o}`).pipe((0,u.K)(this.commonHttpErrorService.handleError))}getNewSalesOrderNumber(){return this.http.get("salesOrder/newOrderNumber")}getSalesOrderById(o){return this.http.get(`salesOrder/${o}`)}getSalesOrderItems(o,c=!1){return this.http.get(`salesOrder/${o}/items?isReturn=${c}`)}downloadAttachment(o){return this.http.get(`salesOrderAttachment/${o}/download`,{reportProgress:!0,observe:"events",responseType:"blob"})}getSalesOrderItemReport(o){const g=(new d.LE).set("Fields",o.fields).set("OrderBy",o.orderBy).set("PageSize",o.pageSize.toString()).set("Skip",o.skip.toString()).set("SearchQuery",o.searchQuery).set("name",o.name).set("orderNumber",o.orderNumber).set("customerName",o.customerName).set("fromDate",o.fromDate?o.fromDate.toDateString():"").set("toDate",o.toDate?o.toDate.toDateString():"").set("productId",o.productId?o.productId:"").set("productName",o.productName?o.productName:"").set("customerId",o.customerId?o.customerId:"").set("isSalesOrderRequest",o.isSalesOrderRequest);return this.http.get("salesOrder/items/reports",{params:g,observe:"response"})}}return i.\u0275fac=function(o){return new(o||i)(S.LFG(d.eN),S.LFG(p.U))},i.\u0275prov=S.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},2989:(D,h,s)=>{s.d(h,{r:()=>m});const u=[{id:0,name:"Paid"},{id:1,name:"Pending"},{id:2,name:"Partial"}];var S=s(5e3),p=s(6107);let m=(()=>{class i{constructor(o){this.translationService=o}transform(o,...c){const g=u.find(C=>C.id==o);return g?this.translationService.getValue(g.name.replace(" ","_").toUpperCase()):""}}return i.\u0275fac=function(o){return new(o||i)(S.Y36(p.D,16))},i.\u0275pipe=S.Yjl({name:"paymentStatus",type:i,pure:!0}),i})()}}]);
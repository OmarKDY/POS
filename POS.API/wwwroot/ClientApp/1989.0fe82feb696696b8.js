"use strict";(self.webpackChunkposadminportal=self.webpackChunkposadminportal||[]).push([[1989],{1989:(te,u,m)=>{m.r(u),m.d(u,{EmailTemplateModule:()=>K});var T=m(9808),r=m(2554),d=m(319),E=m(1490),e=m(5e3),p=m(2069),h=m(2290),L=m(5485),g=m(6107),_=m(9785),b=m(226),o=m(2075),A=m(1062);function Z(t,i){1&t&&(e.TgZ(0,"a",14),e._UZ(1,"i",15),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&t&&(e.Q6J("routerLink","/emailtemplate/add"),e.xp6(2),e.hij(" ",e.lcZ(3,2,"ADD_EMAIL_TEMPLATE")," "))}function M(t,i){1&t&&(e.TgZ(0,"th",16),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ACTION")," "))}const C=function(t){return["/emailtemplate",t]};function x(t,i){if(1&t&&(e.TgZ(0,"a",20),e._UZ(1,"i",21),e.TgZ(2,"span",22),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&t){const a=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(4,C,a.id)),e.xp6(3),e.hij(" ",e.lcZ(4,2,"EDIT"),"")}}function S(t,i){if(1&t){const a=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(a);const n=e.oxw().$implicit,c=e.oxw();return e.KtG(c.delteEmailTemplate(n))}),e._UZ(1,"i",24),e.TgZ(2,"span",22),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"DELETE"),""))}function U(t,i){1&t&&(e.TgZ(0,"td",17),e.YNc(1,x,5,6,"a",18),e.YNc(2,S,5,3,"button",19),e.qZA()),2&t&&(e.xp6(1),e.Q6J("hasClaim","EMAIL_MANAGE_EMAIL_TEMPLATES"),e.xp6(1),e.Q6J("hasClaim","EMAIL_MANAGE_EMAIL_TEMPLATES"))}function I(t,i){1&t&&(e.TgZ(0,"th",16),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"NAME")," "))}function D(t,i){if(1&t&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&t){const a=i.$implicit;e.xp6(1),e.hij(" ",a.name," ")}}function j(t,i){1&t&&(e.TgZ(0,"th",16),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SUBJECT")," "))}function y(t,i){if(1&t&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&t){const a=i.$implicit;e.xp6(1),e.hij(" ",a.subject," ")}}function N(t,i){1&t&&e._UZ(0,"tr",25)}function F(t,i){1&t&&e._UZ(0,"tr",26)}let Y=(()=>{class t extends E.H{constructor(a,l,n,c){super(c),this.emailTemplateService=a,this.toastrService=l,this.commonDialogService=n,this.translationService=c,this.emailTemplates=[],this.displayedColumns=["action","name","subject"],this.getLangDir()}ngOnInit(){this.getEmailTemplates()}delteEmailTemplate(a){const l=this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE");this.sub$.sink=this.commonDialogService.deleteConformationDialog(`${l}:: ${a.name}`).subscribe(n=>{n&&(this.sub$.sink=this.emailTemplateService.deleteEmailTemplate(a).subscribe(()=>{this.toastrService.success(this.translationService.getValue("EMAIL_TEMPLATE_DELETED_SUCCESSFULLY")),this.getEmailTemplates()}))})}getEmailTemplates(){this.sub$.sink=this.emailTemplateService.getEmailTemplates().subscribe(a=>{this.emailTemplates=a},a=>{a.messages.forEach(l=>{this.toastrService.error(l)})})}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(p.P),e.Y36(h._W),e.Y36(L.V),e.Y36(g.D))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-email-template-list"]],features:[e.qOj],decls:22,vars:9,consts:[[1,"page-header-main"],[1,"row","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto"],[1,"content-header"],["class","btn blue-btn btn-sm m-right-10","routerLinkActive","router-link-active","routerLinkActive","router-link-active",3,"routerLink",4,"hasClaim"],[1,"table-responsive"],["mat-table","",1,"table","table-bordered","table-hover",3,"dir","dataSource"],["matColumnDef","action"],["class","table-column-300","mat-header-cell","",4,"matHeaderCellDef"],["class","table-column-300","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","subject"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["routerLinkActive","router-link-active","routerLinkActive","router-link-active",1,"btn","blue-btn","btn-sm","m-right-10",3,"routerLink"],[1,"fas","fa-plus"],["mat-header-cell","",1,"table-column-300"],["mat-cell","",1,"table-column-300"],["routerLinkActive","router-link-active","class","btn btn-success btn-sm m-right-10","type","button",3,"routerLink",4,"hasClaim"],["class","btn btn-danger btn-sm",3,"click",4,"hasClaim"],["routerLinkActive","router-link-active","type","button",1,"btn","btn-success","btn-sm","m-right-10",3,"routerLink"],[1,"fas","fa-pen"],[1,"d-none","d-sm-inline"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash-alt"],["mat-header-row",""],["mat-row",""]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"div",2),e.YNc(8,Z,4,4,"a",4),e.qZA()()(),e.TgZ(9,"div",5)(10,"table",6),e.ynx(11,7),e.YNc(12,M,3,3,"th",8),e.YNc(13,U,3,2,"td",9),e.BQk(),e.ynx(14,10),e.YNc(15,I,3,3,"th",8),e.YNc(16,D,2,1,"td",9),e.BQk(),e.ynx(17,11),e.YNc(18,j,3,3,"th",8),e.YNc(19,y,2,1,"td",9),e.BQk(),e.YNc(20,N,1,0,"tr",12),e.YNc(21,F,1,0,"tr",13),e.qZA()()),2&a&&(e.xp6(5),e.hij(" ",e.lcZ(6,7,"EMAIL_TEMPLATE"),""),e.xp6(3),e.Q6J("hasClaim","EMAIL_MANAGE_EMAIL_TEMPLATES"),e.xp6(2),e.Q6J("dir",l.langDir)("dataSource",l.emailTemplates),e.xp6(10),e.Q6J("matHeaderRowDef",l.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",l.displayedColumns))},dependencies:[r.yS,r.Od,_.d,b.Lv,o.BZ,o.fO,o.as,o.w1,o.Dz,o.nj,o.ge,o.ev,o.XQ,o.Gk,A.X$]}),t})();var s=m(3075),k=m(7757),f=m(9618);function J(t,i){1&t&&(e.TgZ(0,"h1"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ADD_EMAIL_TEMPLATE")," "))}function Q(t,i){1&t&&(e.TgZ(0,"h1"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"EDIT_EMAIL_TEMPLATE")," "))}function R(t,i){1&t&&(e.TgZ(0,"div",9),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"EMAIL_TEMPLATE_NAME_IS_REQUIRED")," "))}function q(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,R,3,3,"div",17),e.qZA()),2&t){const a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.emailTemplateForm.get("name").errors?null:a.emailTemplateForm.get("name").errors.required)}}function P(t,i){1&t&&(e.TgZ(0,"div",9),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SUBJECT_IS_REQUIRED")," "))}function O(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,P,3,3,"div",17),e.qZA()),2&t){const a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.emailTemplateForm.get("subject").errors?null:a.emailTemplateForm.get("subject").errors.required)}}function B(t,i){1&t&&(e.TgZ(0,"div",9),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"BODY_IS_REQUIRED")," "))}function $(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,B,3,3,"div",17),e.qZA()),2&t){const a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.emailTemplateForm.get("body").errors?null:a.emailTemplateForm.get("body").errors.required)}}function w(t,i){if(1&t){const a=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(a);const n=e.oxw();return e.KtG(n.addUpdateEmailTemplate())}),e._UZ(1,"i",19),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"SAVE")," "))}const G=function(){return["/emailtemplate"]},z=[{path:"",component:Y,data:{claimType:"EMAIL_MANAGE_EMAIL_TEMPLATES"},canActivate:[d.a]},{path:":id",component:(()=>{class t extends E.H{constructor(a,l,n,c,ee,v){super(v),this.fb=a,this.route=l,this.emailTemplateService=n,this.router=c,this.toastrService=ee,this.translationService=v,this.editorConfig=k.O,this.getLangDir()}ngOnInit(){this.createEmailTemplateForm(),this.getEmailResolverData()}getEmailResolverData(){this.sub$.sink=this.route.data.subscribe(a=>{a.emailTemplate&&(this.emailTemplate=a.emailTemplate,this.patchEmailTemplateData())})}addUpdateEmailTemplate(){if(this.emailTemplateForm.valid)this.sub$.sink=this.emailTemplate?this.emailTemplateService.updateEmailTemplate(this.createBuildObject()).subscribe(a=>{this.toastrService.success(this.translationService.getValue("EMAIL_TEMPLATE_UPDATED_SUCCESSFULLY")),this.router.navigate(["/emailtemplate"])}):this.emailTemplateService.addEmailTemplate(this.createBuildObject()).subscribe(a=>{this.toastrService.success(this.translationService.getValue("EMAIL_TEMPLATE_SAVE_SUCCESSFULLY")),this.router.navigate(["/emailtemplate"])});else for(let a in this.emailTemplateForm.controls)this.emailTemplateForm.get(a).markAsDirty(),this.emailTemplateForm.get(a).updateValueAndValidity()}createBuildObject(){return{id:this.emailTemplate?this.emailTemplate.id:null,name:this.emailTemplateForm.get("name").value,subject:this.emailTemplateForm.get("subject").value,body:this.emailTemplateForm.get("body").value}}createEmailTemplateForm(){this.emailTemplateForm=this.fb.group({name:["",[s.kI.required]],subject:["",[s.kI.required]],body:["",[s.kI.required]]})}patchEmailTemplateData(){this.emailTemplateForm.patchValue({name:this.emailTemplate.name,subject:this.emailTemplate.subject,body:this.emailTemplate.body})}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(s.QS),e.Y36(r.gz),e.Y36(p.P),e.Y36(r.F0),e.Y36(h._W),e.Y36(g.D))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-email-template-manage"]],features:[e.qOj],decls:41,vars:25,consts:[[1,"page-header-main"],[1,"row","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto"],[1,"content-header"],[4,"ngIf"],[3,"formGroup"],[1,"row"],[1,"col-sm-12"],[1,"form-group"],[1,"text-danger"],["formControlName","name","type","text",1,"form-control"],["formControlName","subject","type","text",1,"form-control"],["formControlName","body",3,"config"],[1,"mt-2","col-md-12"],["class","btn btn-success btn-sm m-right-10","cdkFocusInitial","",3,"click",4,"hasClaim"],["type","button",1,"btn","btn-danger","btn-sm",3,"routerLink"],[1,"las","la-times-circle"],["class","text-danger",4,"ngIf"],["cdkFocusInitial","",1,"btn","btn-success","btn-sm","m-right-10",3,"click"],[1,"las","la-save"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,J,3,3,"h1",4),e.YNc(5,Q,3,3,"h1",4),e.qZA()()()(),e.TgZ(6,"form",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"input",10),e.YNc(14,q,2,1,"div",4),e.qZA()()(),e.TgZ(15,"div",6)(16,"div",7)(17,"div",8)(18,"label",9),e._uU(19),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"input",11),e.YNc(22,O,2,1,"div",4),e.qZA()()(),e.TgZ(23,"div",6)(24,"div",7)(25,"div",8)(26,"label",9),e._uU(27),e.ALo(28,"translate"),e.TgZ(29,"span",9),e._uU(30),e.ALo(31,"translate"),e.qZA()(),e._UZ(32,"angular-editor",12),e.YNc(33,$,2,1,"div",4),e.qZA()()(),e.TgZ(34,"div",6)(35,"div",13),e.YNc(36,w,4,3,"button",14),e.TgZ(37,"button",15),e._UZ(38,"i",16),e._uU(39),e.ALo(40,"translate"),e.qZA()()()()),2&a&&(e.xp6(4),e.Q6J("ngIf",!l.emailTemplate),e.xp6(1),e.Q6J("ngIf",l.emailTemplate),e.xp6(1),e.Q6J("formGroup",l.emailTemplateForm),e.xp6(5),e.hij(" ",e.lcZ(12,14,"NAME")," *"),e.xp6(3),e.Q6J("ngIf",l.emailTemplateForm.get("name").dirty&&l.emailTemplateForm.get("name").errors),e.xp6(5),e.hij("",e.lcZ(20,16,"SUBJECT")," *"),e.xp6(3),e.Q6J("ngIf",l.emailTemplateForm.get("subject").dirty&&l.emailTemplateForm.get("subject").errors),e.xp6(5),e.hij(" ",e.lcZ(28,18,"BODY")," * "),e.xp6(3),e.hij(" ",e.lcZ(31,20,"WORD_MUST_BE_START_AND_END_WITH")," "),e.xp6(2),e.Q6J("config",l.editorConfig),e.xp6(1),e.Q6J("ngIf",l.emailTemplateForm.get("body").dirty&&l.emailTemplateForm.get("body").errors),e.xp6(3),e.Q6J("hasClaim","EMAIL_MANAGE_EMAIL_TEMPLATES"),e.xp6(1),e.Q6J("routerLink",e.DdM(24,G)),e.xp6(2),e.hij(" ",e.lcZ(40,22,"CANCEL")," "))},dependencies:[T.O5,r.rH,f.s6,_.d,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,A.X$]}),t})(),resolve:{emailTemplate:(()=>{class t{constructor(a){this.emailTemplateService=a}resolve(a,l){const n=a.paramMap.get("id");return"add"===n?null:this.emailTemplateService.getEmailTemplate(n)}}return t.\u0275fac=function(a){return new(a||t)(e.LFG(p.P))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},data:{claimType:["EMAIL_MANAGE_EMAIL_TEMPLATES","EMAIL_MANAGE_EMAIL_TEMPLATES"]},canActivate:[d.a]}];let X=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[r.Bz.forChild(z),r.Bz]}),t})();var W=m(7108);let K=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[T.ez,X,f.UM,W.m,s.UX,o.p0]}),t})()}}]);
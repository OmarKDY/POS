"use strict";(self.webpackChunkposadminportal=self.webpackChunkposadminportal||[]).push([[9182],{9182:(it,f,s)=>{s.r(f),s.d(f,{BrandModule:()=>at});var d=s(9808),_=s(2554),N=s(319),U=s(2868),u=s(1490),t=s(5e3),h=s(6944),p=s(6107),b=s(2290),v=s(2340),c=s(3075),m=s(2349),B=s(226),C=s(9785),g=s(9224),A=s(1062);function S(n,i){1&n&&(t.TgZ(0,"div",32),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"BRAND_NAME_IS_REQUIRED")," "))}function D(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,S,3,3,"div",31),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.brandForm.get("name").touched&&(null==e.brandForm.get("name").errors?null:e.brandForm.get("name").errors.required))}}function y(n,i){if(1&n&&t._UZ(0,"img",33),2&n){const e=t.oxw();t.Q6J("src",e.imgSrc,t.LSH)}}function M(n,i){1&n&&t._UZ(0,"img",34)}function E(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(e),t.oxw();const o=t.MAs(26);return t.KtG(o.click())}),t._UZ(1,"i",36),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"ADD_LOGO"),""))}function I(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(e),t.oxw();const o=t.MAs(26);return t.KtG(o.click())}),t._UZ(1,"i",36),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"CHANGE_LOGO"),""))}function R(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onRemoveImage())}),t._UZ(1,"i",39),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"REMOVE_LOGO"),""))}function Y(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveBrand())}),t._UZ(1,"i",41),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"SAVE")," "))}let J=(()=>{class n extends u.H{constructor(e,a,o,l,x,L){super(L),this.dialogRef=e,this.data=a,this.brandService=o,this.toastrService=l,this.fb=x,this.translationService=L,this.isEdit=!1,this.imgSrc=null,this.isImageUpload=!1,this.getLangDir()}ngOnInit(){this.createForm(),this.data.id?(this.brandForm.patchValue(this.data),this.isEdit=!0,this.data.imageUrl&&(this.imgSrc=`${v.N.apiUrl}${this.data.imageUrl}`)):this.imgSrc=""}createForm(){this.brandForm=this.fb.group({id:[""],name:["",c.kI.required]})}onFileSelect(e){const a=e.target.files[0];if(!a||null==a.type.match(/image\/*/))return;const l=new FileReader;l.readAsDataURL(a),l.onload=x=>{this.imgSrc=l.result,this.isImageUpload=!0,e.target.value=""}}onRemoveImage(){this.isImageUpload=!0,this.imgSrc=""}onCancel(){this.dialogRef.close()}saveBrand(){if(!this.brandForm.valid)return void this.brandForm.markAllAsTouched();const e=this.brandForm.value;e.imageUrlData=this.imgSrc,e.isImageChanged=this.isImageUpload,this.data.id?this.brandService.update(e).subscribe(()=>{this.toastrService.success(this.translationService.getValue("BRAND_SAVED_SUCCESSFULLY")),this.dialogRef.close()}):this.brandService.add(e).subscribe(()=>{this.toastrService.success(this.translationService.getValue("BRAND_SAVED_SUCCESSFULLY")),this.dialogRef.close()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.so),t.Y36(m.WI),t.Y36(h.c),t.Y36(b._W),t.Y36(c.QS),t.Y36(p.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-manage-brand"]],features:[t.qOj],decls:41,vars:21,consts:[[1,"modal-content1"],[1,"modal-header"],[1,"d-flex","w-100","align-items-center","justify-content-between"],[1,"col-md-9","col"],[1,"modal-title"],[1,"col-sm-auto","col-auto","ml-auto"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"fas","fa-times"],[3,"formGroup"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","brandName",1,"text-danger"],["formControlName","name","type","text","id","brandName",1,"form-control"],[4,"ngIf"],[1,"col-md-3","p-2"],[1,"cus-mat-card","text-center",3,"dir"],["hidden","","name","logo","type","file","name","Profile Image","fxFlex","30",3,"change"],["fileInput",""],["class","full-width",3,"src",4,"ngIf"],["class","full-width","src","assets/images/no-preview.jpg",4,"ngIf"],["type","button","class","btn btn-success btn-sm m-right-15",3,"click",4,"ngIf"],["type","button","class","btn btn-success btn-sm m-right-10",3,"click",4,"ngIf"],["type","button","class","btn btn-danger btn-sm",3,"click",4,"ngIf"],[1,"modal-footer"],[1,"form-row","w-100"],[1,"col-md-auto","col-auto"],["class","btn btn-success btn-sm m-right-10","cdkFocusInitial","",3,"click",4,"hasClaim"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-times-circle"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"full-width",3,"src"],["src","assets/images/no-preview.jpg",1,"full-width"],["type","button",1,"btn","btn-success","btn-sm","m-right-15",3,"click"],[1,"far","fa-image"],["type","button",1,"btn","btn-success","btn-sm","m-right-10",3,"click"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash-alt"],["cdkFocusInitial","",1,"btn","btn-success","btn-sm","m-right-10",3,"click"],[1,"fas","fa-save"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return a.onCancel()}),t._UZ(9,"i",7),t.qZA()()()(),t.TgZ(10,"form",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),t._uU(16),t.ALo(17,"translate"),t.qZA(),t._UZ(18,"input",14),t.YNc(19,D,2,1,"div",15),t.qZA()()(),t.TgZ(20,"div",16)(21,"label"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"mat-card",17)(25,"input",18,19),t.NdJ("change",function(l){return a.onFileSelect(l)}),t.qZA(),t.YNc(27,y,1,1,"img",20),t.YNc(28,M,1,0,"img",21),t.TgZ(29,"mat-card-actions"),t.YNc(30,E,4,3,"button",22),t.YNc(31,I,4,3,"button",23),t.YNc(32,R,4,3,"button",24),t.qZA()()()(),t.TgZ(33,"div",25)(34,"div",26)(35,"div",27),t.YNc(36,Y,4,3,"button",28),t.TgZ(37,"button",29),t.NdJ("click",function(){return a.onCancel()}),t._UZ(38,"i",30),t._uU(39),t.ALo(40,"translate"),t.qZA()()()()()()),2&e&&(t.xp6(5),t.hij(" ",t.lcZ(6,13,"MANAGE_BRAND")," "),t.xp6(5),t.Q6J("formGroup",a.brandForm),t.xp6(6),t.hij("",t.lcZ(17,15,"BRAND_NAME")," *"),t.xp6(3),t.Q6J("ngIf",a.brandForm.get("name").touched&&a.brandForm.get("name").errors),t.xp6(3),t.hij(" ",t.lcZ(23,17,"UPLOAD_LOGO")," "),t.xp6(2),t.Q6J("dir",a.langDir),t.xp6(3),t.Q6J("ngIf",a.imgSrc),t.xp6(1),t.Q6J("ngIf",!a.imgSrc),t.xp6(2),t.Q6J("ngIf",!a.imgSrc),t.xp6(1),t.Q6J("ngIf",a.imgSrc),t.xp6(1),t.Q6J("ngIf",a.imgSrc),t.xp6(4),t.Q6J("hasClaim","PRO_MANAGE_BRAND"),t.xp6(3),t.hij(" ",t.lcZ(40,19,"CANCEL")," "))},dependencies:[d.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,B.Lv,C.d,g.a8,g.hq,A.X$]}),n})();var Z=s(6087),r=s(2075),F=s(5485),T=s(773);function O(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",17)(1,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.manageBrand({}))}),t._UZ(2,"i",19),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"ADD_BRAND")," "))}function w(n,i){1&n&&(t.TgZ(0,"div",20),t._UZ(1,"mat-spinner"),t.qZA())}function Q(n,i){1&n&&(t.TgZ(0,"th",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ACTION")," "))}function k(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,l=t.oxw();return t.KtG(l.manageBrand(o))}),t._UZ(1,"i",26),t.TgZ(2,"span",27),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"EDIT"),""))}function P(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,l=t.oxw();return t.KtG(l.deleteBrand(o))}),t._UZ(1,"i",29),t.TgZ(2,"span",27),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"DELETE"),""))}function j(n,i){1&n&&(t.TgZ(0,"td",22),t.YNc(1,k,5,3,"button",23),t.YNc(2,P,5,3,"button",24),t.qZA()),2&n&&(t.xp6(1),t.Q6J("hasClaim","PRO_MANAGE_BRAND"),t.xp6(1),t.Q6J("hasClaim","PRO_MANAGE_BRAND"))}function H(n,i){1&n&&t._UZ(0,"th",30)}function G(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"img",34),t.BQk()),2&n){const e=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.Q6J("src",a.baseUrl+e.imageUrl,t.LSH)}}function $(n,i){1&n&&t._UZ(0,"img",35)}function q(n,i){if(1&n&&(t.TgZ(0,"td",31),t.YNc(1,G,2,1,"ng-container",32),t.YNc(2,$,1,0,"ng-template",null,33,t.W1O),t.qZA()),2&n){const e=i.$implicit,a=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.imageUrl)("ngIfElse",a)}}function V(n,i){1&n&&(t.TgZ(0,"th",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NAME")," "))}function K(n,i){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function W(n,i){1&n&&t._UZ(0,"tr",36)}function X(n,i){1&n&&t._UZ(0,"tr",37)}let z=(()=>{class n extends u.H{constructor(e,a,o){super(o),this.dialog=e,this.commonDialogService=a,this.translationService=o,this.loading=!1,this.deleteBrandHandler=new t.vpe,this.dataSource=new r.by,this.displayedColumns=["action","imageUrl","name"],this.footerToDisplayed=["footer"],this.baseUrl=v.N.apiUrl,this.getLangDir()}set brands(e){this.dataSource=new r.by(e),this.dataSource.paginator=this.paginator}deleteBrand(e){const a=this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE");this.sub$.sink=this.commonDialogService.deleteConformationDialog(`${a} :: ${e.name}`).subscribe(o=>{o&&this.deleteBrandHandler.emit(e.id)})}manageBrand(e){this.dialog.open(J,{width:"110vh",direction:this.langDir,data:Object.assign({},e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.uw),t.Y36(F.V),t.Y36(p.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-brand-list-presentation"]],viewQuery:function(e,a){if(1&e&&t.Gf(Z.NW,7),2&e){let o;t.iGM(o=t.CRH())&&(a.paginator=o.first)}},inputs:{brands:"brands",loading:"loading"},outputs:{deleteBrandHandler:"deleteBrandHandler"},features:[t.qOj],decls:22,vars:10,consts:[[1,"page-header-main"],[1,"row","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto","col"],[1,"content-header"],["class","col-md-auto col-sm-auto col-auto",4,"hasClaim"],["class","loading-shade",4,"ngIf"],[1,"table-responsive"],["mat-table","",1,"table","table-bordered","table-hover",3,"dir","dataSource"],["matColumnDef","action"],["class","table-column-200","mat-header-cell","",4,"matHeaderCellDef"],["class","table-column-200","mat-cell","",4,"matCellDef"],["matColumnDef","imageUrl"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"col-md-auto","col-sm-auto","col-auto"],[1,"btn","blue-btn","btn-sm","m-right-10",3,"click"],[1,"fas","fa-plus"],[1,"loading-shade"],["mat-header-cell","",1,"table-column-200"],["mat-cell","",1,"table-column-200"],["class","btn btn-success btn-sm m-right-10","type","button",3,"click",4,"hasClaim"],["class","btn btn-danger btn-sm","type","button",3,"click",4,"hasClaim"],["type","button",1,"btn","btn-success","btn-sm","m-right-10",3,"click"],[1,"fas","fa-pencil-alt"],[1,"d-none","d-sm-inline"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash-alt"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["noImage",""],["alt","Brand Image",1,"img-thumbnail","brand-thumbnail","my-2",3,"src"],["src","assets//images/no-preview.jpg","alt","Brand Image",1,"img-thumbnail","brand-thumbnail","my-2"],["mat-header-row",""],["mat-row",""]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.YNc(7,O,5,3,"div",4),t.qZA()(),t.YNc(8,w,2,0,"div",5),t.TgZ(9,"div",6)(10,"table",7),t.ynx(11,8),t.YNc(12,Q,3,3,"th",9),t.YNc(13,j,3,2,"td",10),t.BQk(),t.ynx(14,11),t.YNc(15,H,1,0,"th",12),t.YNc(16,q,4,2,"td",13),t.BQk(),t.ynx(17,14),t.YNc(18,V,3,3,"th",12),t.YNc(19,K,2,1,"td",13),t.BQk(),t.YNc(20,W,1,0,"tr",15),t.YNc(21,X,1,0,"tr",16),t.qZA()()),2&e&&(t.xp6(5),t.Oqu(t.lcZ(6,8,"BRANDS")),t.xp6(2),t.Q6J("hasClaim","PRO_MANAGE_BRAND"),t.xp6(1),t.Q6J("ngIf",!a.loading),t.xp6(2),t.Q6J("dir",a.langDir)("dataSource",a.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",a.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns))},dependencies:[d.O5,B.Lv,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,T.Ou,C.d,A.X$],styles:[".brand-thumbnail[_ngcontent-%COMP%]{width:50px}"]}),n})();const tt=[{path:"",component:(()=>{class n extends u.H{constructor(e,a,o){super(a),this.brandService=e,this.translationService=a,this.toastrService=o}ngOnInit(){this.loading$=this.brandService.loaded$.pipe((0,U.b)(e=>{e||this.getBrands()})),this.brands$=this.brandService.entities$}getBrands(){this.brandService.getAll()}deleteBrand(e){this.sub$.sink=this.brandService.delete(e).subscribe(()=>{this.toastrService.success(this.translationService.getValue("BRAND_DELETED_SUCCESSFULLY"))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.c),t.Y36(p.D),t.Y36(b._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-brand-list"]],features:[t.qOj],decls:3,vars:6,consts:[[3,"brands","loading","deleteBrandHandler"]],template:function(e,a){1&e&&(t.TgZ(0,"app-brand-list-presentation",0),t.NdJ("deleteBrandHandler",function(l){return a.deleteBrand(l)}),t.ALo(1,"async"),t.ALo(2,"async"),t.qZA()),2&e&&t.Q6J("brands",t.lcZ(1,2,a.brands$))("loading",t.lcZ(2,4,a.loading$))},dependencies:[z,d.Ov]}),n})(),data:{claimType:"PRO_MANAGE_BRAND"},canActivate:[N.a]}];let nt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.Bz.forChild(tt),_.Bz]}),n})();var et=s(7108);let at=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,nt,c.UX,r.p0,T.Cq,m.Is,et.m,g.QW,Z.TU]}),n})()}}]);